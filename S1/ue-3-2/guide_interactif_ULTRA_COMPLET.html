<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Interactif Ultra-Complet UE 3.2</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .stats-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label {
            color: #666;
            margin-top: 10px;
            font-weight: 600;
        }
        
        nav {
            background: #2c3e50;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        nav a {
            padding: 12px 25px;
            background: #34495e;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        nav a:hover, nav a.active {
            background: #667eea;
            transform: scale(1.05);
        }
        
        .content { padding: 40px; }
        
        .progress-global {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .progress-bar-container {
            height: 40px;
            background: #e9ecef;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .search-filter {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 3px solid #667eea;
            border-radius: 30px;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        
        .filter-chips {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-chip {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .filter-chip:hover, .filter-chip.active {
            background: #667eea;
            color: white;
        }
        
        .td-section {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
        }
        
        .td-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .td-header h2 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .question-card {
            background: white;
            border-radius: 15px;
            padding: 35px;
            margin: 25px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 6px solid #667eea;
            transition: all 0.3s;
        }
        
        .question-card:hover {
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
            transform: translateX(5px);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .question-number {
            background: #667eea;
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .status-badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
        }
        
        .status-pending {
            background: #ffc107;
            color: #333;
        }
        
        .status-correct {
            background: #28a745;
            color: white;
        }
        
        .status-incorrect {
            background: #dc3545;
            color: white;
        }
        
        .status-partial {
            background: #ff9800;
            color: white;
        }
        
        .question-content {
            font-size: 1.25em;
            color: #2c3e50;
            margin: 25px 0;
            font-weight: 600;
            line-height: 1.6;
            white-space: pre-line;
        }
        
        .schema-zone {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 4px dashed #667eea;
            border-radius: 20px;
            padding: 40px;
            margin: 25px 0;
            text-align: center;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .schema-upload {
            margin-top: 20px;
        }
        
        .schema-upload input[type="file"] {
            display: none;
        }
        
        .schema-upload-btn {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .schema-upload-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
        
        .schema-preview {
            max-width: 100%;
            max-height: 500px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            margin-top: 20px;
        }
        
        .answer-input-zone {
            background: #e8f4f8;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
        }
        
        .input-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
            display: block;
            font-size: 1.1em;
        }
        
        .answer-input {
            width: 100%;
            padding: 15px 20px;
            border: 3px solid #667eea;
            border-radius: 12px;
            font-size: 1.05em;
            font-family: inherit;
            transition: all 0.3s;
            margin-bottom: 20px;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
        
        .answer-textarea {
            min-height: 180px;
            resize: vertical;
        }
        
        .multi-input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .input-group {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .input-group label {
            font-size: 0.95em;
            color: #666;
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .btn-validate {
            background: #28a745;
            color: white;
        }
        
        .btn-auto-validate {
            background: #ff9800;
            color: white;
        }
        
        .btn-show-answer {
            background: #007bff;
            color: white;
        }
        
        .btn-reset {
            background: #6c757d;
            color: white;
        }
        
        .feedback-zone {
            margin-top: 25px;
            padding: 25px;
            border-radius: 15px;
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .feedback-zone.show {
            display: block;
        }
        
        .feedback-correct {
            background: #d4edda;
            border-left: 6px solid #28a745;
        }
        
        .feedback-incorrect {
            background: #f8d7da;
            border-left: 6px solid #dc3545;
        }
        
        .feedback-partial {
            background: #fff3cd;
            border-left: 6px solid #ffc107;
        }
        
        .feedback-title {
            font-weight: bold;
            font-size: 1.4em;
            margin-bottom: 15px;
        }
        
        .feedback-details {
            margin: 15px 0;
            line-height: 1.8;
        }
        
        .keywords-found {
            color: #28a745;
            font-weight: 600;
        }
        
        .keywords-missing {
            color: #dc3545;
            font-weight: 600;
        }
        
        .score-display {
            font-size: 1.5em;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .correction-section {
            background: #e7f3ff;
            border-left: 6px solid #007bff;
            padding: 30px;
            margin-top: 25px;
            border-radius: 15px;
            display: none;
        }
        
        .correction-section.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        
        .correction-section h4 {
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .correction-content {
            line-height: 1.9;
            color: #2c3e50;
            white-space: pre-line;
        }
        
        .definition-box {
            background: #e7f3ff;
            border-left: 5px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        
        .definition-box strong {
            color: #007bff;
            font-size: 1.1em;
        }
        
        .key-concept {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        
        .key-concept::before {
            content: "üí° ";
            font-size: 1.3em;
        }
        
        .important-note {
            background: #ffe6e6;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        
        .important-note::before {
            content: "‚ö†Ô∏è ";
            font-size: 1.3em;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 15px 18px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 40px;
        }
        
        @media (max-width: 768px) {
            header h1 { font-size: 2em; }
            .content { padding: 20px; }
            .action-buttons { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéì Guide Interactif Ultra-Complet</h1>
            <p style="font-size: 1.3em;">UE 3.2 - Physique Appliqu√©e et Technologie en Imagerie Radiologique</p>
            <p>Semestre 1 - 2025 | 50+ Questions | Validation par mots-cl√©s | Upload sch√©mas</p>
        </header>

        <div class="stats-dashboard">
            <div class="stat-card">
                <div class="stat-number" id="totalQuestions">0</div>
                <div class="stat-label">Questions totales</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="answeredQuestions">0</div>
                <div class="stat-label">R√©pondues</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="correctQuestions">0</div>
                <div class="stat-label">Correctes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="scorePercentage">0%</div>
                <div class="stat-label">Score global</div>
            </div>
        </div>
        
        <nav>
            <ul>
                <li><a href="#td1" onclick="setActiveTab(event)">TD1 (15Q)</a></li>
                <li><a href="#td2" onclick="setActiveTab(event)">TD2 (4Q)</a></li>
                <li><a href="#td3" onclick="setActiveTab(event)">TD3 (6Q)</a></li>
                <li><a href="#td4" onclick="setActiveTab(event)">TD4 (5Q)</a></li>
                <li><a href="#td5" onclick="setActiveTab(event)">TD5 (6Q)</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <div class="progress-global">
                <h3>üìä Progression Globale</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="globalProgress" style="width: 0%">0%</div>
                </div>
            </div>
            
            <div class="search-filter">
                <input type="text" class="search-input" id="searchInput" 
                       placeholder="üîç Rechercher une question, un concept, un mot-cl√©..." 
                       onkeyup="searchQuestions()">
                <div class="filter-chips">
                    <button class="filter-chip active" onclick="filterQuestions('all')">Toutes</button>
                    <button class="filter-chip" onclick="filterQuestions('pending')">Non r√©pondues</button>
                    <button class="filter-chip" onclick="filterQuestions('correct')">Correctes ‚úì</button>
                    <button class="filter-chip" onclick="filterQuestions('incorrect')">Incorrectes ‚úó</button>
                    <button class="filter-chip" onclick="filterQuestions('partial')">Partielles ‚âà</button>
                </div>
            </div>

            <section class="td-section" id="td1">
                <div class="td-header">
                    <h2>TD1 - Production des Rayons X, G√©n√©rateur et Tube</h2>
                    <p>14 novembre 2025 | 15 questions</p>
                </div>

                <div class="question-card" data-question-id="td1-q1" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span class="status-badge status-pending" id="status-td1-q1">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">D√©finir l'atome et sa composition. Annoter le mod√®le de Bohr.</div>

                    <div class="schema-zone" id="schema-td1-q1">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Mod√®le de Bohr avec noyau et couches √©lectroniques (n=1, n=2, n=3)
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q1" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q1" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q1', event)">
                        </div>
                        <img id="schema-preview-td1-q1" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q1" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q1')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q1')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q1')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q1')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q1"></div>
                    
                    <div class="correction-section" id="correction-td1-q1">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">L'atome est la plus petite particule d'un √©l√©ment chimique qui conserve les propri√©t√©s de cet √©l√©ment.

Composition:
- Noyau central contenant: Protons (charge +) et Neutrons (charge neutre)
- √âlectrons (charge -) gravitant sur des couches √©lectroniques (K, L, M, N...)

Mod√®le de Bohr: Les √©lectrons occupent des couches d√©finies avec des niveaux d'√©nergie croissants.</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q2" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span class="status-badge status-pending" id="status-td1-q2">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">D√©finir l'√©nergie de liaison</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q2" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q2')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q2')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q2')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q2')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q2"></div>
                    
                    <div class="correction-section" id="correction-td1-q2">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">L'√©nergie de liaison est l'√©nergie n√©cessaire pour arracher un √©lectron de sa couche √©lectronique et l'√©loigner √† l'infini du noyau.

Points cl√©s:
- Plus la couche est proche du noyau, plus l'√©nergie de liaison est √©lev√©e
- Couche K (n=1): √©nergie de liaison maximale
- Les couches externes ont une √©nergie de liaison plus faible</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q3" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span class="status-badge status-pending" id="status-td1-q3">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Qu'est-ce qui se passe quand l'atome re√ßoit un apport ext√©rieur d'√©nergie?</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q3" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q3')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q3')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q3')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q3')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q3"></div>
                    
                    <div class="correction-section" id="correction-td1-q3">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Deux ph√©nom√®nes possibles:

1. EXCITATION: Si E < E_liaison ‚Üí l'√©lectron passe sur une couche sup√©rieure puis revient √† sa place en √©mettant un photon

2. IONISATION: Si E ‚â• E_liaison ‚Üí l'√©lectron est √©ject√© de l'atome qui devient un ion positif</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q4" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span class="status-badge status-pending" id="status-td1-q4">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">1. D√©finissez les rayons X
2. D√©finissez les rayonnements ionisants
3. Diff√©rence entre rayons X et Gamma</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q4" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q4')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q4')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q4')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q4')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q4"></div>
                    
                    <div class="correction-section" id="correction-td1-q4">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">1. RAYONS X: Ondes √©lectromagn√©tiques de haute fr√©quence (longueur d'onde 5pm-10nm), rayonnements ionisants

2. RAYONNEMENTS IONISANTS: Rayonnements √©mettant une √©nergie suffisante pour transformer les atomes en ions, rendant la mati√®re instable

3. DIFF√âRENCE X / GAMMA:
- Rayons X: origine EXTRA-NUCL√âAIRE (cort√®ge √©lectronique), production artificielle
- Rayons Gamma: origine NUCL√âAIRE (noyau atomique), production naturelle ou artificielle</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q5" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 5</span>
                        <span class="status-badge status-pending" id="status-td1-q5">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Compl√©tez: La production des RX fait suite √† une... contre une...
Citez les 2 modes de production des rayons X</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q5" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q5')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q5')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q5')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q5')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q5"></div>
                    
                    <div class="correction-section" id="correction-td1-q5">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">La production des RX fait suite √† une D√âC√âL√âRATION BRUTALE D'√âLECTRONS contre une CIBLE M√âTALLIQUE (ANODE).

2 modes de production:

1. RAYONNEMENT DE FREINAGE (99%):
- Interaction √©lectron-noyau
- Spectre continu
- D√©pend du kV

2. RAYONNEMENT CARACT√âRISTIQUE (1%):
- Interaction √©lectron-√©lectron
- Spectre de raies
- Caract√©ristique de la cible</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q6" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 6</span>
                        <span class="status-badge status-pending" id="status-td1-q6">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Nommez et explicitez le rayonnement de freinage (Bremsstrahlung)</div>

                    <div class="schema-zone" id="schema-td1-q6">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            √âlectron incident d√©vi√© par le noyau avec √©mission de RX
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q6" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q6" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q6', event)">
                        </div>
                        <img id="schema-preview-td1-q6" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q6" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q6')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q6')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q6')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q6')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q6"></div>
                    
                    <div class="correction-section" id="correction-td1-q6">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">RAYONNEMENT DE FREINAGE (Bremsstrahlung)

M√©canisme:
1. √âlectron incident passe pr√®s d'un noyau
2. Attir√© par la charge positive
3. D√©viation importante de trajectoire
4. Perte d'√©nergie cin√©tique
5. Conversion en rayonnement X

Caract√©ristiques:
- Spectre CONTINU
- √ânergie: 0 √† Emax (= √©nergie √©lectron)
- 99% de la production RX
- D√©pend du kV</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q7" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 7</span>
                        <span class="status-badge status-pending" id="status-td1-q7">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Nommez et explicitez le rayonnement caract√©ristique</div>

                    <div class="schema-zone" id="schema-td1-q7">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            √âjection √©lectron couche K, r√©arrangement avec √©mission RX
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q7" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q7" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q7', event)">
                        </div>
                        <img id="schema-preview-td1-q7" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q7" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q7')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q7')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q7')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q7')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q7"></div>
                    
                    <div class="correction-section" id="correction-td1-q7">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">RAYONNEMENT CARACT√âRISTIQUE (de fluorescence)

M√©canisme:
1. √âlectron incident √©jecte un √©lectron de couche profonde
2. Cr√©ation d'une lacune
3. √âlectron d'une couche sup√©rieure comble la lacune
4. Diff√©rence d'√©nergie √©mise sous forme de photon X

Caract√©ristiques:
- Spectre de RAIES (KŒ±, KŒ≤, LŒ±...)
- √ânergies discr√®tes et caract√©ristiques de l'√©l√©ment
- 1% de la production
- Raies superpos√©es au spectre continu</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q8" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 8</span>
                        <span class="status-badge status-pending" id="status-td1-q8">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Annotez le sch√©ma du tube √† rayons X (10 √©l√©ments)</div>

                    <div class="schema-zone" id="schema-td1-q8">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma complet tube RX avec cathode, anode, enceinte, gaine
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q8" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q8" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q8', event)">
                        </div>
                        <img id="schema-preview-td1-q8" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q8" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q8')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q8')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q8')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q8')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q8"></div>
                    
                    <div class="correction-section" id="correction-td1-q8">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">√âl√©ments du tube √† RX:

1. CATHODE: P√¥le n√©gatif, contient le filament
2. FILAMENT: Tungst√®ne chauff√©, source d'√©lectrons (effet thermo√©lectronique)
3. DDP: Acc√©l√®re les √©lectrons (kV)
4. FILTRE: Aluminium ‚â•2.5mm, √©limine RX basse √©nergie
5. DIAPHRAGME: D√©limite le faisceau
6. RAYONS X: Faisceau √©mis
7. REFROIDISSEMENT: Huile circulante, dissipe 99% chaleur
8. ANODE: Tungst√®ne, cible, produit les RX (1% √©nergie)
9. ENCEINTE: Vide pouss√©
10. GAINE PLOMB√âE: Protection rayonnements parasites</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q9" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 9</span>
                        <span class="status-badge status-pending" id="status-td1-q9">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Tableau des 6 √©tapes de production des RX dans le tube (localisation, effet, m√©canisme)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q9" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q9')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q9')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q9')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q9')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q9"></div>
                    
                    <div class="correction-section" id="correction-td1-q9">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">6 √âTAPES:

1. √âMISSION e‚Åª (Cathode/Filament)
   - Effet thermo√©lectronique
   - Chauffage ‚Üí √©mission √©lectrons

2. ACC√âL√âRATION (Cathode-Anode)
   - DDP appliqu√©e (kV)
   - √âlectrons acc√©l√©r√©s

3. PRODUCTION RX (Foyer anode)
   - Freinage + Fluorescence
   - 99% chaleur + 1% RX

4. ORIENTATION (Anode inclin√©e)
   - Effet talon
   - Angle 12-20¬∞ dirige RX

5. FILTRATION (Sortie tube)
   - Filtre Al ‚â•2.5mm
   - Durcissement du faisceau

6. FOCALISATION (Diaphragme)
   - Limitation faisceau
   - R√©duit diffusion</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q10" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 10</span>
                        <span class="status-badge status-pending" id="status-td1-q10">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Identifiez les 2 foyers sur photo et pr√©cisez les zones anatomiques</div>

                    <div class="schema-zone" id="schema-td1-q10">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q10" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q10" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q10', event)">
                        </div>
                        <img id="schema-preview-td1-q10" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q10" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q10')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q10')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q10')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q10')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q10"></div>
                    
                    <div class="correction-section" id="correction-td1-q10">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">1. PETIT FOYER (< 70 kV)
   - Zones peu √©paisses
   - Petites surfaces
   - Structures fines
   - Ex: Extr√©mit√©s, p√©diatrie

2. GRAND FOYER (‚â• 70 kV)
   - Zones √©paisses
   - Grandes surfaces
   - Structures denses
   - Ex: Thorax, abdomen, bassin</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q11" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 11</span>
                        <span class="status-badge status-pending" id="status-td1-q11">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Positionnez foyer thermique et optique. Renseignez le tableau (autre nom, correspondance, dimensions)</div>

                    <div class="schema-zone" id="schema-td1-q11">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q11" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q11" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q11', event)">
                        </div>
                        <img id="schema-preview-td1-q11" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q11" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q11')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q11')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q11')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q11')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q11"></div>
                    
                    <div class="correction-section" id="correction-td1-q11">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">FOYER THERMIQUE:
- Autre nom: Foyer r√©el
- Correspondance: Surface anode bombard√©e par e‚Åª
- Dimensions: Plus grande (ex: 12mm)
- R√¥le: Dissiper la chaleur

FOYER OPTIQUE:
- Autre nom: Foyer apparent/effectif
- Correspondance: Projection perpendiculaire du foyer thermique
- Dimensions: Plus petite (ex: 1-2mm)
- R√¥le: D√©finir nettet√© image

Formule: Foyer optique = Foyer thermique √ó sin(angle anode)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q12" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 12</span>
                        <span class="status-badge status-pending" id="status-td1-q12">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Compl√©tez le texte sur le g√©n√©rateur</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q12" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q12')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q12')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q12')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q12')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q12"></div>
                    
                    <div class="correction-section" id="correction-td1-q12">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Le g√©n√©rateur regroupe tous les circuits √âLECTRIQUES et √âLECTRONIQUES qui alimentent le tube √† RX.

Son r√¥le:
- Appliquer une TENSION U (kV) au tube
- Chauffer la cathode pour obtenir l'INTENSIT√â I (mA) d√©sir√©e
- D√©terminer le temps de l'EXPOSITION (s)
- Assurer la PROTECTION du tube

Il est contenu dans une ENCEINTE PLOMB√âE et contr√¥l√© par un PUPITRE DE COMMANDE.</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q13" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 13</span>
                        <span class="status-badge status-pending" id="status-td1-q13">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">1. D√©finissez l'image radiante
2. Citez les 3 facteurs d'att√©nuation RX
3. Reliez niveaux de gris et milieux organiques</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q13" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q13')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q13')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q13')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q13')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q13"></div>
                    
                    <div class="correction-section" id="correction-td1-q13">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">1. IMAGE RADIANTE: Image form√©e par les RX ayant travers√© le patient, variant selon l'att√©nuation des diff√©rents tissus

2. 3 FACTEURS D'ATT√âNUATION:
   - √ânergie des photons (kV)
   - √âpaisseur du milieu travers√©
   - Densit√© et num√©ro atomique du milieu

3. NIVEAUX DE GRIS:
   - NOIR: Air (faible att√©nuation)
   - GRIS FONC√â: Graisse
   - GRIS MOYEN: Eau, tissus mous
   - GRIS CLAIR: Os
   - BLANC: M√©tal (forte att√©nuation)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q14" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 14</span>
                        <span class="status-badge status-pending" id="status-td1-q14">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Nommez et explicitez l'effet photo√©lectrique</div>

                    <div class="schema-zone" id="schema-td1-q14">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q14" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q14" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q14', event)">
                        </div>
                        <img id="schema-preview-td1-q14" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q14" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q14')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q14')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q14')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q14')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q14"></div>
                    
                    <div class="correction-section" id="correction-td1-q14">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">EFFET PHOTO√âLECTRIQUE

M√©canisme:
1. Photon X c√®de TOUTE son √©nergie √† un √©lectron
2. √âlectron √©ject√© si E_photon > E_liaison
3. Atome ionis√© et excit√©
4. R√©arrangement √©lectronique
5. √âmission photon de fluorescence

Caract√©ristiques:
- Pr√©pond√©rant aux BASSES tensions (50-70 kV)
- Favoris√© dans milieux DENSES (os, Ca, I, Ba)
- Origine du CONTRASTE radiologique
- Base de l'imagerie diagnostique</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td1-q15" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 15</span>
                        <span class="status-badge status-pending" id="status-td1-q15">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Nommez et explicitez l'effet Compton</div>

                    <div class="schema-zone" id="schema-td1-q15">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td1-q15" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td1-q15" accept="image/*" 
                                   onchange="handleSchemaUpload('td1-q15', event)">
                        </div>
                        <img id="schema-preview-td1-q15" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td1-q15" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td1-q15')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td1-q15')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td1-q15')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td1-q15')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td1-q15"></div>
                    
                    <div class="correction-section" id="correction-td1-q15">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">EFFET COMPTON (diffusion)

M√©canisme:
1. Photon X c√®de UNE PARTIE de son √©nergie √† un √©lectron
2. √âlectron √©ject√© (√©lectron Compton)
3. Photon X d√©vi√© avec √©nergie r√©duite (photon diffus√©)
4. Photon diffus√© continue dans autre direction

Caract√©ristiques:
- Pr√©pond√©rant aux HAUTES tensions (>100 kV)
- Favoris√© dans milieux PEU DENSES (tissus mous, graisse)
- Origine du RAYONNEMENT DIFFUS√â
- D√©grade le CONTRASTE
- Augmente la DOSE au patient et op√©rateur</div>
                    </div>
                </div>

            </section>

            <section class="td-section" id="td2">
                <div class="td-header">
                    <h2>TD2 - Ost√©odensitom√©trie et Indicateurs de Dose</h2>
                    <p>21 novembre 2025 | 4 questions</p>
                </div>

                <div class="question-card" data-question-id="td2-q1" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span class="status-badge status-pending" id="status-td2-q1">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Tableau complet sur l'ost√©odensitom√©trie (d√©finition, DMO, principe, technologie, √©nergies, g√©om√©tries, d√©tecteurs)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td2-q1" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td2-q1')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td2-q1')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td2-q1')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td2-q1')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td2-q1"></div>
                    
                    <div class="correction-section" id="correction-td2-q1">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">OST√âODENSITOM√âTRIE:
- D√©finition: Examen mesurant la densit√© min√©rale osseuse (DMO)
- DMO: Densit√© Min√©rale Osseuse en g/cm¬≤
- Principe: Loi d'absorption - Att√©nuation photons par mati√®re
- Technologie: Absorption biphotonique (2 √©nergies diff√©rentes)
- √ânergies: 70/140 kV ou 100/140 kV
- Obtention: Variation tension OU tension constante + filtration terre rare
- 3 g√©om√©tries: Faisceau droit, √©ventail √©troit, √©ventail large
- 2 d√©tecteurs: Conversion indirecte (scintillateur+photodiode) / Conversion directe (semi-conducteur)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td2-q2" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span class="status-badge status-pending" id="status-td2-q2">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Tableau indicateurs dosim√©triques en radiologie (PDS, unit√©, valeur, document, recueil, r√©f√©rence, int√©r√™t, dose entr√©e, facteurs r√©trodiffusion)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td2-q2" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td2-q2')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td2-q2')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td2-q2')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td2-q2')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td2-q2"></div>
                    
                    <div class="correction-section" id="correction-td2-q2">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">INDICATEURS RADIOLOGIE:
- Indicateur: Produit Dose Surface (PDS)
- Unit√©: mGy.cm¬≤
- Valeur: Dose d√©livr√©e au patient
- Document: Compte rendu radiologique (OBLIGATOIRE)
- Recueil: Chambre d'ionisation OU Calculateur int√©gr√©
- R√©f√©rence: NRD (Niveaux de R√©f√©rence Diagnostique)
- Int√©r√™t: √âvaluer pratiques, optimiser doses

DOSE √Ä L'ENTR√âE:
- D√©finition: √ânergie en un point √† la peau
- Estimation: f(tension, charge, DFP) √ó facteur r√©trodiffusion
- Facteurs r√©trodiffusion:
  * 1.1 enfants
  * 1.3 adultes (60-80kV)
  * 1.5 haute tension (120-140kV)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td2-q3" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span class="status-badge status-pending" id="status-td2-q3">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Indicateurs dosim√©triques pour chaque modalit√©</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td2-q3" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td2-q3')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td2-q3')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td2-q3')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td2-q3')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td2-q3"></div>
                    
                    <div class="correction-section" id="correction-td2-q3">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">PAR MODALIT√â:

SCANOGRAPHIE:
- IDSV (mGy): Indice Dose Scanographique Volumique
- PDL (mGy.cm): Produit Dose Longueur

IMAGERIE RADIOGUID√âE:
- PDS (Gy.cm¬≤)
- Temps de scopie (min)
- Kerma (mGy)

M√âDECINE NUCL√âAIRE:
- Activit√© (MBq)
- IDSV (mGy) pour TEP/TDM
- PDL (mGy.cm) pour TEP/TDM

MAMMOGRAPHIE:
- DMG (mGy): Dose Moyenne Glandulaire</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td2-q4" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span class="status-badge status-pending" id="status-td2-q4">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">NRD, VGD, NRL: signification, objectifs, dispositifs concern√©s, r√®gles g√©n√©rales, finalit√©, m√©thode statistique</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td2-q4" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td2-q4')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td2-q4')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td2-q4')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td2-q4')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td2-q4"></div>
                    
                    <div class="correction-section" id="correction-td2-q4">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">ACRONYMES:
- NRD: Niveaux de R√©f√©rence Diagnostique
- VGD: Valeur Guide Diagnostique  
- NRL: Niveau de R√©f√©rence Local

OBJECTIFS NRD:
- D√©finir modalit√©s d'√©valuation doses patients
- D√©finir niveaux r√©f√©rence nationaux
- √âvaluation dosim√©trique p√©riodique
- Transmission donn√©es IRSN
- D√©marche d'optimisation si NRL > NRD

DISPOSITIFS CONCERN√âS:
Tous dispositifs fixes et mobiles: imagerie conventionnelle, interventionnelle, cardiologie, bloc, scanner, m√©decine nucl√©aire

R√àGLES G√âN√âRALES:
- 1 √©valuation = 1 dispositif + 1 acte
- ‚â•30 patients cons√©cutifs (IMC 18-35, sauf t√™te)
- Au moins tous les 12 mois
- Pour ‚â•2 actes list√©s

FINALIT√â: Optimisation doses d√©livr√©es

M√âTHODES STATISTIQUES:
- NRD: 75√®me percentile
- VGD: M√©diane</div>
                    </div>
                </div>

            </section>

            <section class="td-section" id="td3">
                <div class="td-header">
                    <h2>TD3 - Cha√Æne Radiologique en Imagerie de Projection</h2>
                    <p>2 d√©cembre 2025 | 6 questions</p>
                </div>

                <div class="question-card" data-question-id="td3-q1" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span class="status-badge status-pending" id="status-td3-q1">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Nommer tous les √©l√©ments de la table radiologique (10+ √©l√©ments)</div>

                    <div class="schema-zone" id="schema-td3-q1">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Table radio compl√®te avec tube, collimateur, plateau, chariot, cadre, b√¢ti, capteur
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td3-q1" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td3-q1" accept="image/*" 
                                   onchange="handleSchemaUpload('td3-q1', event)">
                        </div>
                        <img id="schema-preview-td3-q1" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q1" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q1')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q1')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q1')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q1')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q1"></div>
                    
                    <div class="correction-section" id="correction-td3-q1">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">√âL√âMENTS TABLE RADIOLOGIQUE:
- Tube √† rayons X
- Collimateur
- Plateau/Table
- Chariot (mouvement incidence)
- Cadre/Potter (bras)
- B√¢ti (support)
- Capteur plan num√©rique + grille
- Colonne (support vertical tube)
- Syst√®me de d√©placement (Tx, Ty, Tz, Rx, Ry)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td3-q2" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span class="status-badge status-pending" id="status-td3-q2">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">4 facteurs d√©pendant de la qualit√© image + √©l√©ments additionnels pour am√©liorer l'image</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q2" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q2')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q2')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q2')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q2')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q2"></div>
                    
                    <div class="correction-section" id="correction-td3-q2">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">4 FACTEURS QUALIT√â IMAGE:
1. kV/mAs (constantes machine)
2. Type de radiographie (parties molles, transit...)
3. Corpulence du patient
4. Flous divers

√âL√âMENTS ADDITIONNELS:
- Diaphragme (limitation faisceau)
- C√¥ne localisateur
- Air-Gap / Technique de Groedel
- Grilles anti-diffusion
- Dispositifs de compression (sangle, ballon, pelle, procubitus)
- Filtres compensatoires (sortie tube ou contact patient)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td3-q3" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span class="status-badge status-pending" id="status-td3-q3">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Diff√©rencier scopie et graphie</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q3" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q3')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q3')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q3')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q3')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q3"></div>
                    
                    <div class="correction-section" id="correction-td3-q3">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">SCOPIE (radioscopie/fluoroscopie):
- Image DYNAMIQUE
- Temps R√âEL
- NON sauvegard√©e
- Moins irradiante (faible mA continu)
- Moins bonne qualit√©
- Attention temps de scopie!

GRAPHIE (radiographie):
- Image STATIQUE (instant T)
- Fig√©e temps et espace
- SAUVEGARD√âE
- Image coup√©e par cellule
- Meilleure qualit√© image</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td3-q4" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span class="status-badge status-pending" id="status-td3-q4">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Amplificateur de Brillance: nom, 4 √©tapes avec explications</div>

                    <div class="schema-zone" id="schema-td3-q4">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td3-q4" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td3-q4" accept="image/*" 
                                   onchange="handleSchemaUpload('td3-q4', event)">
                        </div>
                        <img id="schema-preview-td3-q4" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q4" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q4')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q4')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q4')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q4')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q4"></div>
                    
                    <div class="correction-section" id="correction-td3-q4">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">AMPLIFICATEUR DE BRILLANCE

√âTAPE 1 - √âCRAN PRIMAIRE:
- Fen√™tre d'entr√©e
- √âcran luminescent (RX ‚Üí photons lumineux)
- Photocathode (photons lumineux ‚Üí e‚Åª)

√âTAPE 2 - FOCALISATION/ACC√âL√âRATION:
- Vide pouss√©
- e‚Åª acc√©l√©r√©s (DDP 10-30kV)
- Lentilles √©lectrostatiques focalisent vers √©cran secondaire

√âTAPE 3 - √âCRAN SECONDAIRE:
- Conversion e‚Åª ‚Üí photons lumineux
- Image INVERS√âE et PETITE TAILLE

√âTAPE 4 - CAPTEUR CCD:
- Transformation info lumineuse ‚Üí signal vid√©o num√©rique

INT√âR√äT: √âtude dynamique de rep√©rage
UTILISATION: Scopie table t√©l√©command√©e, appareil bloc op√©ratoire</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td3-q5" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 5</span>
                        <span class="status-badge status-pending" id="status-td3-q5">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">ERLM (√âcran Radio Luminescent √† M√©moire): nom, 2 √©tapes acquisition et lecture</div>

                    <div class="schema-zone" id="schema-td3-q5">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td3-q5" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td3-q5" accept="image/*" 
                                   onchange="handleSchemaUpload('td3-q5', event)">
                        </div>
                        <img id="schema-preview-td3-q5" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q5" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q5')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q5')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q5')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q5')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q5"></div>
                    
                    <div class="correction-section" id="correction-td3-q5">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">ERLM: √âCRAN RADIO LUMINESCENT √Ä M√âMOIRE

√âTAPE 1 - ACQUISITION (Int√©gration/M√©morisation):
- RX interagissent avec cristal capteur
- √âjection e‚Åª pi√©g√©s dans cristal
- √âtat √©nerg√©tique INSTABLE = IMAGE LATENTE

√âTAPE 2 - LECTURE (Exploitation):
- Cassette dans d√©veloppeur
- LASER balaye point par point, ligne par ligne
- Lib√©ration progressive des e‚Åª pi√©g√©s
- Retour stabilit√© = √©mission photons lumineux (FLUORESCENCE)
- Conversion en signal √©lectrique (photodiode) num√©risable

INT√âR√äT: R√©utilisable, bonne r√©solution</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td3-q6" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 6</span>
                        <span class="status-badge status-pending" id="status-td3-q6">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Capteur plan: nom, 3 √©tapes (conversion directe ET indirecte)</div>

                    <div class="schema-zone" id="schema-td3-q6">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td3-q6" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td3-q6" accept="image/*" 
                                   onchange="handleSchemaUpload('td3-q6', event)">
                        </div>
                        <img id="schema-preview-td3-q6" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td3-q6" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td3-q6')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td3-q6')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td3-q6')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td3-q6')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td3-q6"></div>
                    
                    <div class="correction-section" id="correction-td3-q6">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">CAPTEUR PLAN (Flat Panel Detector)

CONVERSION DIRECTE (RX ‚Üí charges √©lectriques):
√âTAPE 1-2: DDP dans couche d√©tection
- RX ‚Üí Semi-conducteur (S√©l√©nium amorphe)
- Cr√©ation paires trou-√©lectron
- e‚Åª vers anode, trou+ vers cathode = image latente

CONVERSION INDIRECTE (RX ‚Üí lumi√®re ‚Üí signal):
√âTAPE 1: Scintillateur (ICs) transforme RX ‚Üí lumi√®re
√âTAPE 2: Photodiodes convertissent lumi√®re ‚Üí charges √©lectriques

√âTAPE 3 - MATRICE TFT (Lecture):
- Thin Film Transistor
- D√©charge progressive capacit√©s
- Fermeture command√©e transistors
- Signal √©lectrique amplifi√©, num√©ris√© (CAN)
- D√©lai ~5s

AVANTAGES: Imm√©diat, r√©utilisable, excellente qualit√©</div>
                    </div>
                </div>

            </section>

            <section class="td-section" id="td4">
                <div class="td-header">
                    <h2>TD4 - Scanographie</h2>
                    <p>15 d√©cembre 2025 | 5 questions</p>
                </div>

                <div class="question-card" data-question-id="td4-q1" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span class="status-badge status-pending" id="status-td4-q1">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Explicitez les 4 syst√®mes de la cha√Æne scanographique</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td4-q1" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td4-q1')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td4-q1')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td4-q1')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td4-q1')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td4-q1"></div>
                    
                    <div class="correction-section" id="correction-td4-q1">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">4 SYST√àMES CHA√éNE SCANOGRAPHIQUE:

1. SYST√àME D'ACQUISITION:
   - Tube √† rayons X
   - G√©n√©rateur
   - D√©tecteurs
   - Statif (stator + rotor)

2. SYST√àME DE TRAITEMENT:
   - Reconstruction
   - Filtres de reconstruction
   - Matrice

3. SYST√àME DE RESTITUTION/VISUALISATION:
   - Console
   - Fen√™trage image
   - √âchelle Hounsfield

4. SYST√àME DE COMMUNICATION/ARCHIVAGE:
   - PACS (Picture Archiving and Communication System)
   - Stockage donn√©es</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td4-q2" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span class="status-badge status-pending" id="status-td4-q2">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Vrai/Faux sur les scanners 3√®me g√©n√©ration multi-barrettes</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td4-q2" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td4-q2')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td4-q2')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td4-q2')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td4-q2')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td4-q2"></div>
                    
                    <div class="correction-section" id="correction-td4-q2">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">VRAI:
- Scanners 3√®me g√©n√©ration, rotation continue, h√©lico√Ødal spiral√©, multi-barrettes
- Transfert donn√©es via SLIP RING ou WIFI
- Rotor = partie MOBILE
- Scanner 64 barrettes = 64 rang√©es d√©tecteurs axe Z

FAUX:
- Transfert √©lectrique par WIFI (c'est Slip Ring/frotteurs)
- Stator = partie MOBILE (c'est partie FIXE)
- Rotor = partie FIXE (c'est partie MOBILE)
- Scanner mono-barrette = 1 couronne (c'est 1 rang√©e axe Z)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td4-q3" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span class="status-badge status-pending" id="status-td4-q3">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Compl√©tez caract√©ristiques g√©n√©rateur scanographique (tension, intensit√©, puissance)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td4-q3" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td4-q3')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td4-q3')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td4-q3')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td4-q3')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td4-q3"></div>
                    
                    <div class="correction-section" id="correction-td4-q3">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">G√âN√âRATEUR SCANOGRAPHIQUE:

- Haute tension continue: 70 √† 140 kV
- Intensit√© constante: 10 √† 1000 mA
- Puissance totale: 50 √† 60 kW

Caract√©ristiques:
- Tension r√©glable pour adapter p√©n√©tration
- Intensit√© √©lev√©e pour acquisition rapide
- Forte puissance pour rotation continue</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td4-q4" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span class="status-badge status-pending" id="status-td4-q4">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">2 caract√©ristiques performance tube RX scanographique</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td4-q4" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td4-q4')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td4-q4')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td4-q4')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td4-q4')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td4-q4"></div>
                    
                    <div class="correction-section" id="correction-td4-q4">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">2 PERFORMANCES TUBE SCANNER:

1. ABSORBER FORTES CONTRAINTES THERMIQUES:
   - Capacit√© thermique: 3 √† 7 MUC
   - (Tube RX conventionnel: 0.3 MUC)

2. DISSIPER FORTES CHALEURS:
   - Dissipation: 0.1 MUC/min
   - Refroidissement efficace essentiel

MUC = Mega Unit of Charge (Million d'Unit√©s de Chaleur)</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td4-q5" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 5</span>
                        <span class="status-badge status-pending" id="status-td4-q5">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Compl√©tez texte sur d√©tecteurs scanner (primaire et secondaires)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td4-q5" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td4-q5')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td4-q5')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td4-q5')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td4-q5')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td4-q5"></div>
                    
                    <div class="correction-section" id="correction-td4-q5">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">D√âTECTEURS SCANNER:

D√âTECTEUR PRIMAIRE:
- Positionn√© √† la sortie du tube
- Chambre d'ionisation
- Mesure indicateurs de doses scanographiques (IDSV, PDL)

D√âTECTEURS SECONDAIRES:
- Appel√©s BARRETTES
- Positionn√©s APR√àS le patient
- Recueillent RX ayant TRAVERS√â le patient
- Transforment faisceau √©mergent en SIGNAL √âLECTRIQUE

3 TECHNOLOGIES:
1. Chambres d'ionisation X√©non
2. D√©tecteurs solides (int√©gratifs)
3. D√©tecteurs √† comptage photonique (conversion directe, non int√©gratifs)</div>
                    </div>
                </div>

            </section>

            <section class="td-section" id="td5">
                <div class="td-header">
                    <h2>TD5 - R√©visions G√©n√©rales</h2>
                    <p>17 d√©cembre 2025 | 6 questions</p>
                </div>

                <div class="question-card" data-question-id="td5-q1" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span class="status-badge status-pending" id="status-td5-q1">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">D√©finir l'atome et sa composition (r√©vision)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q1" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q1')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q1')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q1')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q1')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q1"></div>
                    
                    <div class="correction-section" id="correction-td5-q1">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Voir TD1-Q1 pour r√©ponse compl√®te</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td5-q2" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span class="status-badge status-pending" id="status-td5-q2">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">2 types d'interaction √©mettrices de RX: nommer et expliciter m√©canismes</div>

                    <div class="schema-zone" id="schema-td5-q2">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td5-q2" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td5-q2" accept="image/*" 
                                   onchange="handleSchemaUpload('td5-q2', event)">
                        </div>
                        <img id="schema-preview-td5-q2" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q2" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q2')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q2')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q2')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q2')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q2"></div>
                    
                    <div class="correction-section" id="correction-td5-q2">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Voir TD1-Q5, TD1-Q6, TD1-Q7 pour r√©ponses compl√®tes</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td5-q3" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span class="status-badge status-pending" id="status-td5-q3">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Annoter sch√©ma tube RX (10 √©l√©ments) - R√©vision</div>

                    <div class="schema-zone" id="schema-td5-q3">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td5-q3" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td5-q3" accept="image/*" 
                                   onchange="handleSchemaUpload('td5-q3', event)">
                        </div>
                        <img id="schema-preview-td5-q3" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q3" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q3')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q3')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q3')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q3')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q3"></div>
                    
                    <div class="correction-section" id="correction-td5-q3">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Voir TD1-Q8 pour r√©ponse compl√®te</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td5-q4" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span class="status-badge status-pending" id="status-td5-q4">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">3 param√®tres d'exposition + influence sur faisceau RX</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q4" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q4')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q4')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q4')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q4')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q4"></div>
                    
                    <div class="correction-section" id="correction-td5-q4">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">3 PARAM√àTRES D'EXPOSITION:

1. kV (TENSION):
   - Influence: √ânergie des photons X
   - Pouvoir de p√©n√©tration
   - Contraste (kV‚Üë = contraste‚Üì)

2. mA (INTENSIT√â):
   - Influence: Quantit√© d'e‚Åª et de photons X
   - Rapport Signal/Bruit
   - Noircissement

3. s (TEMPS DE POSE):
   - Influence: Quantit√© de photons X
   - Charge totale (mAs = mA √ó s)
   - Dur√©e exposition</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td5-q5" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 5</span>
                        <span class="status-badge status-pending" id="status-td5-q5">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">Expliquer l'effet photo√©lectrique (r√©vision)</div>

                    <div class="schema-zone" id="schema-td5-q5">
                        <div style="font-size: 4em;">üìä</div>
                        <p style="color: #999; margin: 15px 0;">
                            Sch√©ma √† annoter ou compl√©ter
                        </p>
                        <div class="schema-upload">
                            <label for="schema-upload-td5-q5" class="schema-upload-btn">
                                üì∑ Ajouter un sch√©ma / photo
                            </label>
                            <input type="file" id="schema-upload-td5-q5" accept="image/*" 
                                   onchange="handleSchemaUpload('td5-q5', event)">
                        </div>
                        <img id="schema-preview-td5-q5" class="schema-preview" style="display: none;">
                    </div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q5" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q5')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q5')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q5')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q5')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q5"></div>
                    
                    <div class="correction-section" id="correction-td5-q5">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">Voir TD1-Q14 pour r√©ponse compl√®te</div>
                    </div>
                </div>

                <div class="question-card" data-question-id="td5-q6" data-status="pending">
                    <div class="question-header">
                        <span class="question-number">Question 6</span>
                        <span class="status-badge status-pending" id="status-td5-q6">Non r√©pondue</span>
                    </div>
                    
                    <div class="question-content">√âchelle Hounsfield: concept, UH, valeurs (os, eau, air)</div>

                    <div class="answer-input-zone">
                        <label class="input-label">üí≠ Votre r√©ponse :</label>
                        <textarea class="answer-input answer-textarea" id="answer-td5-q6" 
                                  placeholder="√âcrivez votre r√©ponse ici... Soyez pr√©cis et utilisez les mots-cl√©s importants!"></textarea>
                        
                        <div class="action-buttons">
                            <button class="btn btn-auto-validate" onclick="autoValidate('td5-q6')">
                                ü§ñ Auto-validation (mots-cl√©s)
                            </button>
                            <button class="btn btn-validate" onclick="manualValidate('td5-q6')">
                                ‚úì Je valide moi-m√™me
                            </button>
                            <button class="btn btn-show-answer" onclick="showCorrection('td5-q6')">
                                üëÅ Voir la correction
                            </button>
                            <button class="btn btn-reset" onclick="resetQuestion('td5-q6')">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                    
                    <div class="feedback-zone" id="feedback-td5-q6"></div>
                    
                    <div class="correction-section" id="correction-td5-q6">
                        <h4>‚úÖ R√©ponse Compl√®te et D√©taill√©e</h4>
                        <div class="correction-content">√âCHELLE HOUNSFIELD:

CONCEPT:
- Comparer densit√©s du corps
- R√©f√©rence: Absorption de l'EAU
- Unit√©s Hounsfield (UH) = Nombre CT (NCT)

VALEURS CL√âS:
- OS: +1000 UH (structures denses)
- EAU: 0 UH (r√©f√©rence)
- AIR: -1000 UH (structures peu denses)

ZONES:
- Structures peu denses: N√©gative (poumons)
- Tissus mous: -100 √† +100 UH
- Structures denses: +100 √† plusieurs milliers UH</div>
                    </div>
                </div>

            </section>

        </div>
        
        <footer>
            <p><strong>Guide Interactif Ultra-Complet - UE 3.2</strong></p>
            <p>Institut de Formation Public Varois des Professions de Sant√© - 2025</p>
            <p>D√©velopp√© avec üíô pour votre r√©ussite</p>
        </footer>
    </div>
    
    <script>
        // Database embedded in JavaScript
        const QUESTIONS_DB = {"TD1": {"title": "Production des Rayons X, G√©n√©rateur et Tube", "date": "14 novembre 2025", "questions": [{"id": "td1-q1", "number": 1, "question": "D√©finir l'atome et sa composition. Annoter le mod√®le de Bohr.", "type": "text", "schema": true, "schema_description": "Mod√®le de Bohr avec noyau et couches √©lectroniques (n=1, n=2, n=3)", "keywords": ["atome", "particule", "√©l√©ment", "noyau", "protons", "neutrons", "√©lectrons", "couches", "K", "L", "M"], "answer": "L'atome est la plus petite particule d'un √©l√©ment chimique qui conserve les propri√©t√©s de cet √©l√©ment.\n\nComposition:\n- Noyau central contenant: Protons (charge +) et Neutrons (charge neutre)\n- √âlectrons (charge -) gravitant sur des couches √©lectroniques (K, L, M, N...)\n\nMod√®le de Bohr: Les √©lectrons occupent des couches d√©finies avec des niveaux d'√©nergie croissants."}, {"id": "td1-q2", "number": 2, "question": "D√©finir l'√©nergie de liaison", "type": "text", "keywords": ["√©nergie", "liaison", "arracher", "√©lectron", "couche", "noyau", "infini"], "answer": "L'√©nergie de liaison est l'√©nergie n√©cessaire pour arracher un √©lectron de sa couche √©lectronique et l'√©loigner √† l'infini du noyau.\n\nPoints cl√©s:\n- Plus la couche est proche du noyau, plus l'√©nergie de liaison est √©lev√©e\n- Couche K (n=1): √©nergie de liaison maximale\n- Les couches externes ont une √©nergie de liaison plus faible"}, {"id": "td1-q3", "number": 3, "question": "Qu'est-ce qui se passe quand l'atome re√ßoit un apport ext√©rieur d'√©nergie?", "type": "text", "keywords": ["excitation", "ionisation", "√©lectron", "√©nergie", "couche", "sup√©rieure", "√©ject√©"], "answer": "Deux ph√©nom√®nes possibles:\n\n1. EXCITATION: Si E < E_liaison ‚Üí l'√©lectron passe sur une couche sup√©rieure puis revient √† sa place en √©mettant un photon\n\n2. IONISATION: Si E ‚â• E_liaison ‚Üí l'√©lectron est √©ject√© de l'atome qui devient un ion positif"}, {"id": "td1-q4", "number": 4, "question": "1. D√©finissez les rayons X\n2. D√©finissez les rayonnements ionisants\n3. Diff√©rence entre rayons X et Gamma", "type": "multi", "keywords": ["ondes", "√©lectromagn√©tiques", "haute", "fr√©quence", "ionisants", "ions", "origine", "cort√®ge", "noyau", "extra-nucl√©aire", "nucl√©aire"], "answer": "1. RAYONS X: Ondes √©lectromagn√©tiques de haute fr√©quence (longueur d'onde 5pm-10nm), rayonnements ionisants\n\n2. RAYONNEMENTS IONISANTS: Rayonnements √©mettant une √©nergie suffisante pour transformer les atomes en ions, rendant la mati√®re instable\n\n3. DIFF√âRENCE X / GAMMA:\n- Rayons X: origine EXTRA-NUCL√âAIRE (cort√®ge √©lectronique), production artificielle\n- Rayons Gamma: origine NUCL√âAIRE (noyau atomique), production naturelle ou artificielle"}, {"id": "td1-q5", "number": 5, "question": "Compl√©tez: La production des RX fait suite √† une... contre une...\nCitez les 2 modes de production des rayons X", "type": "completion", "keywords": ["d√©c√©l√©ration", "√©lectrons", "cible", "anode", "m√©tallique", "freinage", "bremsstrahlung", "caract√©ristique", "fluorescence"], "answer": "La production des RX fait suite √† une D√âC√âL√âRATION BRUTALE D'√âLECTRONS contre une CIBLE M√âTALLIQUE (ANODE).\n\n2 modes de production:\n\n1. RAYONNEMENT DE FREINAGE (99%):\n- Interaction √©lectron-noyau\n- Spectre continu\n- D√©pend du kV\n\n2. RAYONNEMENT CARACT√âRISTIQUE (1%):\n- Interaction √©lectron-√©lectron\n- Spectre de raies\n- Caract√©ristique de la cible"}, {"id": "td1-q6", "number": 6, "question": "Nommez et explicitez le rayonnement de freinage (Bremsstrahlung)", "type": "text", "schema": true, "schema_description": "√âlectron incident d√©vi√© par le noyau avec √©mission de RX", "keywords": ["freinage", "bremsstrahlung", "√©lectron", "noyau", "d√©viation", "√©nergie", "photon", "spectre", "continu"], "answer": "RAYONNEMENT DE FREINAGE (Bremsstrahlung)\n\nM√©canisme:\n1. √âlectron incident passe pr√®s d'un noyau\n2. Attir√© par la charge positive\n3. D√©viation importante de trajectoire\n4. Perte d'√©nergie cin√©tique\n5. Conversion en rayonnement X\n\nCaract√©ristiques:\n- Spectre CONTINU\n- √ânergie: 0 √† Emax (= √©nergie √©lectron)\n- 99% de la production RX\n- D√©pend du kV"}, {"id": "td1-q7", "number": 7, "question": "Nommez et explicitez le rayonnement caract√©ristique", "type": "text", "schema": true, "schema_description": "√âjection √©lectron couche K, r√©arrangement avec √©mission RX", "keywords": ["caract√©ristique", "fluorescence", "√©lectron", "√©jection", "lacune", "r√©arrangement", "raies", "K", "L"], "answer": "RAYONNEMENT CARACT√âRISTIQUE (de fluorescence)\n\nM√©canisme:\n1. √âlectron incident √©jecte un √©lectron de couche profonde\n2. Cr√©ation d'une lacune\n3. √âlectron d'une couche sup√©rieure comble la lacune\n4. Diff√©rence d'√©nergie √©mise sous forme de photon X\n\nCaract√©ristiques:\n- Spectre de RAIES (KŒ±, KŒ≤, LŒ±...)\n- √ânergies discr√®tes et caract√©ristiques de l'√©l√©ment\n- 1% de la production\n- Raies superpos√©es au spectre continu"}, {"id": "td1-q8", "number": 8, "question": "Annotez le sch√©ma du tube √† rayons X (10 √©l√©ments)", "type": "schema", "schema": true, "schema_description": "Sch√©ma complet tube RX avec cathode, anode, enceinte, gaine", "elements": ["1. Cathode", "2. Filament", "3. DDP (diff√©rence de potentiel)", "4. Filtre", "5. Diaphragme/Collimateur", "6. Rayons X", "7. Syst√®me de refroidissement", "8. Anode (cible)", "9. Enceinte (vide)", "10. Gaine plomb√©e"], "keywords": ["cathode", "filament", "anode", "ddp", "filtre", "diaphragme", "collimateur", "rayons", "refroidissement", "enceinte", "gaine"], "answer": "√âl√©ments du tube √† RX:\n\n1. CATHODE: P√¥le n√©gatif, contient le filament\n2. FILAMENT: Tungst√®ne chauff√©, source d'√©lectrons (effet thermo√©lectronique)\n3. DDP: Acc√©l√®re les √©lectrons (kV)\n4. FILTRE: Aluminium ‚â•2.5mm, √©limine RX basse √©nergie\n5. DIAPHRAGME: D√©limite le faisceau\n6. RAYONS X: Faisceau √©mis\n7. REFROIDISSEMENT: Huile circulante, dissipe 99% chaleur\n8. ANODE: Tungst√®ne, cible, produit les RX (1% √©nergie)\n9. ENCEINTE: Vide pouss√©\n10. GAINE PLOMB√âE: Protection rayonnements parasites"}, {"id": "td1-q9", "number": 9, "question": "Tableau des 6 √©tapes de production des RX dans le tube (localisation, effet, m√©canisme)", "type": "table", "keywords": ["√©mission", "thermo√©lectronique", "acc√©l√©ration", "ddp", "production", "freinage", "orientation", "talon", "filtration", "focalisation"], "answer": "6 √âTAPES:\n\n1. √âMISSION e‚Åª (Cathode/Filament)\n   - Effet thermo√©lectronique\n   - Chauffage ‚Üí √©mission √©lectrons\n\n2. ACC√âL√âRATION (Cathode-Anode)\n   - DDP appliqu√©e (kV)\n   - √âlectrons acc√©l√©r√©s\n\n3. PRODUCTION RX (Foyer anode)\n   - Freinage + Fluorescence\n   - 99% chaleur + 1% RX\n\n4. ORIENTATION (Anode inclin√©e)\n   - Effet talon\n   - Angle 12-20¬∞ dirige RX\n\n5. FILTRATION (Sortie tube)\n   - Filtre Al ‚â•2.5mm\n   - Durcissement du faisceau\n\n6. FOCALISATION (Diaphragme)\n   - Limitation faisceau\n   - R√©duit diffusion"}, {"id": "td1-q10", "number": 10, "question": "Identifiez les 2 foyers sur photo et pr√©cisez les zones anatomiques", "type": "image", "schema": true, "keywords": ["petit", "grand", "foyer", "thermique", "optique", "zones", "√©paisses", "fines"], "answer": "1. PETIT FOYER (< 70 kV)\n   - Zones peu √©paisses\n   - Petites surfaces\n   - Structures fines\n   - Ex: Extr√©mit√©s, p√©diatrie\n\n2. GRAND FOYER (‚â• 70 kV)\n   - Zones √©paisses\n   - Grandes surfaces\n   - Structures denses\n   - Ex: Thorax, abdomen, bassin"}, {"id": "td1-q11", "number": 11, "question": "Positionnez foyer thermique et optique. Renseignez le tableau (autre nom, correspondance, dimensions)", "type": "schema+table", "schema": true, "keywords": ["thermique", "r√©el", "optique", "apparent", "effectif", "surface", "projection"], "answer": "FOYER THERMIQUE:\n- Autre nom: Foyer r√©el\n- Correspondance: Surface anode bombard√©e par e‚Åª\n- Dimensions: Plus grande (ex: 12mm)\n- R√¥le: Dissiper la chaleur\n\nFOYER OPTIQUE:\n- Autre nom: Foyer apparent/effectif\n- Correspondance: Projection perpendiculaire du foyer thermique\n- Dimensions: Plus petite (ex: 1-2mm)\n- R√¥le: D√©finir nettet√© image\n\nFormule: Foyer optique = Foyer thermique √ó sin(angle anode)"}, {"id": "td1-q12", "number": 12, "question": "Compl√©tez le texte sur le g√©n√©rateur", "type": "completion", "keywords": ["√©lectriques", "√©lectroniques", "tension", "kV", "intensit√©", "mA", "exposition", "protection", "enceinte", "pupitre"], "answer": "Le g√©n√©rateur regroupe tous les circuits √âLECTRIQUES et √âLECTRONIQUES qui alimentent le tube √† RX.\n\nSon r√¥le:\n- Appliquer une TENSION U (kV) au tube\n- Chauffer la cathode pour obtenir l'INTENSIT√â I (mA) d√©sir√©e\n- D√©terminer le temps de l'EXPOSITION (s)\n- Assurer la PROTECTION du tube\n\nIl est contenu dans une ENCEINTE PLOMB√âE et contr√¥l√© par un PUPITRE DE COMMANDE."}, {"id": "td1-q13", "number": 13, "question": "1. D√©finissez l'image radiante\n2. Citez les 3 facteurs d'att√©nuation RX\n3. Reliez niveaux de gris et milieux organiques", "type": "multi", "keywords": ["image", "radiante", "att√©nuation", "√©nergie", "√©paisseur", "densit√©", "num√©ro atomique", "noir", "blanc", "gris"], "answer": "1. IMAGE RADIANTE: Image form√©e par les RX ayant travers√© le patient, variant selon l'att√©nuation des diff√©rents tissus\n\n2. 3 FACTEURS D'ATT√âNUATION:\n   - √ânergie des photons (kV)\n   - √âpaisseur du milieu travers√©\n   - Densit√© et num√©ro atomique du milieu\n\n3. NIVEAUX DE GRIS:\n   - NOIR: Air (faible att√©nuation)\n   - GRIS FONC√â: Graisse\n   - GRIS MOYEN: Eau, tissus mous\n   - GRIS CLAIR: Os\n   - BLANC: M√©tal (forte att√©nuation)"}, {"id": "td1-q14", "number": 14, "question": "Nommez et explicitez l'effet photo√©lectrique", "type": "text", "schema": true, "keywords": ["photo√©lectrique", "photon", "√©lectron", "√©nergie", "liaison", "ionisation", "fluorescence"], "answer": "EFFET PHOTO√âLECTRIQUE\n\nM√©canisme:\n1. Photon X c√®de TOUTE son √©nergie √† un √©lectron\n2. √âlectron √©ject√© si E_photon > E_liaison\n3. Atome ionis√© et excit√©\n4. R√©arrangement √©lectronique\n5. √âmission photon de fluorescence\n\nCaract√©ristiques:\n- Pr√©pond√©rant aux BASSES tensions (50-70 kV)\n- Favoris√© dans milieux DENSES (os, Ca, I, Ba)\n- Origine du CONTRASTE radiologique\n- Base de l'imagerie diagnostique"}, {"id": "td1-q15", "number": 15, "question": "Nommez et explicitez l'effet Compton", "type": "text", "schema": true, "keywords": ["compton", "diffusion", "photon", "√©lectron", "d√©viation", "√©nergie", "partielle"], "answer": "EFFET COMPTON (diffusion)\n\nM√©canisme:\n1. Photon X c√®de UNE PARTIE de son √©nergie √† un √©lectron\n2. √âlectron √©ject√© (√©lectron Compton)\n3. Photon X d√©vi√© avec √©nergie r√©duite (photon diffus√©)\n4. Photon diffus√© continue dans autre direction\n\nCaract√©ristiques:\n- Pr√©pond√©rant aux HAUTES tensions (>100 kV)\n- Favoris√© dans milieux PEU DENSES (tissus mous, graisse)\n- Origine du RAYONNEMENT DIFFUS√â\n- D√©grade le CONTRASTE\n- Augmente la DOSE au patient et op√©rateur"}]}, "TD2": {"title": "Ost√©odensitom√©trie et Indicateurs de Dose", "date": "21 novembre 2025", "questions": [{"id": "td2-q1", "number": 1, "question": "Tableau complet sur l'ost√©odensitom√©trie (d√©finition, DMO, principe, technologie, √©nergies, g√©om√©tries, d√©tecteurs)", "type": "table", "keywords": ["ost√©odensitom√©trie", "DMO", "densit√©", "min√©rale", "osseuse", "absorption", "biphotonique", "deux", "√©nergies"], "answer": "OST√âODENSITOM√âTRIE:\n- D√©finition: Examen mesurant la densit√© min√©rale osseuse (DMO)\n- DMO: Densit√© Min√©rale Osseuse en g/cm¬≤\n- Principe: Loi d'absorption - Att√©nuation photons par mati√®re\n- Technologie: Absorption biphotonique (2 √©nergies diff√©rentes)\n- √ânergies: 70/140 kV ou 100/140 kV\n- Obtention: Variation tension OU tension constante + filtration terre rare\n- 3 g√©om√©tries: Faisceau droit, √©ventail √©troit, √©ventail large\n- 2 d√©tecteurs: Conversion indirecte (scintillateur+photodiode) / Conversion directe (semi-conducteur)"}, {"id": "td2-q2", "number": 2, "question": "Tableau indicateurs dosim√©triques en radiologie (PDS, unit√©, valeur, document, recueil, r√©f√©rence, int√©r√™t, dose entr√©e, facteurs r√©trodiffusion)", "type": "table", "keywords": ["PDS", "produit", "dose", "surface", "mGy", "cm¬≤", "NRD", "compte", "rendu"], "answer": "INDICATEURS RADIOLOGIE:\n- Indicateur: Produit Dose Surface (PDS)\n- Unit√©: mGy.cm¬≤\n- Valeur: Dose d√©livr√©e au patient\n- Document: Compte rendu radiologique (OBLIGATOIRE)\n- Recueil: Chambre d'ionisation OU Calculateur int√©gr√©\n- R√©f√©rence: NRD (Niveaux de R√©f√©rence Diagnostique)\n- Int√©r√™t: √âvaluer pratiques, optimiser doses\n\nDOSE √Ä L'ENTR√âE:\n- D√©finition: √ânergie en un point √† la peau\n- Estimation: f(tension, charge, DFP) √ó facteur r√©trodiffusion\n- Facteurs r√©trodiffusion:\n  * 1.1 enfants\n  * 1.3 adultes (60-80kV)\n  * 1.5 haute tension (120-140kV)"}, {"id": "td2-q3", "number": 3, "question": "Indicateurs dosim√©triques pour chaque modalit√©", "type": "table", "keywords": ["scanographie", "IDSV", "PDL", "mammographie", "DMG", "m√©decine", "nucl√©aire", "activit√©", "MBq"], "answer": "PAR MODALIT√â:\n\nSCANOGRAPHIE:\n- IDSV (mGy): Indice Dose Scanographique Volumique\n- PDL (mGy.cm): Produit Dose Longueur\n\nIMAGERIE RADIOGUID√âE:\n- PDS (Gy.cm¬≤)\n- Temps de scopie (min)\n- Kerma (mGy)\n\nM√âDECINE NUCL√âAIRE:\n- Activit√© (MBq)\n- IDSV (mGy) pour TEP/TDM\n- PDL (mGy.cm) pour TEP/TDM\n\nMAMMOGRAPHIE:\n- DMG (mGy): Dose Moyenne Glandulaire"}, {"id": "td2-q4", "number": 4, "question": "NRD, VGD, NRL: signification, objectifs, dispositifs concern√©s, r√®gles g√©n√©rales, finalit√©, m√©thode statistique", "type": "multi", "keywords": ["NRD", "VGD", "NRL", "r√©f√©rence", "diagnostique", "guide", "local", "75", "percentile", "m√©diane"], "answer": "ACRONYMES:\n- NRD: Niveaux de R√©f√©rence Diagnostique\n- VGD: Valeur Guide Diagnostique  \n- NRL: Niveau de R√©f√©rence Local\n\nOBJECTIFS NRD:\n- D√©finir modalit√©s d'√©valuation doses patients\n- D√©finir niveaux r√©f√©rence nationaux\n- √âvaluation dosim√©trique p√©riodique\n- Transmission donn√©es IRSN\n- D√©marche d'optimisation si NRL > NRD\n\nDISPOSITIFS CONCERN√âS:\nTous dispositifs fixes et mobiles: imagerie conventionnelle, interventionnelle, cardiologie, bloc, scanner, m√©decine nucl√©aire\n\nR√àGLES G√âN√âRALES:\n- 1 √©valuation = 1 dispositif + 1 acte\n- ‚â•30 patients cons√©cutifs (IMC 18-35, sauf t√™te)\n- Au moins tous les 12 mois\n- Pour ‚â•2 actes list√©s\n\nFINALIT√â: Optimisation doses d√©livr√©es\n\nM√âTHODES STATISTIQUES:\n- NRD: 75√®me percentile\n- VGD: M√©diane"}]}, "TD3": {"title": "Cha√Æne Radiologique en Imagerie de Projection", "date": "2 d√©cembre 2025", "questions": [{"id": "td3-q1", "number": 1, "question": "Nommer tous les √©l√©ments de la table radiologique (10+ √©l√©ments)", "type": "schema", "schema": true, "schema_description": "Table radio compl√®te avec tube, collimateur, plateau, chariot, cadre, b√¢ti, capteur", "keywords": ["tube", "rayons", "collimateur", "plateau", "chariot", "cadre", "b√¢ti", "capteur", "grille", "colonne"], "answer": "√âL√âMENTS TABLE RADIOLOGIQUE:\n- Tube √† rayons X\n- Collimateur\n- Plateau/Table\n- Chariot (mouvement incidence)\n- Cadre/Potter (bras)\n- B√¢ti (support)\n- Capteur plan num√©rique + grille\n- Colonne (support vertical tube)\n- Syst√®me de d√©placement (Tx, Ty, Tz, Rx, Ry)"}, {"id": "td3-q2", "number": 2, "question": "4 facteurs d√©pendant de la qualit√© image + √©l√©ments additionnels pour am√©liorer l'image", "type": "multi", "keywords": ["kV", "mAs", "radiographie", "corpulence", "flou", "diaphragme", "c√¥ne", "air-gap", "grille", "compression", "filtres"], "answer": "4 FACTEURS QUALIT√â IMAGE:\n1. kV/mAs (constantes machine)\n2. Type de radiographie (parties molles, transit...)\n3. Corpulence du patient\n4. Flous divers\n\n√âL√âMENTS ADDITIONNELS:\n- Diaphragme (limitation faisceau)\n- C√¥ne localisateur\n- Air-Gap / Technique de Groedel\n- Grilles anti-diffusion\n- Dispositifs de compression (sangle, ballon, pelle, procubitus)\n- Filtres compensatoires (sortie tube ou contact patient)"}, {"id": "td3-q3", "number": 3, "question": "Diff√©rencier scopie et graphie", "type": "table", "keywords": ["scopie", "graphie", "dynamique", "statique", "temps", "r√©el", "sauvegard√©e", "fluoroscopie", "radiographie"], "answer": "SCOPIE (radioscopie/fluoroscopie):\n- Image DYNAMIQUE\n- Temps R√âEL\n- NON sauvegard√©e\n- Moins irradiante (faible mA continu)\n- Moins bonne qualit√©\n- Attention temps de scopie!\n\nGRAPHIE (radiographie):\n- Image STATIQUE (instant T)\n- Fig√©e temps et espace\n- SAUVEGARD√âE\n- Image coup√©e par cellule\n- Meilleure qualit√© image"}, {"id": "td3-q4", "number": 4, "question": "Amplificateur de Brillance: nom, 4 √©tapes avec explications", "type": "text+schema", "schema": true, "keywords": ["amplificateur", "brillance", "√©cran", "primaire", "secondaire", "photons", "√©lectrons", "fluorescence", "CCD"], "answer": "AMPLIFICATEUR DE BRILLANCE\n\n√âTAPE 1 - √âCRAN PRIMAIRE:\n- Fen√™tre d'entr√©e\n- √âcran luminescent (RX ‚Üí photons lumineux)\n- Photocathode (photons lumineux ‚Üí e‚Åª)\n\n√âTAPE 2 - FOCALISATION/ACC√âL√âRATION:\n- Vide pouss√©\n- e‚Åª acc√©l√©r√©s (DDP 10-30kV)\n- Lentilles √©lectrostatiques focalisent vers √©cran secondaire\n\n√âTAPE 3 - √âCRAN SECONDAIRE:\n- Conversion e‚Åª ‚Üí photons lumineux\n- Image INVERS√âE et PETITE TAILLE\n\n√âTAPE 4 - CAPTEUR CCD:\n- Transformation info lumineuse ‚Üí signal vid√©o num√©rique\n\nINT√âR√äT: √âtude dynamique de rep√©rage\nUTILISATION: Scopie table t√©l√©command√©e, appareil bloc op√©ratoire"}, {"id": "td3-q5", "number": 5, "question": "ERLM (√âcran Radio Luminescent √† M√©moire): nom, 2 √©tapes acquisition et lecture", "type": "text+schema", "schema": true, "keywords": ["ERLM", "acquisition", "lecture", "image", "latente", "laser", "fluorescence", "m√©morisation"], "answer": "ERLM: √âCRAN RADIO LUMINESCENT √Ä M√âMOIRE\n\n√âTAPE 1 - ACQUISITION (Int√©gration/M√©morisation):\n- RX interagissent avec cristal capteur\n- √âjection e‚Åª pi√©g√©s dans cristal\n- √âtat √©nerg√©tique INSTABLE = IMAGE LATENTE\n\n√âTAPE 2 - LECTURE (Exploitation):\n- Cassette dans d√©veloppeur\n- LASER balaye point par point, ligne par ligne\n- Lib√©ration progressive des e‚Åª pi√©g√©s\n- Retour stabilit√© = √©mission photons lumineux (FLUORESCENCE)\n- Conversion en signal √©lectrique (photodiode) num√©risable\n\nINT√âR√äT: R√©utilisable, bonne r√©solution"}, {"id": "td3-q6", "number": 6, "question": "Capteur plan: nom, 3 √©tapes (conversion directe ET indirecte)", "type": "text+schema", "schema": true, "keywords": ["capteur", "plan", "conversion", "directe", "indirecte", "scintillateur", "semi-conducteur", "TFT", "matrice"], "answer": "CAPTEUR PLAN (Flat Panel Detector)\n\nCONVERSION DIRECTE (RX ‚Üí charges √©lectriques):\n√âTAPE 1-2: DDP dans couche d√©tection\n- RX ‚Üí Semi-conducteur (S√©l√©nium amorphe)\n- Cr√©ation paires trou-√©lectron\n- e‚Åª vers anode, trou+ vers cathode = image latente\n\nCONVERSION INDIRECTE (RX ‚Üí lumi√®re ‚Üí signal):\n√âTAPE 1: Scintillateur (ICs) transforme RX ‚Üí lumi√®re\n√âTAPE 2: Photodiodes convertissent lumi√®re ‚Üí charges √©lectriques\n\n√âTAPE 3 - MATRICE TFT (Lecture):\n- Thin Film Transistor\n- D√©charge progressive capacit√©s\n- Fermeture command√©e transistors\n- Signal √©lectrique amplifi√©, num√©ris√© (CAN)\n- D√©lai ~5s\n\nAVANTAGES: Imm√©diat, r√©utilisable, excellente qualit√©"}]}, "TD4": {"title": "Scanographie", "date": "15 d√©cembre 2025", "questions": [{"id": "td4-q1", "number": 1, "question": "Explicitez les 4 syst√®mes de la cha√Æne scanographique", "type": "multi", "keywords": ["acquisition", "traitement", "restitution", "visualisation", "communication", "archivage", "PACS"], "answer": "4 SYST√àMES CHA√éNE SCANOGRAPHIQUE:\n\n1. SYST√àME D'ACQUISITION:\n   - Tube √† rayons X\n   - G√©n√©rateur\n   - D√©tecteurs\n   - Statif (stator + rotor)\n\n2. SYST√àME DE TRAITEMENT:\n   - Reconstruction\n   - Filtres de reconstruction\n   - Matrice\n\n3. SYST√àME DE RESTITUTION/VISUALISATION:\n   - Console\n   - Fen√™trage image\n   - √âchelle Hounsfield\n\n4. SYST√àME DE COMMUNICATION/ARCHIVAGE:\n   - PACS (Picture Archiving and Communication System)\n   - Stockage donn√©es"}, {"id": "td4-q2", "number": 2, "question": "Vrai/Faux sur les scanners 3√®me g√©n√©ration multi-barrettes", "type": "vrai-faux", "keywords": ["rotation", "continue", "h√©lico√Ødal", "spiral√©", "multi-barrettes", "slip-ring", "wifi", "stator", "rotor"], "answer": "VRAI:\n- Scanners 3√®me g√©n√©ration, rotation continue, h√©lico√Ødal spiral√©, multi-barrettes\n- Transfert donn√©es via SLIP RING ou WIFI\n- Rotor = partie MOBILE\n- Scanner 64 barrettes = 64 rang√©es d√©tecteurs axe Z\n\nFAUX:\n- Transfert √©lectrique par WIFI (c'est Slip Ring/frotteurs)\n- Stator = partie MOBILE (c'est partie FIXE)\n- Rotor = partie FIXE (c'est partie MOBILE)\n- Scanner mono-barrette = 1 couronne (c'est 1 rang√©e axe Z)"}, {"id": "td4-q3", "number": 3, "question": "Compl√©tez caract√©ristiques g√©n√©rateur scanographique (tension, intensit√©, puissance)", "type": "completion", "keywords": ["70", "140", "kV", "10", "1000", "mA", "50", "60", "kW"], "answer": "G√âN√âRATEUR SCANOGRAPHIQUE:\n\n- Haute tension continue: 70 √† 140 kV\n- Intensit√© constante: 10 √† 1000 mA\n- Puissance totale: 50 √† 60 kW\n\nCaract√©ristiques:\n- Tension r√©glable pour adapter p√©n√©tration\n- Intensit√© √©lev√©e pour acquisition rapide\n- Forte puissance pour rotation continue"}, {"id": "td4-q4", "number": 4, "question": "2 caract√©ristiques performance tube RX scanographique", "type": "text", "keywords": ["thermique", "dissipation", "chaleur", "MUC", "3", "7", "0.1"], "answer": "2 PERFORMANCES TUBE SCANNER:\n\n1. ABSORBER FORTES CONTRAINTES THERMIQUES:\n   - Capacit√© thermique: 3 √† 7 MUC\n   - (Tube RX conventionnel: 0.3 MUC)\n\n2. DISSIPER FORTES CHALEURS:\n   - Dissipation: 0.1 MUC/min\n   - Refroidissement efficace essentiel\n\nMUC = Mega Unit of Charge (Million d'Unit√©s de Chaleur)"}, {"id": "td4-q5", "number": 5, "question": "Compl√©tez texte sur d√©tecteurs scanner (primaire et secondaires)", "type": "completion", "keywords": ["primaire", "secondaires", "chambre", "ionisation", "indicateurs", "dose", "barrettes", "apr√®s", "patient", "travers√©", "signal", "√©lectrique"], "answer": "D√âTECTEURS SCANNER:\n\nD√âTECTEUR PRIMAIRE:\n- Positionn√© √† la sortie du tube\n- Chambre d'ionisation\n- Mesure indicateurs de doses scanographiques (IDSV, PDL)\n\nD√âTECTEURS SECONDAIRES:\n- Appel√©s BARRETTES\n- Positionn√©s APR√àS le patient\n- Recueillent RX ayant TRAVERS√â le patient\n- Transforment faisceau √©mergent en SIGNAL √âLECTRIQUE\n\n3 TECHNOLOGIES:\n1. Chambres d'ionisation X√©non\n2. D√©tecteurs solides (int√©gratifs)\n3. D√©tecteurs √† comptage photonique (conversion directe, non int√©gratifs)"}]}, "TD5": {"title": "R√©visions G√©n√©rales", "date": "17 d√©cembre 2025", "questions": [{"id": "td5-q1", "number": 1, "question": "D√©finir l'atome et sa composition (r√©vision)", "type": "text", "keywords": ["atome", "noyau", "protons", "neutrons", "√©lectrons", "couches"], "answer": "Voir TD1-Q1 pour r√©ponse compl√®te"}, {"id": "td5-q2", "number": 2, "question": "2 types d'interaction √©mettrices de RX: nommer et expliciter m√©canismes", "type": "text+schema", "schema": true, "keywords": ["freinage", "bremsstrahlung", "caract√©ristique", "fluorescence", "√©lectron", "noyau"], "answer": "Voir TD1-Q5, TD1-Q6, TD1-Q7 pour r√©ponses compl√®tes"}, {"id": "td5-q3", "number": 3, "question": "Annoter sch√©ma tube RX (10 √©l√©ments) - R√©vision", "type": "schema", "schema": true, "keywords": ["cathode", "filament", "anode", "ddp", "filtre", "diaphragme", "rayons", "refroidissement", "enceinte", "gaine"], "answer": "Voir TD1-Q8 pour r√©ponse compl√®te"}, {"id": "td5-q4", "number": 4, "question": "3 param√®tres d'exposition + influence sur faisceau RX", "type": "multi", "keywords": ["kV", "tension", "√©nergie", "p√©n√©tration", "mA", "quantit√©", "photons", "temps", "pose"], "answer": "3 PARAM√àTRES D'EXPOSITION:\n\n1. kV (TENSION):\n   - Influence: √ânergie des photons X\n   - Pouvoir de p√©n√©tration\n   - Contraste (kV‚Üë = contraste‚Üì)\n\n2. mA (INTENSIT√â):\n   - Influence: Quantit√© d'e‚Åª et de photons X\n   - Rapport Signal/Bruit\n   - Noircissement\n\n3. s (TEMPS DE POSE):\n   - Influence: Quantit√© de photons X\n   - Charge totale (mAs = mA √ó s)\n   - Dur√©e exposition"}, {"id": "td5-q5", "number": 5, "question": "Expliquer l'effet photo√©lectrique (r√©vision)", "type": "text+schema", "schema": true, "keywords": ["photo√©lectrique", "photon", "√©lectron", "√©nergie", "ionisation", "fluorescence"], "answer": "Voir TD1-Q14 pour r√©ponse compl√®te"}, {"id": "td5-q6", "number": 6, "question": "√âchelle Hounsfield: concept, UH, valeurs (os, eau, air)", "type": "multi", "keywords": ["Hounsfield", "UH", "densit√©", "att√©nuation", "eau", "r√©f√©rence", "1000", "-1000"], "answer": "√âCHELLE HOUNSFIELD:\n\nCONCEPT:\n- Comparer densit√©s du corps\n- R√©f√©rence: Absorption de l'EAU\n- Unit√©s Hounsfield (UH) = Nombre CT (NCT)\n\nVALEURS CL√âS:\n- OS: +1000 UH (structures denses)\n- EAU: 0 UH (r√©f√©rence)\n- AIR: -1000 UH (structures peu denses)\n\nZONES:\n- Structures peu denses: N√©gative (poumons)\n- Tissus mous: -100 √† +100 UH\n- Structures denses: +100 √† plusieurs milliers UH"}]}};
        
        // State management
        let questionsState = {};
        let uploadedSchemas = {};
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });
        
        function initializeApp() {
            loadProgress();
            updateStats();
            updateTotalQuestions();
        }
        
        function updateTotalQuestions() {
            let total = 0;
            for (let td in QUESTIONS_DB) {
                total += QUESTIONS_DB[td].questions.length;
            }
            document.getElementById('totalQuestions').textContent = total;
        }
        
        // Schema upload handling
        function handleSchemaUpload(questionId, event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('schema-preview-' + questionId);
                const zone = document.getElementById('schema-zone-' + questionId);
                
                preview.src = e.target.result;
                preview.style.display = 'block';
                
                uploadedSchemas[questionId] = e.target.result;
                saveProgress();
            };
            reader.readAsDataURL(file);
        }
        
        // Auto-validation with keywords
        function autoValidate(questionId) {
            const answer = document.getElementById('answer-' + questionId).value.trim();
            
            if (!answer) {
                alert('‚ö†Ô∏è Veuillez saisir une r√©ponse avant la validation!');
                return;
            }
            
            // Find question data
            let questionData = null;
            for (let td in QUESTIONS_DB) {
                const q = QUESTIONS_DB[td].questions.find(q => q.id === questionId);
                if (q) {
                    questionData = q;
                    break;
                }
            }
            
            if (!questionData || !questionData.keywords) {
                alert('Auto-validation non disponible pour cette question.');
                manualValidate(questionId);
                return;
            }
            
            const result = checkKeywords(answer.toLowerCase(), questionData.keywords);
            
            questionsState[questionId] = {
                answered: true,
                userAnswer: answer,
                validated: true,
                autoValidated: true,
                ...result
            };
            
            showAutoValidationFeedback(questionId, result);
            updateQuestionStatus(questionId, result.correct);
            updateStats();
            saveProgress();
        }
        
        function checkKeywords(answer, keywords) {
            const found = [];
            const missing = [];
            
            keywords.forEach(keyword => {
                if (answer.includes(keyword.toLowerCase())) {
                    found.push(keyword);
                } else {
                    missing.push(keyword);
                }
            });
            
            const score = Math.round((found.length / keywords.length) * 100);
            const correct = score >= 60;
            
            return {
                found: found,
                missing: missing,
                score: score,
                correct: correct
            };
        }
        
        function showAutoValidationFeedback(questionId, result) {
            const feedbackZone = document.getElementById('feedback-' + questionId);
            
            let feedbackClass = 'feedback-incorrect';
            let title = '‚ùå R√©ponse incompl√®te';
            let emoji = 'üòû';
            
            if (result.score >= 80) {
                feedbackClass = 'feedback-correct';
                title = '‚úÖ Excellente r√©ponse!';
                emoji = 'üéâ';
            } else if (result.score >= 60) {
                feedbackClass = 'feedback-partial';
                title = '‚ö†Ô∏è R√©ponse partielle';
                emoji = 'ü§î';
            }
            
            feedbackZone.className = 'feedback-zone show ' + feedbackClass;
            feedbackZone.innerHTML = `
                <div class="feedback-title">${title} ${emoji}</div>
                <div class="feedback-details">
                    <div class="score-display">Score: ${result.score}%</div>
                    ${result.found.length > 0 ? `
                        <p class="keywords-found">‚úì Mots-cl√©s trouv√©s (${result.found.length}):</p>
                        <p><strong>${result.found.join(', ')}</strong></p>
                    ` : ''}
                    ${result.missing.length > 0 ? `
                        <p class="keywords-missing">‚úó Mots-cl√©s manquants (${result.missing.length}):</p>
                        <p><strong>${result.missing.join(', ')}</strong></p>
                        <p style="margin-top: 15px; color: #666;">üí° Compl√©tez votre r√©ponse avec ces mots-cl√©s pour am√©liorer votre score!</p>
                    ` : ''}
                    <div style="margin-top: 25px;">
                        <p><strong>Vous estimez que votre r√©ponse est quand m√™me correcte?</strong></p>
                        <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                            <button class="btn btn-validate" onclick="markAs('${questionId}', true)" style="background: #28a745;">
                                ‚úì Marquer correcte
                            </button>
                            <button class="btn btn-validate" onclick="markAs('${questionId}', 'partial')" style="background: #ff9800;">
                                ‚âà Marquer partielle
                            </button>
                            <button class="btn btn-reset" onclick="markAs('${questionId}', false)" style="background: #dc3545;">
                                ‚úó Marquer incorrecte
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function manualValidate(questionId) {
            const answer = document.getElementById('answer-' + questionId).value.trim();
            
            if (!answer) {
                alert('‚ö†Ô∏è Veuillez saisir une r√©ponse avant la validation!');
                return;
            }
            
            questionsState[questionId] = {
                answered: true,
                userAnswer: answer,
                validated: false
            };
            
            showManualValidationFeedback(questionId);
            showCorrection(questionId);
            saveProgress();
        }
        
        function showManualValidationFeedback(questionId) {
            const feedbackZone = document.getElementById('feedback-' + questionId);
            feedbackZone.className = 'feedback-zone show feedback-partial';
            feedbackZone.innerHTML = `
                <div class="feedback-title">üìù Auto-√©valuez votre r√©ponse</div>
                <div class="feedback-details">
                    <p>Comparez votre r√©ponse avec la correction ci-dessous:</p>
                    <div style="display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;">
                        <button class="btn btn-validate" onclick="markAs('${questionId}', true)" style="background: #28a745;">
                            ‚úì Ma r√©ponse est correcte
                        </button>
                        <button class="btn btn-validate" onclick="markAs('${questionId}', 'partial')" style="background: #ff9800;">
                            ‚âà Ma r√©ponse est partielle
                        </button>
                        <button class="btn btn-reset" onclick="markAs('${questionId}', false)" style="background: #dc3545;">
                            ‚úó Ma r√©ponse est incorrecte
                        </button>
                    </div>
                </div>
            `;
        }
        
        function markAs(questionId, status) {
            if (questionsState[questionId]) {
                questionsState[questionId].validated = true;
                questionsState[questionId].correct = status;
            }
            updateQuestionStatus(questionId, status);
            updateStats();
            saveProgress();
        }
        
        function updateQuestionStatus(questionId, status) {
            const badge = document.getElementById('status-' + questionId);
            const card = document.querySelector(`[data-question-id="${questionId}"]`);
            
            badge.className = 'status-badge';
            
            if (status === true) {
                badge.classList.add('status-correct');
                badge.textContent = 'Correcte ‚úì';
                card.setAttribute('data-status', 'correct');
            } else if (status === 'partial') {
                badge.classList.add('status-partial');
                badge.textContent = 'Partielle ‚âà';
                card.setAttribute('data-status', 'partial');
            } else if (status === false) {
                badge.classList.add('status-incorrect');
                badge.textContent = 'Incorrecte ‚úó';
                card.setAttribute('data-status', 'incorrect');
            }
        }
        
        function showCorrection(questionId) {
            const section = document.getElementById('correction-' + questionId);
            if (section) {
                section.classList.add('show');
            }
        }
        
        function resetQuestion(questionId) {
            if (confirm('üîÑ Voulez-vous vraiment r√©initialiser cette question?')) {
                document.getElementById('answer-' + questionId).value = '';
                
                const feedback = document.getElementById('feedback-' + questionId);
                const correction = document.getElementById('correction-' + questionId);
                
                if (feedback) feedback.className = 'feedback-zone';
                if (correction) correction.classList.remove('show');
                
                delete questionsState[questionId];
                delete uploadedSchemas[questionId];
                
                const badge = document.getElementById('status-' + questionId);
                const card = document.querySelector(`[data-question-id="${questionId}"]`);
                
                badge.className = 'status-badge status-pending';
                badge.textContent = 'Non r√©pondue';
                card.setAttribute('data-status', 'pending');
                
                // Reset schema if exists
                const schemaPreview = document.getElementById('schema-preview-' + questionId);
                if (schemaPreview) {
                    schemaPreview.style.display = 'none';
                    schemaPreview.src = '';
                }
                
                updateStats();
                saveProgress();
            }
        }
        
        function updateStats() {
            let total = 0;
            for (let td in QUESTIONS_DB) {
                total += QUESTIONS_DB[td].questions.length;
            }
            
            const answered = Object.keys(questionsState).filter(id => 
                questionsState[id].answered
            ).length;
            
            const correct = Object.keys(questionsState).filter(id => 
                questionsState[id].correct === true
            ).length;
            
            const percentage = total > 0 ? Math.round((correct / total) * 100) : 0;
            
            document.getElementById('totalQuestions').textContent = total;
            document.getElementById('answeredQuestions').textContent = answered;
            document.getElementById('correctQuestions').textContent = correct;
            document.getElementById('scorePercentage').textContent = percentage + '%';
            
            const progressBar = document.getElementById('globalProgress');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
        }
        
        function searchQuestions() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.question-card');
            
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(input) ? 'block' : 'none';
            });
        }
        
        function filterQuestions(filter) {
            const cards = document.querySelectorAll('.question-card');
            const chips = document.querySelectorAll('.filter-chip');
            
            chips.forEach(chip => chip.classList.remove('active'));
            event.target.classList.add('active');
            
            cards.forEach(card => {
                const status = card.getAttribute('data-status');
                card.style.display = (filter === 'all' || status === filter) ? 'block' : 'none';
            });
        }
        
        function setActiveTab(event) {
            const links = document.querySelectorAll('nav a');
            links.forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        function saveProgress() {
            localStorage.setItem('ue32_progress_v3', JSON.stringify({
                questions: questionsState,
                schemas: uploadedSchemas
            }));
        }
        
        function loadProgress() {
            const saved = localStorage.getItem('ue32_progress_v3');
            if (saved) {
                const data = JSON.parse(saved);
                questionsState = data.questions || {};
                uploadedSchemas = data.schemas || {};
                
                // Restore visual state
                Object.keys(questionsState).forEach(qId => {
                    const state = questionsState[qId];
                    if (state.validated && state.correct !== undefined) {
                        updateQuestionStatus(qId, state.correct);
                    }
                });
                
                // Restore schemas
                Object.keys(uploadedSchemas).forEach(qId => {
                    const preview = document.getElementById('schema-preview-' + qId);
                    if (preview) {
                        preview.src = uploadedSchemas[qId];
                        preview.style.display = 'block';
                    }
                });
            }
        }
    </script>
</body>
</html>
