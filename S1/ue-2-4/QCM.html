<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QCM multi-rÃ©ponses â€” UE 2.4</title>
  <link rel="preload" href="qcm.js" as="script">
  <style>
    :root{--bg:#0f172a;--card:#111827;--muted:#94a3b8;--text:#e5e7eb;--ok:#16a34a;--ko:#dc2626;--accent:#2563eb;--warn:#f59e0b;--ink:#0b1223;--light:#e5e7eb}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0b1223,#0f172a);color:var(--text);font:16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .container{max-width:1000px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:clamp(1.1rem,3vw,1.7rem);margin:0}
    .card{background:rgba(17,24,39,.9);backdrop-filter:saturate(1.2) blur(6px);border:1px solid rgba(148,163,184,.18);border-radius:16px;padding:20px;margin:14px 0;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .muted{color:var(--muted)}
    .btn{cursor:pointer;border:1px solid rgba(148,163,184,.28);background:#0b1223;color:var(--text);padding:8px 14px;border-radius:999px;font-weight:700;transition:transform .05s ease, background .2s, filter .2s; font-size:.9rem}
    .btn:hover{background:#0f1a31}
    .btn:active{transform:translateY(1px)}
    .btn.primary{background:var(--accent);border-color:transparent}
    .btn.primary:hover{filter:brightness(1.1)}
    .seg{display:inline-flex;border:1px solid rgba(148,163,184,.45);border-radius:999px;overflow:hidden;background:rgba(229,231,235,.2)}
    .seg button{border:0;background:var(--light);color:#111827;padding:8px 18px;font-weight:800}
    .seg button+button{border-left:1px solid rgba(148,163,184,.45)}
    .seg button.active{background:var(--accent);color:white}
    .q{display:grid;gap:10px}
    .q-title{font-weight:800}
    .q-tools{display:flex;gap:8px}
    .ans{display:flex;gap:10px;align-items:flex-start;padding:10px;border:1px solid rgba(148,163,184,.25);border-radius:12px;transition:border-color .2s, background .2s}
    .ans input{margin-top:3px;transform:scale(1.2)}
    .ans.correct{border-color:rgba(22,163,74,.75);background:rgba(22,163,74,.12)}
    .ans.incorrect{border-color:rgba(220,38,38,.75);background:rgba(220,38,38,.1)}
    .explain{border-left:3px solid var(--muted);padding-left:10px;margin-top:8px}
    .score{font-weight:900}
    .progress{height:8px;border-radius:999px;background:#0b1223;border:1px solid rgba(148,163,184,.28);overflow:hidden}
    .progress>span{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#22c55e)}
    details[hidden]{display:none}
    .tipbox{display:flex;align-items:center;gap:8px;background:rgba(37,99,235,.12);border:1px solid rgba(37,99,235,.45);padding:8px 10px;border-radius:10px;font-size:.9rem}
    .tipbox[hidden]{display:none}
    .badge{font-size:.85rem;border:1px solid rgba(148,163,184,.35);border-radius:999px;padding:4px 10px}
    .diff{display:inline-flex;align-items:center;gap:8px;background:#111827;border:1px solid rgba(148,163,184,.28);padding:4px 10px;border-radius:999px}
    .stars{font-weight:900;letter-spacing:.5px}
    .star{color:#f59e0b;font-size:1em;line-height:1}
    .star.unfilled{opacity:.28;filter:grayscale(30%)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    /* Badge TD (Connaissance impÃ©rative) */
    .chip{display:inline-block;margin-left:.5rem;padding:2px 8px;border-radius:999px;background:#f59e0b;color:#111;font-weight:800;font-size:.8rem;border:1px solid rgba(0,0,0,.15)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>QCM multi-rÃ©ponses â€” Modes Apprentissage / Partiel</h1>
      <div class="row">
        <button id="shuffle" class="btn" title="MÃ©langer les questions (r)">ğŸ”€ MÃ©langer</button>
        <button id="reset" class="btn" title="RÃ©initialiser (n)">â™»ï¸ Recommencer</button>
      </div>
    </header>

    <div class="card" id="modes">
      <div class="row" style="justify-content:space-between;align-items:flex-start">
        <div>
          <div class="muted" style="font-size:.95rem;margin-bottom:6px"><b>Choisissez un mode :</b></div>
          <div class="seg" role="tablist" aria-label="Modes dâ€™entraÃ®nement">
            <button id="mode-appr" role="tab" aria-selected="true" class="active">ğŸ§  Apprentissage</button>
            <button id="mode-part" role="tab" aria-selected="false">ğŸ“ Partiel</button>
          </div>
        </div>
        <div class="muted" style="max-width:560px;font-size:.95rem">
          <p><b>Apprentissage :</b> corrigez <u>chaque question</u> immÃ©diatement avec le bouton Â« Corriger cette question Â» pour afficher la correction et lâ€™explication.</p>
          <p><b>Partiel :</b> remplissez tout le QCM puis cliquez sur <u>Â« Corriger Â»</u> en bas pour obtenir le score et les explications en une fois.</p>
        </div>
      </div>
      <div class="row" style="justify-content:space-between;margin-top:10px">
        <div>RÃ©pondues : <span id="counter">0</span>/<span id="total">0</span></div>
        <span class="badge" id="modeBadge">Mode : Apprentissage</span>
      </div>
      <div class="progress" style="margin-top:12px"><span id="bar" style="width:0%"></span></div>
    </div>

    <div id="quiz"></div>

    <div class="card row" style="justify-content:space-between">
      <div>Score: <span class="score" id="score">â€”</span></div>
      <div class="row">
        <button id="check" class="btn primary">âœ… Corriger</button>
        <button id="showAnswers" class="btn">ğŸ‘€ RÃ©ponses</button>
      </div>
    </div>

    <footer class="muted" style="font-size:.85rem">Fichier unique, aucune dÃ©pendance. HÃ©bergeable via GitHub Pages.</footer>
  </div>

  <!-- Script externe -->
  <script src="qcm.js" defer></script>
</body>
</html>
