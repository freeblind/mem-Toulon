<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crit√®res de R√©ussite Radiologique - Membre Sup√©rieur</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .image-marker {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 0, 0, 0.6);
            border: 2px solid white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }
        .image-marker:hover {
            transform: scale(1.3);
            background: rgba(255, 0, 0, 0.9);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Ic√¥nes SVG
        const Icons = {
            ChevronRight: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                </svg>
            ),
            ChevronLeft: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
                </svg>
            ),
            CheckCircle: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            XCircle: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            Eye: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
            ),
            BookOpen: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                </svg>
            ),
            Image: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            ),
            RotateCcw: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
            ),
            Award: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                </svg>
            ),
            Upload: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                </svg>
            ),
            Download: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                </svg>
            ),
            Plus: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                </svg>
            ),
            Trash: ({ className }) => (
                <svg className={className || "w-6 h-6"} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
            )
        };

        // ========================================
        // SECTION IMAGES - MODIFIEZ ICI VOS IMAGES
        // ========================================
        // Pour ajouter vos images :
        // 1. Convertissez vos images JPG/PNG en base64 (utilisez un site comme base64-image.de)
        // 2. Remplacez les cha√Ænes vides "" par vos donn√©es base64
        // 3. Format : "data:image/jpeg;base64,/9j/4AAQSkZJRg..." ou "data:image/png;base64,iVBORw0KGgo..."
        
        const imagesRadio = {
            'main-face': '',  // Remplacez par votre image base64 de main de face
            'main-oblique': '',  // Remplacez par votre image base64 de main oblique
            'poignet-face': '',  // Remplacez par votre image base64 de poignet de face
            'poignet-profil': '',  // Remplacez par votre image base64 de poignet profil
            'coude-face': '',  // Remplacez par votre image base64 de coude de face
            'coude-profil': '',  // Remplacez par votre image base64 de coude profil
            'epaule-face': '',  // Remplacez par votre image base64 d'√©paule de face
            'epaule-profil': ''  // Remplacez par votre image base64 d'√©paule profil
        };
        
        // ========================================
        // FIN DE LA SECTION IMAGES
        // ========================================

        // Base de donn√©es des incidences
        const incidencesData = [
            {
                id: 'main-face',
                nom: 'MAIN - Face dorso-palmaire',
                indication: 'Traumatologie',
                parametres: {
                    kV: '45-50',
                    mAs: '2,5-3,2',
                    foyer: 'PF',
                    cassette: '24√ó30 portrait',
                    dfd: '1-1,10 m'
                },
                positionnement: [
                    'Patient assis lat√©ralement, bras en abduction 90¬∞',
                    'Main en pronation √† plat, doigts √©cart√©s',
                    '3√®me doigt dans l\'axe de l\'avant-bras'
                ],
                centrage: 'Articulation m√©tacarpo-phalangienne du 3√®me doigt',
                criteres: {
                    champs: [
                        'Main et poignet en entier',
                        'Extr√©mit√© distale du 3√®me doigt au quart inf√©rieur du radius',
                        'Int√©gralit√© des contours cutan√©s'
                    ],
                    positionnement: [
                        'Interligne m√©tacarpo-phalangiennes d√©gag√©',
                        '3√®me doigt dans l\'axe du radius',
                        'Bon d√©gagement interligne lunatum-triquetrum'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Visualisation contours parties molles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Extr√©mit√© distale 3√®me doigt', type: 'champs' },
                    { nom: 'Quart inf√©rieur radius', type: 'champs' },
                    { nom: 'Interligne MCP', type: 'positionnement' },
                    { nom: 'Axe 3√®me doigt-radius', type: 'positionnement' }
                ]
            },
            {
                id: 'main-oblique',
                nom: 'MAIN - Oblique dorso-palmaire',
                indication: 'Traumatologie, rhumatologie',
                parametres: {
                    kV: '45-50',
                    mAs: '2,5-3,2',
                    foyer: 'PF',
                    cassette: '24√ó30 portrait',
                    dfd: '1-1,10 m'
                },
                positionnement: [
                    'Patient assis lat√©ralement, bras en abduction 90¬∞',
                    'Main en semi-pronation 45¬∞ (appui hypoth√©nar)',
                    'Doigts l√©g√®rement √©cart√©s'
                ],
                centrage: 'Entre t√™tes 2√®me et 3√®me m√©tacarpiens',
                criteres: {
                    champs: [
                        'Main et poignet en entier',
                        'Extr√©mit√© distale doigts au quart distal radius'
                    ],
                    positionnement: [
                        'Interligne m√©tacarpo-phalangiennes visible',
                        'Absence de superposition des phalanges',
                        'Diaphyses m√©tacarpiennes libres'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Visualisation contours parties molles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Obliquit√© 45¬∞', type: 'positionnement' },
                    { nom: 'Interligne MCP', type: 'positionnement' },
                    { nom: 'Diaphyses m√©tacarpiennes', type: 'positionnement' }
                ]
            },
            {
                id: 'poignet-face',
                nom: 'POIGNET - Face dorso-palmaire',
                indication: 'Traumatologie, orthop√©die, rhumatologie',
                parametres: {
                    kV: '45-50',
                    mAs: '2-3,2',
                    foyer: 'PF',
                    cassette: '18√ó24',
                    dfd: '1-1,10 m'
                },
                positionnement: [
                    'Patient assis lat√©ralement, bras en abduction 90¬∞',
                    'Main en pronation, poignet √† plat',
                    '3√®me doigt dans l\'axe de l\'avant-bras'
                ],
                centrage: 'Ligne bi-stylo√Ødienne, axe 3√®me m√©tacarpien',
                criteres: {
                    champs: [
                        'Articulations MCP 2 √† 5',
                        'Tiers distal radius et ulna'
                    ],
                    positionnement: [
                        '3√®me m√©tacarpien dans l\'axe du radius',
                        'Processus stylo√Ødes d√©gag√©s',
                        'Interligne bases 3√®me-4√®me m√©tacarpiens visible',
                        'Articulations carpo-m√©tacarpiennes visibles',
                        'T√™tes m√©tacarpiennes de face, sym√©trie diaphyses',
                        'Bon d√©gagement articulation radio-ulnaire distale'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Visualisation contours parties molles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Axe 3√®me MC-radius', type: 'positionnement' },
                    { nom: 'Processus stylo√Ødes', type: 'positionnement' },
                    { nom: 'Interligne 3-4 MC', type: 'positionnement' },
                    { nom: 'Radio-ulnaire distale', type: 'positionnement' }
                ]
            },
            {
                id: 'poignet-profil',
                nom: 'POIGNET - Profil',
                indication: 'Traumatologie, orthop√©die, rhumatologie',
                parametres: {
                    kV: '50',
                    mAs: '3-5',
                    foyer: 'PF',
                    cassette: '18√ó24',
                    dfd: '1-1,10 m'
                },
                positionnement: [
                    'Patient assis lat√©ralement, bras en abduction 90¬∞',
                    'Main en appui ulnaire, doigts en extension',
                    'Alignement avant-bras-main, pouce d√©gag√©'
                ],
                centrage: 'Tabati√®re anatomique',
                criteres: {
                    champs: [
                        'Parties moyennes et proximales m√©tacarpiens',
                        'Carpe complet',
                        'Radius et ulna distaux'
                    ],
                    positionnement: [
                        'Superposition radius-ulna sur tout le quart inf√©rieur',
                        'Pisiforme derri√®re capitatum et en regard scapho√Øde',
                        'Superposition bases 2√®me et 3√®me m√©tacarpiens',
                        'Alignement radius-lunatum-capitatum-3√®me MC'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Contours parties molles et bandes graisseuses',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Superposition radius-ulna', type: 'positionnement' },
                    { nom: 'Position pisiforme', type: 'positionnement' },
                    { nom: 'Alignement RLCM', type: 'positionnement' }
                ]
            },
            {
                id: 'coude-face',
                nom: 'COUDE - Face',
                indication: 'Traumatologie, orthop√©die, rhumatologie',
                parametres: {
                    kV: '50',
                    mAs: '3,2-5',
                    foyer: 'PF',
                    cassette: '18√ó24 portrait',
                    dfd: '1-1,1 m'
                },
                positionnement: [
                    'Patient assis, √©paule-coude-poignet m√™me horizontale',
                    'Membre en extension et supination',
                    'Avant-bras sur face dorsale'
                ],
                centrage: 'Ligne bi-√©picondylienne, milieu',
                criteres: {
                    champs: [
                        'Quart distal hum√©rus',
                        'Quart proximal radius et ulna'
                    ],
                    positionnement: [
                        'Interligne capitulo-radiale bien d√©gag√©',
                        'Interligne troch√©o-ulnaire visible',
                        '√âpicondyles lat√©ral et m√©dial de face'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Visualisation contours parties molles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Interligne capitulo-radiale', type: 'positionnement' },
                    { nom: 'Interligne troch√©o-ulnaire', type: 'positionnement' },
                    { nom: '√âpicondyles', type: 'positionnement' }
                ]
            },
            {
                id: 'coude-profil',
                nom: 'COUDE - Profil',
                indication: 'Traumatologie, orthop√©die, rhumatologie',
                parametres: {
                    kV: '50',
                    mAs: '3,2-5',
                    foyer: 'PF',
                    cassette: '18√ó24 portrait',
                    dfd: '1-1,1 m'
                },
                positionnement: [
                    'Patient assis, √©paule au-dessus du coude',
                    'Coude fl√©chi 90¬∞, appui bord ulnaire',
                    'Poignet en profil strict'
                ],
                centrage: '√âpicondyle lat√©ral',
                criteres: {
                    champs: [
                        'Quart distal hum√©rus (‚â•5 cm)',
                        'Quart proximal radius et ulna (‚â•5 cm)'
                    ],
                    positionnement: [
                        'Articulations capitulo-radiale et troch√©o-ulnaire de profil',
                        'Superposition des √©picondyles',
                        'Fossettes ol√©cranienne et corono√Ødienne en contact',
                        'Processus corono√Øde superpos√© moiti√© post. t√™te radiale'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Visualisation contours parties molles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Superposition √©picondyles', type: 'positionnement' },
                    { nom: 'Fossettes de profil', type: 'positionnement' },
                    { nom: 'Processus corono√Øde', type: 'positionnement' }
                ]
            },
            {
                id: 'epaule-face',
                nom: '√âPAULE - Face rotation neutre',
                indication: 'Traumatologie, orthop√©die, rhumatologie',
                parametres: {
                    kV: '65-70',
                    mAs: 'Cellule centrale',
                    foyer: 'PF',
                    cassette: '24√ó30 + Potter',
                    dfd: '1-1,1 m'
                },
                positionnement: [
                    'Patient debout/assis, oblique post. 35-45¬∞',
                    'T√™te tourn√©e c√¥t√© oppos√©',
                    'Coude fl√©chi, main en supination, ligne bi-√©picondylienne // d√©tecteur'
                ],
                centrage: 'Fossette sous-acromiale',
                rayonDirecteur: 'Inclinaison cranio-podale 20-30¬∞',
                criteres: {
                    champs: [
                        'Hum√©rus proximal',
                        '2/3 externes clavicule',
                        'Partie sup√©rieure scapula'
                    ],
                    positionnement: [
                        'Articulation gl√©no-hum√©rale d√©gag√©e',
                        'Superposition clavicule-√©pine scapula (espace sous-acromial)',
                        'Processus coraco√Øde empi√©tant t√™te 5-10 mm',
                        'Tubercule mineur de face au centre t√™te hum√©rale',
                        'Tubercule majeur de profil externe',
                        'Col anatomique oblique 45¬∞'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Parties molles visibles et d√©limit√©es (delto√Øde)',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Gl√©no-hum√©rale', type: 'positionnement' },
                    { nom: 'Clavicule-√©pine', type: 'positionnement' },
                    { nom: 'Processus coraco√Øde', type: 'positionnement' },
                    { nom: 'Tubercules', type: 'positionnement' }
                ]
            },
            {
                id: 'epaule-profil',
                nom: '√âPAULE - Profil coiffe (Neer/Lamy)',
                indication: 'Orthop√©die, traumatologie, rhumatologie',
                parametres: {
                    kV: '65-70',
                    mAs: 'Cellule centrale',
                    foyer: 'PF',
                    cassette: '24√ó30 + Potter',
                    dfd: '1-1,1 m'
                },
                positionnement: [
                    'Patient assis/debout, oblique ant. 45-60¬∞ c√¥t√© √† explorer',
                    'Bras en abduction 100-120¬∞',
                    'Coude fl√©chi reposant sur potter'
                ],
                centrage: 'Le long √©pine scapula, hauteur t√™te hum√©rale',
                rayonDirecteur: 'Inclinaison cranio-podale 15-20¬∞',
                criteres: {
                    champs: [
                        'Partie proximale hum√©rus et scapula',
                        '1/3 externe clavicule'
                    ],
                    positionnement: [
                        'Gl√®ne projet√©e de face',
                        'Scapula en Y, croisement centr√© t√™te hum√©rale',
                        'Cintre acromio-claviculaire harmonieux',
                        'Espace sous-acromial d√©gag√©',
                        'Absence superposition c√¥tes'
                    ],
                    exposition: [
                        'Bon contraste osseux',
                        'Contours parties molles visibles',
                        'Absence de flou cin√©tique'
                    ]
                },
                reperes: [
                    { nom: 'Gl√®ne de face', type: 'positionnement' },
                    { nom: 'Y scapulaire', type: 'positionnement' },
                    { nom: 'Cintre AC', type: 'positionnement' },
                    { nom: 'Espace sous-acromial', type: 'positionnement' }
                ]
            }
        ];

        // Questions pour le mode quiz
        const quizQuestions = [
            {
                id: 1,
                incidence: 'main-face',
                question: 'Quels sont les kV utilis√©s pour une main de face ?',
                options: ['40-45', '45-50', '50-55', '55-60'],
                correct: 1,
                explication: 'Pour la main de face, on utilise 45-50 kV avec un petit foyer.'
            },
            {
                id: 2,
                incidence: 'main-face',
                question: 'Quel crit√®re de positionnement est ESSENTIEL pour la main de face ?',
                options: [
                    'Le pouce doit √™tre en abduction',
                    'Le 3√®me doigt doit √™tre dans l\'axe du radius',
                    'Les doigts doivent √™tre fl√©chis',
                    'La main doit √™tre en supination'
                ],
                correct: 1,
                explication: 'Le 3√®me doigt dans l\'axe du radius est un crit√®re fondamental de positionnement.'
            },
            {
                id: 3,
                incidence: 'poignet-face',
                question: 'Combien d\'articulations MCP doivent √™tre visibles sur un poignet de face ?',
                options: ['2 √† 3', '2 √† 5', '1 √† 5', 'Toutes'],
                correct: 1,
                explication: 'Les articulations m√©tacarpo-phalangiennes 2 √† 5 doivent √™tre visibles.'
            },
            {
                id: 4,
                incidence: 'poignet-profil',
                question: 'Sur un poignet de profil, o√π doit se situer le pisiforme ?',
                options: [
                    'Devant le capitatum',
                    'Derri√®re le capitatum et en regard du scapho√Øde',
                    'Au-dessus du lunatum',
                    'En regard du triquetrum'
                ],
                correct: 1,
                explication: 'Le pisiforme doit se situer derri√®re le capitatum et en regard du scapho√Øde - c\'est un √©l√©ment indispensable avant mesure.'
            },
            {
                id: 5,
                incidence: 'coude-face',
                question: 'Quel foyer est utilis√© pour un coude de face ?',
                options: ['Grand foyer', 'Petit foyer', 'Indiff√©rent', 'Les deux'],
                correct: 1,
                explication: 'On utilise le petit foyer (PF) pour toutes les incidences du coude.'
            },
            {
                id: 6,
                incidence: 'coude-profil',
                question: '√Ä quel angle doit √™tre fl√©chi le coude pour un profil ?',
                options: ['45¬∞', '60¬∞', '90¬∞', '120¬∞'],
                correct: 2,
                explication: 'Le coude doit √™tre fl√©chi √† 90¬∞ pour l\'incidence de profil.'
            },
            {
                id: 7,
                incidence: 'epaule-face',
                question: 'Quels sont les kV recommand√©s pour une √©paule de face ?',
                options: ['50-55', '55-60', '60-65', '65-70'],
                correct: 3,
                explication: 'Pour l\'√©paule, on utilise 65-70 kV avec un potter (cassette).'
            },
            {
                id: 8,
                incidence: 'epaule-face',
                question: 'Quelle inclinaison du rayon directeur pour l\'√©paule de face ?',
                options: [
                    'Vertical',
                    'Cranio-podale 10-15¬∞',
                    'Cranio-podale 20-30¬∞',
                    'Podal-cranial 15¬∞'
                ],
                correct: 2,
                explication: 'Le rayon directeur a une inclinaison cranio-podale de 20-30¬∞ pour d√©gager l\'espace sous-acromial.'
            },
            {
                id: 9,
                incidence: 'epaule-profil',
                question: 'Pour l\'√©paule profil coiffe, la scapula doit appara√Ætre sous quelle forme ?',
                options: ['Ovale', 'Y', 'T', 'L'],
                correct: 1,
                explication: 'La scapula doit √™tre visible en Y dont le croisement est centr√© au milieu de la t√™te hum√©rale.'
            },
            {
                id: 10,
                incidence: 'main-oblique',
                question: 'Quelle obliquit√© pour la main oblique dorso-palmaire ?',
                options: ['30¬∞', '45¬∞', '60¬∞', '90¬∞'],
                correct: 1,
                explication: 'La main doit √™tre en semi-pronation de 45¬∞ (appui sur l\'√©minence hypoth√©nar).'
            },
            {
                id: 11,
                incidence: 'poignet-face',
                question: 'Quel crit√®re indique une bonne rotation pour le poignet de face ?',
                options: [
                    'Processus stylo√Ødes superpos√©s',
                    'Processus stylo√Ødes d√©gag√©s',
                    'Ulna non visible',
                    'Radius raccourci'
                ],
                correct: 1,
                explication: 'Les processus stylo√Ødes doivent √™tre d√©gag√©s, prouvant une bonne rotation en pronation.'
            },
            {
                id: 12,
                incidence: 'coude-profil',
                question: 'Que doit-on visualiser sur un coude de profil bien positionn√© ?',
                options: [
                    '√âpicondyles s√©par√©s',
                    'Superposition des √©picondyles',
                    'Un seul √©picondyle',
                    '√âpicondyles en oblique'
                ],
                correct: 1,
                explication: 'La superposition des √©picondyles est un crit√®re majeur du coude de profil.'
            }
        ];

        const CriteresRadio = () => {
            const [mode, setMode] = useState('menu');
            const [quizState, setQuizState] = useState({
                currentQuestion: 0,
                score: 0,
                answers: [],
                finished: false
            });
            const [revisionIndex, setRevisionIndex] = useState(0);
            const [imageIndex, setImageIndex] = useState(0);
            const [showCriteria, setShowCriteria] = useState(true);
            const fileInputRef = useRef(null);
            const [editMode, setEditMode] = useState(false);
            const [currentImages, setCurrentImages] = useState(imagesRadio);

            const startQuiz = () => {
                setQuizState({
                    currentQuestion: 0,
                    score: 0,
                    answers: [],
                    finished: false
                });
                setMode('quiz');
            };

            const answerQuestion = (answerIndex) => {
                const currentQ = quizQuestions[quizState.currentQuestion];
                const isCorrect = answerIndex === currentQ.correct;
                
                const newAnswers = [...quizState.answers, {
                    questionId: currentQ.id,
                    correct: isCorrect,
                    selected: answerIndex
                }];
                
                const newScore = isCorrect ? quizState.score + 1 : quizState.score;
                
                if (quizState.currentQuestion < quizQuestions.length - 1) {
                    setQuizState({
                        ...quizState,
                        currentQuestion: quizState.currentQuestion + 1,
                        score: newScore,
                        answers: newAnswers
                    });
                } else {
                    setQuizState({
                        ...quizState,
                        score: newScore,
                        answers: newAnswers,
                        finished: true
                    });
                }
            };

            const handleImageUpload = (incidenceId, event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setCurrentImages(prev => ({
                            ...prev,
                            [incidenceId]: reader.result
                        }));
                    };
                    reader.readAsDataURL(file);
                }
            };

            const exportHTMLWithImages = () => {
                // Cr√©er une copie du document HTML actuel
                const htmlContent = document.documentElement.outerHTML;
                
                // Remplacer les images dans le code source
                let modifiedHTML = htmlContent;
                Object.keys(currentImages).forEach(key => {
                    const imageData = currentImages[key];
                    if (imageData) {
                        // √âchapper les caract√®res sp√©ciaux pour la regex
                        const escapedKey = key.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                        const regex = new RegExp(`'${escapedKey}':\\s*'[^']*'`, 'g');
                        modifiedHTML = modifiedHTML.replace(regex, `'${key}': '${imageData}'`);
                    }
                });

                // Cr√©er un blob et t√©l√©charger
                const blob = new Blob([modifiedHTML], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'criteres_radiologie_avec_images.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const renderMenu = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
                            <h1 className="text-4xl font-bold text-center text-indigo-900 mb-2">
                                üìª Crit√®res de R√©ussite Radiologique
                            </h1>
                            <p className="text-center text-gray-600 mb-6">Membre Sup√©rieur - UE 4.4 S1</p>
                            <p className="text-center text-sm text-gray-500">IFPVPS - Formation MER</p>
                        </div>

                        <div className="grid md:grid-cols-3 gap-6">
                            <button
                                onClick={startQuiz}
                                className="bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"
                            >
                                <Icons.CheckCircle className="w-16 h-16 mx-auto mb-4" />
                                <h2 className="text-2xl font-bold mb-2">Mode Quiz</h2>
                                <p className="text-green-100">Testez vos connaissances sur les crit√®res</p>
                                <div className="mt-4 text-sm bg-white/20 rounded-lg p-2">
                                    {quizQuestions.length} questions
                                </div>
                            </button>

                            <button
                                onClick={() => {
                                    setRevisionIndex(0);
                                    setMode('revision');
                                }}
                                className="bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"
                            >
                                <Icons.BookOpen className="w-16 h-16 mx-auto mb-4" />
                                <h2 className="text-2xl font-bold mb-2">Mode R√©vision</h2>
                                <p className="text-blue-100">R√©visez toutes les incidences</p>
                                <div className="mt-4 text-sm bg-white/20 rounded-lg p-2">
                                    {incidencesData.length} incidences
                                </div>
                            </button>

                            <button
                                onClick={() => {
                                    setImageIndex(0);
                                    setMode('images');
                                }}
                                className="bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"
                            >
                                <Icons.Image className="w-16 h-16 mx-auto mb-4" />
                                <h2 className="text-2xl font-bold mb-2">Mode Images</h2>
                                <p className="text-purple-100">Identification visuelle des crit√®res</p>
                                <div className="mt-4 text-sm bg-white/20 rounded-lg p-2">
                                    Apprentissage visuel
                                </div>
                            </button>
                        </div>

                        <div className="mt-8 bg-white rounded-xl shadow-lg p-6">
                            <h3 className="text-xl font-bold text-gray-800 mb-4">üìö Liste des incidences</h3>
                            <div className="grid md:grid-cols-2 gap-3">
                                {incidencesData.map((inc) => (
                                    <div key={inc.id} className="border-l-4 border-indigo-500 pl-3 py-2 bg-gray-50 rounded">
                                        <div className="font-semibold text-gray-800">{inc.nom}</div>
                                        <div className="text-sm text-gray-600">{inc.indication}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderQuiz = () => {
                if (quizState.finished) {
                    const percentage = Math.round((quizState.score / quizQuestions.length) * 100);
                    return (
                        <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6 flex items-center justify-center">
                            <div className="bg-white rounded-2xl shadow-xl p-8 max-w-2xl w-full">
                                <div className="text-center">
                                    <Icons.Award className="w-24 h-24 mx-auto mb-6 text-yellow-500" />
                                    <h2 className="text-3xl font-bold text-gray-800 mb-4">Quiz Termin√© !</h2>
                                    
                                    <div className="bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl p-6 mb-6">
                                        <div className="text-5xl font-bold mb-2">{percentage}%</div>
                                        <div className="text-xl">{quizState.score} / {quizQuestions.length} correct</div>
                                    </div>

                                    {percentage >= 80 && (
                                        <div className="bg-green-100 border-l-4 border-green-500 p-4 mb-4">
                                            <p className="text-green-800 font-semibold">üéâ Excellent ! Vous ma√Ætrisez bien les crit√®res !</p>
                                        </div>
                                    )}
                                    {percentage >= 60 && percentage < 80 && (
                                        <div className="bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4">
                                            <p className="text-yellow-800 font-semibold">üëç Bon travail ! Continuez √† r√©viser.</p>
                                        </div>
                                    )}
                                    {percentage < 60 && (
                                        <div className="bg-orange-100 border-l-4 border-orange-500 p-4 mb-4">
                                            <p className="text-orange-800 font-semibold">üí™ R√©visez les fiches et retentez le quiz !</p>
                                        </div>
                                    )}

                                    <div className="space-y-2 mb-6 max-h-96 overflow-y-auto">
                                        {quizQuestions.map((q, idx) => {
                                            const answer = quizState.answers[idx];
                                            return (
                                                <div key={q.id} className={`p-3 rounded-lg ${answer.correct ? 'bg-green-100' : 'bg-red-100'}`}>
                                                    <div className="flex items-center justify-between">
                                                        <span className="font-medium">Question {idx + 1}</span>
                                                        {answer.correct ? (
                                                            <Icons.CheckCircle className="w-5 h-5 text-green-600" />
                                                        ) : (
                                                            <Icons.XCircle className="w-5 h-5 text-red-600" />
                                                        )}
                                                    </div>
                                                    {!answer.correct && (
                                                        <div className="text-sm text-gray-700 mt-2">{q.explication}</div>
                                                    )}
                                                </div>
                                            );
                                        })}
                                    </div>

                                    <div className="flex gap-4">
                                        <button
                                            onClick={startQuiz}
                                            className="flex-1 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2"
                                        >
                                            <Icons.RotateCcw className="w-5 h-5" />
                                            Recommencer
                                        </button>
                                        <button
                                            onClick={() => setMode('menu')}
                                            className="flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors"
                                        >
                                            Menu Principal
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    );
                }

                const currentQ = quizQuestions[quizState.currentQuestion];
                const progress = ((quizState.currentQuestion + 1) / quizQuestions.length) * 100;

                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                        <div className="max-w-3xl mx-auto">
                            <div className="mb-6">
                                <div className="flex justify-between text-sm text-gray-600 mb-2">
                                    <span>Question {quizState.currentQuestion + 1} / {quizQuestions.length}</span>
                                    <span>Score: {quizState.score}</span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                    <div 
                                        className="bg-indigo-600 h-2 rounded-full transition-all duration-300"
                                        style={{ width: `${progress}%` }}
                                    />
                                </div>
                            </div>

                            <div className="bg-white rounded-2xl shadow-xl p-8">
                                <div className="mb-4 inline-block bg-indigo-100 text-indigo-800 px-4 py-2 rounded-lg text-sm font-semibold">
                                    {incidencesData.find(i => i.id === currentQ.incidence)?.nom}
                                </div>

                                <h2 className="text-2xl font-bold text-gray-800 mb-6">{currentQ.question}</h2>

                                <div className="space-y-3">
                                    {currentQ.options.map((option, idx) => (
                                        <button
                                            key={idx}
                                            onClick={() => answerQuestion(idx)}
                                            className="w-full text-left p-4 rounded-xl border-2 border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200 font-medium"
                                        >
                                            <span className="inline-block w-8 h-8 bg-indigo-100 text-indigo-800 rounded-full text-center leading-8 mr-3 font-bold">
                                                {String.fromCharCode(65 + idx)}
                                            </span>
                                            {option}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <button
                                onClick={() => setMode('menu')}
                                className="mt-6 w-full bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors"
                            >
                                Retour au menu
                            </button>
                        </div>
                    </div>
                );
            };

            const renderRevision = () => {
                const currentInc = incidencesData[revisionIndex];

                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                        <div className="max-w-4xl mx-auto">
                            <div className="mb-6 flex justify-between items-center">
                                <div className="text-sm text-gray-600">
                                    Incidence {revisionIndex + 1} / {incidencesData.length}
                                </div>
                                <button
                                    onClick={() => setMode('menu')}
                                    className="bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-700 transition-colors"
                                >
                                    Retour au menu
                                </button>
                            </div>

                            <div className="bg-white rounded-2xl shadow-xl overflow-hidden">
                                <div className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6">
                                    <h2 className="text-3xl font-bold mb-2">{currentInc.nom}</h2>
                                    <div className="flex items-center gap-4 text-indigo-100">
                                        <span>üìã {currentInc.indication}</span>
                                    </div>
                                </div>

                                <div className="p-6 space-y-6">
                                    <div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                                            ‚öôÔ∏è Param√®tres Techniques
                                        </h3>
                                        <div className="grid md:grid-cols-2 gap-3">
                                            <div className="bg-blue-50 p-3 rounded-lg">
                                                <span className="font-semibold text-blue-900">kV:</span>
                                                <span className="ml-2 text-blue-700">{currentInc.parametres.kV}</span>
                                            </div>
                                            <div className="bg-blue-50 p-3 rounded-lg">
                                                <span className="font-semibold text-blue-900">mAs:</span>
                                                <span className="ml-2 text-blue-700">{currentInc.parametres.mAs}</span>
                                            </div>
                                            <div className="bg-blue-50 p-3 rounded-lg">
                                                <span className="font-semibold text-blue-900">Foyer:</span>
                                                <span className="ml-2 text-blue-700">{currentInc.parametres.foyer}</span>
                                            </div>
                                            <div className="bg-blue-50 p-3 rounded-lg">
                                                <span className="font-semibold text-blue-900">Cassette:</span>
                                                <span className="ml-2 text-blue-700">{currentInc.parametres.cassette}</span>
                                            </div>
                                            <div className="bg-blue-50 p-3 rounded-lg md:col-span-2">
                                                <span className="font-semibold text-blue-900">DFD:</span>
                                                <span className="ml-2 text-blue-700">{currentInc.parametres.dfd}</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                                            üéØ Positionnement Patient
                                        </h3>
                                        <div className="space-y-2">
                                            {currentInc.positionnement.map((pos, idx) => (
                                                <div key={idx} className="flex items-start gap-2 bg-gray-50 p-3 rounded-lg">
                                                    <span className="text-indigo-600 font-bold">‚Ä¢</span>
                                                    <span className="text-gray-700">{pos}</span>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="mt-3 bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded">
                                            <span className="font-semibold text-yellow-900">Centrage:</span>
                                            <span className="ml-2 text-yellow-800">{currentInc.centrage}</span>
                                        </div>
                                        {currentInc.rayonDirecteur && (
                                            <div className="mt-2 bg-orange-50 border-l-4 border-orange-400 p-3 rounded">
                                                <span className="font-semibold text-orange-900">Rayon directeur:</span>
                                                <span className="ml-2 text-orange-800">{currentInc.rayonDirecteur}</span>
                                            </div>
                                        )}
                                    </div>

                                    <div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                                            ‚úÖ Crit√®res de R√©ussite
                                        </h3>
                                        
                                        <div className="mb-4">
                                            <h4 className="font-bold text-green-800 mb-2 bg-green-100 inline-block px-3 py-1 rounded">
                                                üìè De champs
                                            </h4>
                                            <div className="space-y-2 mt-2">
                                                {currentInc.criteres.champs.map((crit, idx) => (
                                                    <div key={idx} className="flex items-start gap-2 bg-green-50 p-3 rounded-lg border-l-4 border-green-500">
                                                        <Icons.CheckCircle className="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" />
                                                        <span className="text-gray-700">{crit}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="mb-4">
                                            <h4 className="font-bold text-blue-800 mb-2 bg-blue-100 inline-block px-3 py-1 rounded">
                                                üéØ De positionnement
                                            </h4>
                                            <div className="space-y-2 mt-2">
                                                {currentInc.criteres.positionnement.map((crit, idx) => (
                                                    <div key={idx} className="flex items-start gap-2 bg-blue-50 p-3 rounded-lg border-l-4 border-blue-500">
                                                        <Icons.CheckCircle className="w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0" />
                                                        <span className="text-gray-700">{crit}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div>
                                            <h4 className="font-bold text-purple-800 mb-2 bg-purple-100 inline-block px-3 py-1 rounded">
                                                üí° D'exposition
                                            </h4>
                                            <div className="space-y-2 mt-2">
                                                {currentInc.criteres.exposition.map((crit, idx) => (
                                                    <div key={idx} className="flex items-start gap-2 bg-purple-50 p-3 rounded-lg border-l-4 border-purple-500">
                                                        <Icons.CheckCircle className="w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0" />
                                                        <span className="text-gray-700">{crit}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                                            üîç Rep√®res Anatomiques Cl√©s
                                        </h3>
                                        <div className="grid md:grid-cols-2 gap-2">
                                            {currentInc.reperes.map((rep, idx) => (
                                                <div key={idx} className={`p-3 rounded-lg ${
                                                    rep.type === 'champs' ? 'bg-green-50 border-l-4 border-green-400' :
                                                    'bg-blue-50 border-l-4 border-blue-400'
                                                }`}>
                                                    <span className="text-gray-700">{rep.nom}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="mt-6 flex gap-4">
                                <button
                                    onClick={() => setRevisionIndex(Math.max(0, revisionIndex - 1))}
                                    disabled={revisionIndex === 0}
                                    className="flex-1 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                                >
                                    <Icons.ChevronLeft />
                                    Pr√©c√©dent
                                </button>
                                <button
                                    onClick={() => setRevisionIndex(Math.min(incidencesData.length - 1, revisionIndex + 1))}
                                    disabled={revisionIndex === incidencesData.length - 1}
                                    className="flex-1 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                                >
                                    Suivant
                                    <Icons.ChevronRight />
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderImages = () => {
                const currentInc = incidencesData[imageIndex];
                const hasImage = currentImages[currentInc.id] && currentImages[currentInc.id].length > 0;

                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                        <div className="max-w-6xl mx-auto">
                            <div className="mb-6 flex justify-between items-center flex-wrap gap-4">
                                <div className="text-sm text-gray-600">
                                    Image {imageIndex + 1} / {incidencesData.length}
                                </div>
                                <div className="flex gap-2">
                                    <button
                                        onClick={() => setEditMode(!editMode)}
                                        className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                            editMode 
                                                ? 'bg-orange-600 text-white hover:bg-orange-700' 
                                                : 'bg-indigo-600 text-white hover:bg-indigo-700'
                                        }`}
                                    >
                                        <Icons.Upload className="inline w-5 h-5 mr-2" />
                                        {editMode ? 'Mode Visualisation' : 'Mode √âdition'}
                                    </button>
                                    <button
                                        onClick={exportHTMLWithImages}
                                        className="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors"
                                    >
                                        <Icons.Download className="inline w-5 h-5 mr-2" />
                                        Sauvegarder HTML
                                    </button>
                                    <button
                                        onClick={() => setMode('menu')}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-700 transition-colors"
                                    >
                                        Menu
                                    </button>
                                </div>
                            </div>

                            <div className="bg-white rounded-2xl shadow-xl overflow-hidden">
                                <div className="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6">
                                    <h2 className="text-3xl font-bold mb-2">{currentInc.nom}</h2>
                                    <div className="flex items-center gap-4 text-purple-100">
                                        <span>üìã {currentInc.indication}</span>
                                    </div>
                                </div>

                                <div className="p-6">
                                    <div className="grid md:grid-cols-2 gap-6">
                                        {/* Zone Image */}
                                        <div className="space-y-4">
                                            <h3 className="text-xl font-bold text-gray-800">üñºÔ∏è Radiographie</h3>
                                            
                                            {editMode && (
                                                <div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                                    <p className="text-sm text-yellow-800 mb-2">
                                                        <strong>Mode √âdition:</strong> Cliquez pour ajouter/modifier l'image
                                                    </p>
                                                    <input
                                                        type="file"
                                                        ref={fileInputRef}
                                                        accept="image/*"
                                                        onChange={(e) => handleImageUpload(currentInc.id, e)}
                                                        className="hidden"
                                                    />
                                                    <button
                                                        onClick={() => fileInputRef.current?.click()}
                                                        className="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2"
                                                    >
                                                        <Icons.Upload className="w-5 h-5" />
                                                        Choisir une image
                                                    </button>
                                                </div>
                                            )}

                                            <div className="relative bg-gray-900 rounded-lg overflow-hidden" style={{ minHeight: '400px' }}>
                                                {hasImage ? (
                                                    <img 
                                                        src={currentImages[currentInc.id]} 
                                                        alt={currentInc.nom}
                                                        className="w-full h-auto"
                                                    />
                                                ) : (
                                                    <div className="absolute inset-0 flex items-center justify-center">
                                                        <div className="text-center text-gray-400">
                                                            <Icons.Image className="w-24 h-24 mx-auto mb-4" />
                                                            <p className="text-lg">Aucune image</p>
                                                            {editMode && (
                                                                <p className="text-sm mt-2">Cliquez sur "Choisir une image" pour en ajouter une</p>
                                                            )}
                                                        </div>
                                                    </div>
                                                )}
                                            </div>

                                            <button
                                                onClick={() => setShowCriteria(!showCriteria)}
                                                className="w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2"
                                            >
                                                <Icons.Eye className="w-5 h-5" />
                                                {showCriteria ? 'Masquer' : 'Afficher'} les crit√®res
                                            </button>
                                        </div>

                                        {/* Zone Crit√®res */}
                                        {showCriteria && (
                                            <div className="space-y-4">
                                                <h3 className="text-xl font-bold text-gray-800">‚úÖ Crit√®res √† v√©rifier</h3>
                                                
                                                <div>
                                                    <h4 className="font-bold text-green-800 mb-2 bg-green-100 inline-block px-3 py-1 rounded">
                                                        üìè De champs
                                                    </h4>
                                                    <div className="space-y-2 mt-2">
                                                        {currentInc.criteres.champs.map((crit, idx) => (
                                                            <div key={idx} className="flex items-start gap-2 bg-green-50 p-2 rounded-lg border-l-4 border-green-500">
                                                                <Icons.CheckCircle className="w-4 h-4 text-green-600 mt-0.5 flex-shrink-0" />
                                                                <span className="text-sm text-gray-700">{crit}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>

                                                <div>
                                                    <h4 className="font-bold text-blue-800 mb-2 bg-blue-100 inline-block px-3 py-1 rounded">
                                                        üéØ De positionnement
                                                    </h4>
                                                    <div className="space-y-2 mt-2">
                                                        {currentInc.criteres.positionnement.map((crit, idx) => (
                                                            <div key={idx} className="flex items-start gap-2 bg-blue-50 p-2 rounded-lg border-l-4 border-blue-500">
                                                                <Icons.CheckCircle className="w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0" />
                                                                <span className="text-sm text-gray-700">{crit}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>

                                                <div>
                                                    <h4 className="font-bold text-purple-800 mb-2 bg-purple-100 inline-block px-3 py-1 rounded">
                                                        üí° D'exposition
                                                    </h4>
                                                    <div className="space-y-2 mt-2">
                                                        {currentInc.criteres.exposition.map((crit, idx) => (
                                                            <div key={idx} className="flex items-start gap-2 bg-purple-50 p-2 rounded-lg border-l-4 border-purple-500">
                                                                <Icons.CheckCircle className="w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0" />
                                                                <span className="text-sm text-gray-700">{crit}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>

                                                <div>
                                                    <h4 className="font-bold text-gray-800 mb-2">üîç Rep√®res cl√©s</h4>
                                                    <div className="space-y-1">
                                                        {currentInc.reperes.map((rep, idx) => (
                                                            <div key={idx} className="text-sm bg-gray-50 p-2 rounded border-l-2 border-gray-400">
                                                                {rep.nom}
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>

                            <div className="mt-6 flex gap-4">
                                <button
                                    onClick={() => setImageIndex(Math.max(0, imageIndex - 1))}
                                    disabled={imageIndex === 0}
                                    className="flex-1 bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                                >
                                    <Icons.ChevronLeft />
                                    Pr√©c√©dent
                                </button>
                                <button
                                    onClick={() => setImageIndex(Math.min(incidencesData.length - 1, imageIndex + 1))}
                                    disabled={imageIndex === incidencesData.length - 1}
                                    className="flex-1 bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                                >
                                    Suivant
                                    <Icons.ChevronRight />
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen">
                    {mode === 'menu' && renderMenu()}
                    {mode === 'quiz' && renderQuiz()}
                    {mode === 'revision' && renderRevision()}
                    {mode === 'images' && renderImages()}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CriteresRadio />);
    </script>
</body>
</html>