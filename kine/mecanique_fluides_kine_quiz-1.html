<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√©canique des Fluides - Kin√©sith√©rapie</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #333; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; }
        h1 { color: #667eea; font-size: 2.5em; margin-bottom: 10px; }
        .subtitle { color: #666; font-size: 1.2em; }
        .quiz-container { background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%); padding: 25px; border-radius: 15px; margin: 20px 0; border: 3px solid #5c6bc0; }
        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #5c6bc0; flex-wrap: wrap; }
        .quiz-progress { font-size: 1.1em; font-weight: 600; color: #3f51b5; }
        .quiz-score { background: white; padding: 8px 15px; border-radius: 20px; font-weight: 600; color: #3f51b5; }
        .quiz-question { font-size: 1.3em; font-weight: 600; margin: 20px 0; color: #1a237e; line-height: 1.5; }
        .quiz-options { display: flex; flex-direction: column; gap: 12px; margin: 20px 0; }
        .quiz-option { background: white; padding: 15px 20px; border-radius: 10px; border: 3px solid #9fa8da; cursor: pointer; transition: all 0.3s; font-size: 1.05em; }
        .quiz-option:hover { transform: translateX(5px); border-color: #5c6bc0; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .quiz-option.selected { background: #c5cae9; border-color: #3f51b5; font-weight: 600; }
        .quiz-option.correct { background: #c8e6c9; border-color: #4caf50; }
        .quiz-option.incorrect { background: #ffcdd2; border-color: #f44336; }
        .quiz-option.disabled { cursor: not-allowed; opacity: 0.6; }
        .quiz-input { width: 100%; padding: 15px; font-size: 1.1em; border: 3px solid #9fa8da; border-radius: 10px; margin: 10px 0; }
        .hint-box { background: #fff9c4; padding: 15px 20px; border-radius: 10px; margin: 15px 0; border-left: 5px solid #fbc02d; display: none; }
        .hint-box.visible { display: block; animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .hint-level { font-weight: 600; color: #f57f17; margin-bottom: 8px; }
        .quiz-navigation { display: flex; justify-content: space-between; margin-top: 25px; flex-wrap: wrap; gap: 10px; }
        .quiz-btn-group { display: flex; gap: 10px; flex-wrap: wrap; }
        .quiz-explanation { background: #e1f5fe; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #0277bd; display: none; }
        .quiz-explanation.visible { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .quiz-explanation h4 { color: #01579b; margin-bottom: 10px; }
        .quiz-final-score { text-align: center; padding: 30px; background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%); border-radius: 15px; margin: 20px 0; }
        .quiz-final-score h3 { font-size: 2em; color: #f57f17; margin-bottom: 15px; }
        .quiz-final-score .score-display { font-size: 3em; font-weight: bold; color: #e65100; margin: 20px 0; }
        .quiz-category-selector { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
        .category-btn { padding: 10px 20px; background: white; border: 2px solid #5c6bc0; border-radius: 20px; cursor: pointer; transition: all 0.3s; font-weight: 600; }
        .category-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .category-btn.active { background: #5c6bc0; color: white; }
        .btn { padding: 10px 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: 600; transition: all 0.3s; margin: 5px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
        .info-box { background: #e8f5e9; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 5px solid #4CAF50; }
        h2 { color: #667eea; margin: 25px 0 15px 0; padding-bottom: 10px; border-bottom: 3px solid #667eea; }
        @media (max-width: 768px) { h1 { font-size: 1.8em; } .quiz-question { font-size: 1.1em; } .quiz-header { flex-direction: column; gap: 10px; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåä M√©canique des Fluides</h1>
            <p class="subtitle">Hydroth√©rapie & Kin√©sith√©rapie - 1√®re ann√©e Belgique</p>
        </header>

        <h2>üéØ Mode Quiz Complet</h2>
        
        <div class="info-box">
            <strong>üéì Instructions :</strong> Testez vos connaissances avec 30 questions (QCM et calculs). Chaque question a 3 indices progressifs qui vous aident <strong>sans donner la r√©ponse directe</strong>.
        </div>

        <div class="quiz-category-selector">
            <button class="category-btn active" onclick="selectQuizCategory('all')">üìã Toutes (30)</button>
            <button class="category-btn" onclick="selectQuizCategory('pression')">üíß Pression (5)</button>
            <button class="category-btn" onclick="selectQuizCategory('archimede')">‚¨ÜÔ∏è Archim√®de (5)</button>
            <button class="category-btn" onclick="selectQuizCategory('bernoulli')">üåÄ Bernoulli (5)</button>
            <button class="category-btn" onclick="selectQuizCategory('viscosite')">üçØ Viscosit√© (4)</button>
            <button class="category-btn" onclick="selectQuizCategory('reynolds')">üîÑ Reynolds (5)</button>
            <button class="category-btn" onclick="selectQuizCategory('clinique')">üè• Clinique (6)</button>
        </div>

        <div id="quizMainContainer"></div>
    </div>

    <script>
        let quizQuestions = [], currentQuizIndex = 0, quizScore = 0, currentQuizCategory = 'all', quizAnswered = false, quizHintLevel = 0;

        const allQuizQuestions = [
            // PRESSION (5 questions)
            { id: 1, category: 'pression', type: 'qcm', question: "Quelle est l'unit√© SI de la pression ?", options: ["Newton (N)", "Pascal (Pa)", "Joule (J)", "Watt (W)"], correctIndex: 1, explanation: "Le Pascal (Pa) est l'unit√© SI de pression. 1 Pa = 1 N/m¬≤. La pression atmosph√©rique standard est d'environ 101 325 Pa.", hints: ["Cette unit√© porte le nom d'un math√©maticien fran√ßais du XVIIe si√®cle", "C'est une force par unit√© de surface", "1 de cette unit√© = 1 N/m¬≤"] },
            { id: 2, category: 'pression', type: 'qcm', question: "√Ä quelle profondeur dans l'eau la pression double-t-elle par rapport √† la surface ?", options: ["5 m√®tres", "10 m√®tres", "15 m√®tres", "20 m√®tres"], correctIndex: 1, explanation: "√Ä 10 m√®tres de profondeur, la pression hydrostatique ajout√©e (œÅgh ‚âà 98 100 Pa) est environ √©gale √† la pression atmosph√©rique (101 325 Pa), donc la pression totale double.", hints: ["La pression augmente d'environ 1 atmosph√®re tous les 10 m√®tres", "Calculez la profondeur pour laquelle œÅgh ‚âà P‚ÇÄ", "C'est une profondeur courante dans les piscines de plong√©e"] },
            { id: 3, category: 'pression', type: 'calcul', question: "Calculez la pression totale √† 3 m√®tres de profondeur dans une piscine (œÅ = 1000 kg/m¬≥, g = 9,81 m/s¬≤, P‚ÇÄ = 101 325 Pa). R√©ponse en Pa.", correctAnswer: 130755, tolerance: 100, unit: "Pa", explanation: "P = P‚ÇÄ + œÅgh = 101 325 + (1000 √ó 9,81 √ó 3) = 101 325 + 29 430 = 130 755 Pa", hints: ["Utilisez la formule P = P‚ÇÄ + œÅgh", "Calculez d'abord œÅgh = 1000 √ó 9,81 √ó 3", "N'oubliez pas d'ajouter P‚ÇÄ"] },
            { id: 4, category: 'pression', type: 'qcm', question: "Que se passe-t-il avec la pression hydrostatique quand on descend dans l'eau ?", options: ["Elle diminue lin√©airement", "Elle augmente lin√©airement", "Elle augmente exponentiellement", "Elle reste constante"], correctIndex: 1, explanation: "La pression hydrostatique augmente lin√©airement avec la profondeur selon P = P‚ÇÄ + œÅgh. Le terme œÅgh est proportionnel √† h.", hints: ["Regardez la relation entre P et h dans la formule", "Plus on descend profond, plus la colonne d'eau au-dessus est lourde", "La relation est directement proportionnelle"] },
            { id: 25, category: 'pression', type: 'qcm', question: "Dans la formule P = P‚ÇÄ + œÅgh, que repr√©sente le terme œÅgh ?", options: ["La pression atmosph√©rique", "La pression hydrostatique", "La pression totale", "La pression dynamique"], correctIndex: 1, explanation: "Le terme œÅgh repr√©sente la pression hydrostatique due au poids de la colonne de fluide au-dessus du point consid√©r√©.", hints: ["C'est la pression ajout√©e par le fluide", "Elle d√©pend de la profondeur h", "C'est le deuxi√®me terme de l'addition"] },

            // ARCHIM√àDE (5 questions)
            { id: 5, category: 'archimede', type: 'qcm', question: "La pouss√©e d'Archim√®de d√©pend de :", options: ["La masse de l'objet immerg√©", "La masse volumique de l'objet", "Le volume de fluide d√©plac√©", "La forme de l'objet"], correctIndex: 2, explanation: "La pouss√©e d'Archim√®de ne d√©pend que du volume de fluide d√©plac√© (volume immerg√©) et de la masse volumique du fluide : FA = œÅfluide √ó Vimmerg√© √ó g", hints: ["La formule est FA = œÅfluide √ó Vimmerg√© √ó g", "Cela ne d√©pend pas des propri√©t√©s de l'objet, mais de ce qu'il d√©place", "Pensez au volume de liquide que l'objet 'pousse'"] },
            { id: 6, category: 'archimede', type: 'qcm', question: "Un patient de 80 kg immerg√© jusqu'aux √©paules (90%) ressent un poids apparent d'environ :", options: ["72 kg", "40 kg", "8 kg", "0 kg"], correctIndex: 2, explanation: "√Ä 90% d'immersion, la pouss√©e d'Archim√®de compense environ 90% du poids, ne laissant que 10% du poids apparent, soit environ 8 kg.", hints: ["L'immersion √† 90% signifie que 90% du poids est compens√©", "Il reste donc 10% du poids initial", "10% de 80 kg = ?"] },
            { id: 7, category: 'archimede', type: 'calcul', question: "Calculez la pouss√©e d'Archim√®de sur un cube de 20 cm de c√¥t√© totalement immerg√© dans l'eau (œÅ = 1000 kg/m¬≥, g = 9,81 m/s¬≤). R√©ponse en N.", correctAnswer: 78.48, tolerance: 1, unit: "N", explanation: "Volume = (0,2)¬≥ = 0,008 m¬≥. FA = 1000 √ó 0,008 √ó 9,81 = 78,48 N", hints: ["Calculez d'abord le volume du cube en m¬≥ : V = c√¥t√©¬≥", "20 cm = 0,2 m, donc V = (0,2)¬≥", "Ensuite utilisez FA = œÅ √ó V √ó g"] },
            { id: 8, category: 'archimede', type: 'qcm', question: "Pourquoi la r√©√©ducation en piscine est efficace en post-op√©ratoire ?", options: ["L'eau est chaude et relaxante", "La pouss√©e d'Archim√®de r√©duit les contraintes articulaires", "L'eau emp√™che les infections", "La pression hydrostatique renforce les muscles"], correctIndex: 1, explanation: "La pouss√©e d'Archim√®de r√©duit consid√©rablement le poids apparent, permettant une reprise pr√©coce de la mobilisation sans surcharge des articulations op√©r√©es.", hints: ["Pensez √† l'effet principal de l'immersion sur le poids ressenti", "Cet effet permet de bouger avec moins de charge sur les articulations", "C'est li√© √† une force dirig√©e vers le haut"] },
            { id: 26, category: 'archimede', type: 'qcm', question: "Si on double le volume immerg√© d'un objet, la pouss√©e d'Archim√®de :", options: ["Reste identique", "Double", "Quadruple", "Est divis√©e par 2"], correctIndex: 1, explanation: "La pouss√©e d'Archim√®de est proportionnelle au volume immerg√© (FA = œÅfluide √ó V √ó g). Si V double, FA double aussi.", hints: ["Regardez la relation entre FA et V dans la formule", "C'est une relation de proportionnalit√© directe", "Si V √ó 2, alors FA √ó ?"] },

            // BERNOULLI (5 questions)
            { id: 9, category: 'bernoulli', type: 'qcm', question: "Selon le th√©or√®me de Bernoulli, lorsque la vitesse d'un fluide augmente :", options: ["La pression augmente", "La pression diminue", "La pression reste constante", "La temp√©rature augmente"], correctIndex: 1, explanation: "D'apr√®s Bernoulli : P + ¬ΩœÅv¬≤ + œÅgh = constante. Si v augmente, ¬ΩœÅv¬≤ augmente, donc P doit diminuer pour que la somme reste constante (√† hauteur √©gale).", hints: ["L'√©quation de Bernoulli exprime une conservation", "Si un terme augmente, un autre doit diminuer", "La pression dynamique (¬ΩœÅv¬≤) et la pression statique (P) varient en sens inverse"] },
            { id: 10, category: 'bernoulli', type: 'qcm', question: "L'√©quation de continuit√© stipule que :", options: ["La vitesse est constante", "La pression est constante", "Le d√©bit volumique est constant", "La viscosit√© est constante"], correctIndex: 2, explanation: "L'√©quation de continuit√© (Q = A‚ÇÅv‚ÇÅ = A‚ÇÇv‚ÇÇ) exprime la conservation du d√©bit : le volume qui entre par seconde √©gale le volume qui sort.", hints: ["C'est un principe de conservation", "Ce qui entre doit sortir (fluide incompressible)", "Q = A √ó v reste constant"] },
            { id: 11, category: 'bernoulli', type: 'calcul', question: "Un jet th√©rapeutique a un d√©bit de 12 L/min et une buse circulaire de diam√®tre 3 cm. Calculez la vitesse de sortie en m/s.", correctAnswer: 2.83, tolerance: 0.1, unit: "m/s", explanation: "Q = 12 L/min = 0,0002 m¬≥/s. Section A = œÄ(0,015)¬≤ = 7,07√ó10‚Åª‚Å¥ m¬≤. v = Q/A = 0,0002 / 7,07√ó10‚Åª‚Å¥ = 2,83 m/s", hints: ["Convertissez le d√©bit : 12 L/min = 12/1000/60 m¬≥/s", "Calculez la section : A = œÄr¬≤ avec r = 1,5 cm", "Utilisez v = Q/A"] },
            { id: 12, category: 'bernoulli', type: 'qcm', question: "Si on r√©duit le diam√®tre de la buse de moiti√©, la vitesse :", options: ["Est divis√©e par 2", "Est multipli√©e par 2", "Est multipli√©e par 4", "Ne change pas"], correctIndex: 2, explanation: "Si le diam√®tre est divis√© par 2, la section (A = œÄr¬≤) est divis√©e par 4. Comme Q = Av constant, si A est divis√© par 4, alors v est multipli√© par 4.", hints: ["La section d√©pend du rayon au carr√© : A = œÄr¬≤", "Si diam√®tre √∑ 2, alors rayon √∑ 2", "Si r ‚Üí r/2, alors r¬≤ ‚Üí r¬≤/4"] },
            { id: 27, category: 'bernoulli', type: 'qcm', question: "Dans l'√©quation de Bernoulli, le terme ¬ΩœÅv¬≤ repr√©sente :", options: ["L'√©nergie potentielle", "La pression statique", "La pression dynamique", "La viscosit√©"], correctIndex: 2, explanation: "Le terme ¬ΩœÅv¬≤ est la pression dynamique, qui repr√©sente l'√©nergie cin√©tique par unit√© de volume du fluide en mouvement.", hints: ["Ce terme contient la vitesse v", "Il repr√©sente l'√©nergie li√©e au mouvement", "Dynamique = en mouvement"] },

            // VISCOSIT√â (4 questions)
            { id: 13, category: 'viscosite', type: 'qcm', question: "La viscosit√© d'un fluide repr√©sente :", options: ["Sa densit√©", "Sa r√©sistance √† l'√©coulement", "Sa temp√©rature", "Sa pression"], correctIndex: 1, explanation: "La viscosit√© caract√©rise la r√©sistance d'un fluide √† l'√©coulement. Plus un fluide est visqueux (comme le miel), plus il s'√©coule lentement.", hints: ["Pensez √† la diff√©rence entre l'eau et le miel", "Le miel a une viscosit√© plus √©lev√©e que l'eau", "C'est ce qui fait qu'un fluide s'√©coule plus ou moins facilement"] },
            { id: 14, category: 'viscosite', type: 'qcm', question: "Que se passe-t-il avec la viscosit√© de l'eau quand la temp√©rature augmente ?", options: ["Elle augmente", "Elle diminue", "Elle reste constante", "Elle double"], correctIndex: 1, explanation: "La viscosit√© des liquides diminue quand la temp√©rature augmente. L'eau chaude (35¬∞C) est moins visqueuse que l'eau froide (20¬∞C).", hints: ["Pensez √† l'huile : elle est plus fluide chaude", "Les mol√©cules bougent plus vite avec la chaleur", "La r√©sistance √† l'√©coulement diminue"] },
            { id: 15, category: 'viscosite', type: 'qcm', question: "Pourquoi utilise-t-on de l'eau chaude (35-37¬∞C) pour la relaxation ?", options: ["Pour √©viter les infections", "Pour augmenter la pouss√©e d'Archim√®de", "Pour r√©duire la viscosit√© et faciliter les mouvements", "Pour augmenter la pression"], correctIndex: 2, explanation: "L'eau chaude a une viscosit√© plus faible, ce qui r√©duit la r√©sistance aux mouvements et facilite la mobilisation articulaire.", hints: ["La viscosit√© change avec la temp√©rature", "Une viscosit√© plus faible = moins de r√©sistance", "Cela rend les mouvements plus faciles"] },
            { id: 16, category: 'viscosite', type: 'qcm', question: "Quelle est l'unit√© SI de la viscosit√© dynamique ?", options: ["Pa", "Pa¬∑s", "N/m", "m¬≤/s"], correctIndex: 1, explanation: "La viscosit√© dynamique (Œ∑) s'exprime en Pascal-seconde (Pa¬∑s). La viscosit√© cin√©matique (ŒΩ) s'exprime en m¬≤/s.", hints: ["C'est une unit√© compos√©e de pression et de temps", "Le Pascal est impliqu√©", "On multiplie le Pascal par une unit√© de temps"] },

            // REYNOLDS (5 questions)
            { id: 17, category: 'reynolds', type: 'qcm', question: "Le nombre de Reynolds caract√©rise :", options: ["La temp√©rature du fluide", "Le r√©gime d'√©coulement du fluide", "La pression du fluide", "La masse volumique du fluide"], correctIndex: 1, explanation: "Le nombre de Reynolds (Re) est un nombre sans dimension qui d√©termine si l'√©coulement est laminaire, transitionnel ou turbulent.", hints: ["C'est un nombre sans dimension", "Il permet de classifier les √©coulements", "Laminaire, transitionnel ou turbulent sont des types de..."] },
            { id: 18, category: 'reynolds', type: 'qcm', question: "Pour Re < 2000, l'√©coulement est :", options: ["Turbulent", "Transitionnel", "Laminaire", "Chaotique"], correctIndex: 2, explanation: "Un nombre de Reynolds inf√©rieur √† 2000 indique un √©coulement laminaire, r√©gulier avec des lignes de courant parall√®les.", hints: ["C'est l'√©coulement le plus r√©gulier et organis√©", "Les lignes de courant sont parall√®les", "C'est le contraire de turbulent"] },
            { id: 19, category: 'reynolds', type: 'calcul', question: "Calculez Re pour un bras (D = 10 cm) se d√©pla√ßant √† 0,4 m/s dans l'eau (ŒΩ = 10‚Åª‚Å∂ m¬≤/s).", correctAnswer: 40000, tolerance: 1000, unit: "", explanation: "Re = (v √ó D) / ŒΩ = (0,4 √ó 0,1) / (10‚Åª‚Å∂) = 0,04 / 10‚Åª‚Å∂ = 40 000. √âcoulement turbulent.", hints: ["Utilisez Re = (v √ó D) / ŒΩ", "Convertissez D en m√®tres : 10 cm = 0,1 m", "Attention √† 10‚Åª‚Å∂ = 0,000001"] },
            { id: 20, category: 'reynolds', type: 'qcm', question: "Quel mouvement g√©n√®re plus de r√©sistance dans l'eau ?", options: ["Mouvement lent (Re faible, laminaire)", "Mouvement rapide (Re √©lev√©, turbulent)", "Les deux sont √©quivalents", "Cela ne d√©pend pas de la vitesse"], correctIndex: 1, explanation: "Un mouvement rapide g√©n√®re un Re √©lev√© et un √©coulement turbulent, qui cr√©e beaucoup plus de r√©sistance qu'un √©coulement laminaire.", hints: ["La r√©sistance augmente avec la turbulence", "Les tourbillons cr√©ent plus de r√©sistance", "Re √©lev√© = turbulent = plus de r√©sistance"] },
            { id: 29, category: 'reynolds', type: 'qcm', question: "Pour moduler l'intensit√© d'un exercice en piscine, le kin√©sith√©rapeute peut agir sur :", options: ["La profondeur uniquement", "La temp√©rature uniquement", "La vitesse uniquement", "La vitesse, la profondeur et la temp√©rature"], correctIndex: 3, explanation: "Le kin√©sith√©rapeute peut moduler : la vitesse (influence Re), la profondeur (modifie le poids via Archim√®de), et la temp√©rature (change la viscosit√©).", hints: ["Plusieurs param√®tres peuvent √™tre ajust√©s", "Pensez aux principes vus : Archim√®de, viscosit√©, Reynolds", "Chaque param√®tre a un effet sur l'exercice"] },

            // CLINIQUE (6 questions)
            { id: 21, category: 'clinique', type: 'qcm', question: "Pour un patient en post-op√©ratoire de proth√®se de hanche, quel niveau d'immersion pour commencer la r√©√©ducation ?", options: ["Chevilles (charge 100%)", "Genoux (charge 75%)", "Taille (charge 25-35%)", "√âpaules (charge 10%)"], correctIndex: 3, explanation: "L'immersion jusqu'aux √©paules r√©duit la charge √† environ 10% du poids, permettant une mobilisation tr√®s pr√©coce sans contrainte excessive sur la hanche op√©r√©e.", hints: ["Plus l'immersion est profonde, moins le patient supporte de poids", "En post-op imm√©diat, on veut minimiser les contraintes", "Il faut le niveau qui donne le plus d'all√®gement"] },
            { id: 22, category: 'clinique', type: 'qcm', question: "Quel est l'avantage principal des jets th√©rapeutiques ?", options: ["Ils augmentent la temp√©rature corporelle", "Ils cr√©ent un massage m√©canique et stimulent la circulation", "Ils r√©duisent la pression hydrostatique", "Ils augmentent la pouss√©e d'Archim√®de"], correctIndex: 1, explanation: "Les jets cr√©ent une pression dynamique qui masse les tissus, am√©liore la circulation locale, et peut avoir des effets de drainage et de d√©contraction musculaire.", hints: ["Pensez √† l'effet m√©canique direct des jets sur les tissus", "C'est un effet local, pas global", "Les jets peuvent stimuler quelque chose localement"] },
            { id: 23, category: 'clinique', type: 'qcm', question: "Pour un renforcement musculaire intensif en piscine, quelle temp√©rature est pr√©f√©rable ?", options: ["25-28¬∞C", "32-34¬∞C", "35-37¬∞C", "38-40¬∞C"], correctIndex: 0, explanation: "Une eau plus froide (25-28¬∞C) a une viscosit√© plus √©lev√©e, cr√©ant plus de r√©sistance aux mouvements, id√©al pour le renforcement intensif.", hints: ["Pour le renforcement, on veut plus de r√©sistance", "La viscosit√© augmente quand la temp√©rature diminue", "Eau plus froide = plus de r√©sistance"] },
            { id: 24, category: 'clinique', type: 'qcm', question: "Quelle est une contre-indication absolue √† l'hydroth√©rapie ?", options: ["Arthrose l√©g√®re", "Phl√©bite aigu√´", "Surpoids", "Faiblesse musculaire"], correctIndex: 1, explanation: "La phl√©bite aigu√´ (thrombose veineuse) est une contre-indication absolue car la pression et l'activit√© pourraient mobiliser le thrombus avec risque d'embolie pulmonaire.", hints: ["Il faut identifier un probl√®me circulatoire grave", "Un caillot sanguin pourrait se d√©placer", "C'est une urgence m√©dicale qui n√©cessite repos strict"] },
            { id: 28, category: 'clinique', type: 'qcm', question: "Un patient ob√®se de 120 kg b√©n√©ficie particuli√®rement de l'hydroth√©rapie car :", options: ["L'eau augmente son m√©tabolisme", "La pouss√©e d'Archim√®de r√©duit les contraintes articulaires", "L'eau froide br√ªle plus de calories", "La pression augmente la force musculaire"], correctIndex: 1, explanation: "Pour un patient ob√®se, la pouss√©e d'Archim√®de permet de r√©duire consid√©rablement le poids apparent et donc les contraintes sur les articulations, facilitant l'exercice physique.", hints: ["Quel est le probl√®me principal pour une personne en surpoids lors de l'exercice ?", "L'effet principal de l'immersion concerne le poids ressenti", "Pensez √† la force qui pousse vers le haut"] },
            { id: 30, category: 'clinique', type: 'qcm', question: "Dans quelle situation la pression hydrostatique peut-elle √™tre th√©rapeutique ?", options: ["Pour r√©duire un ≈ìd√®me des membres inf√©rieurs", "Pour augmenter la tension art√©rielle", "Pour traiter une fracture", "Pour augmenter la temp√©rature corporelle"], correctIndex: 0, explanation: "La pression hydrostatique exerce une compression externe qui peut favoriser la r√©sorption d'un ≈ìd√®me des membres inf√©rieurs par effet de drainage.", hints: ["La pression peut avoir un effet de compression", "Cet effet peut aider √† r√©duire un gonflement", "Pensez aux bas de contention, mais avec l'eau"] }
        ];

        function selectQuizCategory(category) {
            currentQuizCategory = category;
            currentQuizIndex = 0;
            quizScore = 0;
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            quizQuestions = category === 'all' ? [...allQuizQuestions] : allQuizQuestions.filter(q => q.category === category);
            quizQuestions.sort(() => Math.random() - 0.5);
            loadQuizQuestion();
        }

        function loadQuizQuestion() {
            if (currentQuizIndex >= quizQuestions.length) { showQuizResults(); return; }
            quizAnswered = false;
            quizHintLevel = 0;
            const q = quizQuestions[currentQuizIndex];
            let html = `<div class="quiz-container"><div class="quiz-header"><div class="quiz-progress">Question ${currentQuizIndex + 1} / ${quizQuestions.length}</div><div class="quiz-score">Score : ${quizScore} / ${currentQuizIndex}</div></div><div class="quiz-question">${q.question}</div>`;
            if (q.type === 'qcm') {
                html += `<div class="quiz-options">${q.options.map((opt, i) => `<div class="quiz-option" onclick="selectQuizOption(${i})">${opt}</div>`).join('')}</div>`;
            } else {
                html += `<div><input type="number" id="quizCalculInput" class="quiz-input" placeholder="Entrez votre r√©ponse" step="0.01"><p style="margin-top:10px;color:#666;"><strong>Unit√© :</strong> ${q.unit || 'Valeur num√©rique'}</p></div>`;
            }
            html += `<div id="quizHintBox" class="hint-box"></div><div id="quizExplanation" class="quiz-explanation"></div><div class="quiz-navigation"><div class="quiz-btn-group"><button class="btn" onclick="showQuizHint()">üí° Indice</button>${q.type === 'calcul' ? '<button class="btn" onclick="checkCalculAnswer()">‚úì V√©rifier</button>' : '<button class="btn" id="validateBtn" onclick="validateQuizAnswer()" disabled>‚úì Valider</button>'}</div><button class="btn" onclick="nextQuizQuestion()" id="nextQuizBtn" style="display:none;">‚û°Ô∏è Suivant</button></div></div>`;
            document.getElementById('quizMainContainer').innerHTML = html;
        }

        function selectQuizOption(index) {
            if (quizAnswered) return;
            document.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.quiz-option')[index].classList.add('selected');
            document.getElementById('validateBtn').disabled = false;
        }

        function showQuizHint() {
            const q = quizQuestions[currentQuizIndex];
            const hintBox = document.getElementById('quizHintBox');
            if (quizHintLevel < q.hints.length) {
                hintBox.className = 'hint-box visible';
                hintBox.innerHTML = `<div class="hint-level">üí° Indice ${quizHintLevel + 1}/${q.hints.length}</div><p>${q.hints[quizHintLevel]}</p>`;
                quizHintLevel++;
            } else {
                hintBox.className = 'hint-box visible';
                hintBox.innerHTML = `<div class="hint-level">üí° Tous les indices utilis√©s</div><p>Vous avez vu tous les indices disponibles. Tentez une r√©ponse !</p>`;
            }
        }

        function validateQuizAnswer() {
            if (quizAnswered) return;
            const q = quizQuestions[currentQuizIndex];
            const selectedOption = document.querySelector('.quiz-option.selected');
            if (!selectedOption) return;
            const selectedIndex = Array.from(document.querySelectorAll('.quiz-option')).indexOf(selectedOption);
            const isCorrect = selectedIndex === q.correctIndex;
            quizAnswered = true;
            document.querySelectorAll('.quiz-option').forEach(opt => { opt.classList.add('disabled'); opt.onclick = null; });
            if (isCorrect) { selectedOption.classList.add('correct'); quizScore++; } else { selectedOption.classList.add('incorrect'); document.querySelectorAll('.quiz-option')[q.correctIndex].classList.add('correct'); }
            document.getElementById('quizExplanation').className = 'quiz-explanation visible';
            document.getElementById('quizExplanation').innerHTML = `<h4>${isCorrect ? '‚úì Correct !' : '‚úó Incorrect'}</h4><p>${q.explanation}</p>`;
            document.getElementById('validateBtn').style.display = 'none';
            document.getElementById('nextQuizBtn').style.display = 'block';
            document.querySelector('.quiz-score').textContent = `Score : ${quizScore} / ${currentQuizIndex + 1}`;
        }

        function checkCalculAnswer() {
            if (quizAnswered) return;
            const q = quizQuestions[currentQuizIndex];
            const userAnswer = parseFloat(document.getElementById('quizCalculInput').value);
            if (isNaN(userAnswer)) { alert('Veuillez entrer une valeur num√©rique valide.'); return; }
            const isCorrect = Math.abs(userAnswer - q.correctAnswer) <= q.tolerance;
            quizAnswered = true;
            document.getElementById('quizCalculInput').disabled = true;
            if (isCorrect) quizScore++;
            document.getElementById('quizExplanation').className = 'quiz-explanation visible';
            document.getElementById('quizExplanation').innerHTML = `<h4>${isCorrect ? '‚úì Correct !' : '‚úó Incorrect'}</h4><p><strong>R√©ponse attendue :</strong> ${q.correctAnswer} ${q.unit}</p><p>${q.explanation}</p>`;
            document.getElementById('nextQuizBtn').style.display = 'block';
            document.querySelector('.quiz-score').textContent = `Score : ${quizScore} / ${currentQuizIndex + 1}`;
        }

        function nextQuizQuestion() {
            currentQuizIndex++;
            loadQuizQuestion();
        }

        function showQuizResults() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            let message = '', emoji = '';
            if (percentage >= 90) { message = 'Excellent ! Vous ma√Ætrisez parfaitement la m√©canique des fluides !'; emoji = 'üèÜ'; }
            else if (percentage >= 75) { message = 'Tr√®s bien ! Vous avez une bonne compr√©hension du sujet.'; emoji = 'üåü'; }
            else if (percentage >= 60) { message = 'Bien ! Continuez √† r√©viser pour consolider vos connaissances.'; emoji = 'üëç'; }
            else { message = 'Continuez vos efforts ! Relisez les sections de cours et r√©essayez.'; emoji = 'üìö'; }
            document.getElementById('quizMainContainer').innerHTML = `<div class="quiz-final-score"><h3>${emoji} Quiz termin√© !</h3><div class="score-display">${quizScore} / ${quizQuestions.length}</div><p style="font-size:1.3em;margin:20px 0;"><strong>${percentage}%</strong></p><p style="font-size:1.1em;color:#666;margin:20px 0;">${message}</p><div style="margin-top:30px;"><button class="btn" onclick="selectQuizCategory('${currentQuizCategory}')">üîÑ Recommencer</button><button class="btn" onclick="selectQuizCategory('all')">üìö Nouveau quiz (toutes cat√©gories)</button></div></div>`;
        }

        selectQuizCategory('all');
    </script>
</body>
</html>