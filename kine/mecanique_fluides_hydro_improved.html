<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MÃ©canique des Fluides en HydrothÃ©rapie</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 25px;
            background: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tab-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .content-section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .level-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            justify-content: center;
        }

        .level-btn {
            padding: 10px 20px;
            background: #f0f0f0;
            border: 2px solid #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .level-btn.active {
            background: #667eea;
            color: white;
        }

        .canvas-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }

        canvas {
            display: block;
            margin: 0 auto;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
        }

        .formula-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #2196F3;
        }

        .formula {
            font-size: 1.3em;
            text-align: center;
            margin: 15px 0;
            font-weight: 600;
            color: #1565C0;
        }

        .example-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #FF9800;
        }

        .exercise-box {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #9C27B0;
        }

        .question {
            font-weight: 600;
            margin: 15px 0 10px 0;
            color: #6A1B9A;
        }

        input[type="number"] {
            padding: 10px;
            border: 2px solid #9C27B0;
            border-radius: 5px;
            font-size: 1em;
            width: 150px;
            margin: 0 10px;
        }

        .btn {
            padding: 10px 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
        }

        .result.correct {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .result.incorrect {
            background: #ffcdd2;
            color: #c62828;
        }

        .info-box {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 5px solid #4CAF50;
        }

        .warning-box {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 5px solid #FFC107;
        }

        h2 {
            color: #667eea;
            margin: 25px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        h3 {
            color: #764ba2;
            margin: 20px 0 10px 0;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
            align-items: center;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        input[type="range"] {
            width: 200px;
        }

        .value-display {
            font-weight: 600;
            color: #667eea;
            min-width: 80px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid #333;
        }

        .keyboard-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid #667eea;
        }

        .keyboard-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #667eea;
            font-size: 1.1em;
        }

        .symbol-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 8px;
            margin-bottom: 15px;
        }

        .symbol-btn {
            padding: 10px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: 600;
            transition: all 0.2s;
            text-align: center;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .symbol-btn:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .symbol-btn:active {
            transform: scale(0.95);
        }

        .formula-input-area {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 3px solid #667eea;
        }

        .formula-display {
            font-size: 1.8em;
            min-height: 60px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
            margin: 10px 0;
            border: 2px dashed #999;
            font-family: 'Courier New', monospace;
            word-wrap: break-word;
        }

        .formula-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .formula-quiz-box {
            background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #3f51b5;
        }

        .formula-target {
            font-size: 1.5em;
            font-weight: 600;
            color: #3f51b5;
            margin: 15px 0;
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1em;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .formula-hint {
            background: #fff3cd;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
            font-size: 0.95em;
        }

        .progress-bar-container {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .subscript-mode, .superscript-mode {
            background: #FFC107;
            color: #333;
        }

        .mode-indicator {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            font-weight: 600;
            margin-left: 10px;
        }
    
        /* --- AmÃ©liorations responsive & tactile (sans changer le design) --- */
        html { -webkit-text-size-adjust: 100%; }
        body { padding-bottom: env(safe-area-inset-bottom); }

        /* Confort tactile : Ã©vite les zooms intempestifs au double-tap */
        .tab-btn, .level-btn, .btn, .symbol-btn { touch-action: manipulation; }

        /* Canvas responsive (garde les proportions) */
        canvas { max-width: 100%; width: 100%; height: auto; }

        /* Champs et boutons plus souples sur mobile */
        input[type="number"] { max-width: 100%; }

        /* PÃ©dagogie : dÃ©tails dÃ©pliables au look cohÃ©rent */
        details.pedago {
            margin-top: 12px;
            background: rgba(255,255,255,0.7);
            border-radius: 8px;
            padding: 10px 12px;
            border: 1px dashed rgba(21,101,192,0.35);
        }
        details.pedago > summary {
            cursor: pointer;
            font-weight: 700;
            color: #1565C0;
            list-style: none;
            outline: none;
        }
        details.pedago > summary::-webkit-details-marker { display: none; }
        .unit-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.98em;
        }
        .unit-table th, .unit-table td {
            padding: 10px;
            border: 1px solid #ddd;
            vertical-align: top;
        }
        .unit-table th { background: #667eea; color: white; }
        .unit-note { margin-top: 10px; font-size: 0.95em; color: #333; }
        .chip {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            background: rgba(102,126,234,0.12);
            color: #333;
            font-weight: 600;
            margin: 2px 4px 0 0;
            white-space: nowrap;
        }

        /* Responsive layout : conserve l'esthÃ©tique mais Ã©vite le dÃ©bordement */
        @media (max-width: 900px) {
            .container { padding: 14px; }
            header { padding: 22px; }
        }
        @media (max-width: 700px) {
            h1 { font-size: 2.0em; }
            .subtitle { font-size: 1.05em; }
            .content-section { padding: 18px; }
            .canvas-container { padding: 14px; }
            .controls { gap: 8px; }
            input[type="range"] { width: min(260px, 75vw); }
            .formula-display { font-size: 1.4em; }
            .tab-btn { padding: 11px 16px; }
        }
        @media (max-width: 450px) {
            h1 { font-size: 1.75em; }
            .level-selector { flex-wrap: wrap; }
            .level-btn { width: 100%; text-align: center; }
            .formula-controls .btn { width: 100%; }
            .btn { width: 100%; }
            .symbol-grid { grid-template-columns: repeat(auto-fill, minmax(44px, 1fr)); }
        }

        /* AccessibilitÃ© : focus visible */
        .tab-btn:focus-visible, .level-btn:focus-visible, .btn:focus-visible, .symbol-btn:focus-visible, summary:focus-visible {
            outline: 3px solid rgba(102,126,234,0.55);
            outline-offset: 2px;
        }

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒŠ MÃ©canique des Fluides en HydrothÃ©rapie</h1>
            <p class="subtitle">Applications cliniques en physiothÃ©rapie et rÃ©Ã©ducation</p>
        </header>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('pression', this)">Pression & ArchimÃ¨de</button>
            <button class="tab-btn" onclick="showTab('ecoulement', this)">Ã‰coulement & DÃ©bit</button>
            <button class="tab-btn" onclick="showTab('formules', this)">MaÃ®triser les Formules</button>
            <button class="tab-btn" onclick="showTab('exemples', this)">Exemples CalculÃ©s</button>
            <button class="tab-btn" onclick="showTab('exercices', this)">Exercices Pratiques</button>
        </div>

        <!-- Section Pression & ArchimÃ¨de -->
        <div id="pression" class="content-section active">
            <div class="level-selector">
                <button class="level-btn active" onclick="showLevel(\'pression\', \'base\', this)">Niveau Base</button>
                <button class="level-btn" onclick="showLevel(\'pression\', \'avance\', this)">Niveau AvancÃ©</button>
            </div>

            <div id="pression-base" class="level-content">
                <h2>1. Pression Hydrostatique</h2>
                
                <div class="info-box">
                    <strong>ğŸ’¡ Concept clÃ© :</strong> La pression dans un fluide augmente avec la profondeur. C'est pourquoi on ressent plus de pression sur les jambes en position debout dans l'eau.
                </div>

                <div class="canvas-container">
                    <h3 style="text-align: center;">Animation : Pression selon la profondeur</h3>
                    <canvas id="pressionCanvas" width="700" height="400"></canvas>
                    <div class="controls">
                        <div class="slider-container">
                            <label>Profondeur (m) :</label>
                            <input type="range" id="profondeurSlider" min="0" max="2" step="0.1" value="1">
                            <span class="value-display" id="profondeurValue">1.0 m</span>
                        </div>
                    </div>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #2196F3;"></div>
                            <span>Eau (densitÃ© 1000 kg/mÂ³)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #FF5722;"></div>
                            <span>Zone de pression maximale</span>
                        </div>
                    </div>
                </div>

                <div class="formula-box">
                    <h3>Formule de base</h3>
                    <div class="formula">P = Pâ‚€ + Ïgh</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>P</strong> = Pression totale (Pa)<br>
                        <strong>Pâ‚€</strong> = Pression atmosphÃ©rique (101 325 Pa)<br>
                        <strong>Ï</strong> = Masse volumique du fluide (1000 kg/mÂ³ pour l'eau)<br>
                        <strong>g</strong> = AccÃ©lÃ©ration de la pesanteur (9.81 m/sÂ²)<br>
                        <strong>h</strong> = Profondeur (m)
                    </p>
                </div>

                <div class="info-box">
                    <strong>ğŸ¥ Application clinique :</strong> En hydrothÃ©rapie, la pression exercÃ©e sur les membres infÃ©rieurs favorise le retour veineux. Une immersion jusqu'au cou gÃ©nÃ¨re une pression d'environ 15 000 Pa sur les pieds (Ã©quivalent Ã  un bandage de compression).
                </div>

                <h2>2. PoussÃ©e d'ArchimÃ¨de et FlottabilitÃ©</h2>

                <div class="info-box">
                    <strong>ğŸ’¡ Principe :</strong> Tout corps plongÃ© dans un fluide subit une force verticale dirigÃ©e vers le haut Ã©gale au poids du fluide dÃ©placÃ©.
                </div>

                <div class="canvas-container">
                    <h3 style="text-align: center;">Animation : PoussÃ©e d'ArchimÃ¨de</h3>
                    <canvas id="archimedeCanvas" width="700" height="450"></canvas>
                    <div class="controls">
                        <div class="slider-container">
                            <label>DensitÃ© du corps :</label>
                            <input type="range" id="densiteSlider" min="500" max="1500" step="50" value="950">
                            <span class="value-display" id="densiteValue">950 kg/mÂ³</span>
                        </div>
                        <div class="slider-container">
                            <label>Volume (L) :</label>
                            <input type="range" id="volumeSlider" min="10" max="100" step="5" value="70">
                            <span class="value-display" id="volumeValue">70 L</span>
                        </div>
                    </div>
                    <div id="archimedeInfo" style="text-align: center; margin-top: 15px; font-weight: 600;"></div>
                </div>

                <div class="formula-box">
                    <h3>Formules</h3>
                    <div class="formula">F<sub>A</sub> = Ï<sub>fluide</sub> Ã— V<sub>immergÃ©</sub> Ã— g</div>
                    <p style="text-align: center; margin: 15px 0;">
                        <strong>F<sub>A</sub></strong> = PoussÃ©e d'ArchimÃ¨de (N)<br>
                        <strong>V<sub>immergÃ©</sub></strong> = Volume immergÃ© (mÂ³)
                    </p>
                    <div class="formula">Poids apparent = Poids rÃ©el - PoussÃ©e d'ArchimÃ¨de</div>
                </div>

                <div class="info-box">
                    <strong>ğŸ¥ Application clinique :</strong> 
                    <ul style="margin-top: 10px;">
                        <li>Un patient de 70 kg pÃ¨se environ 7 kg dans l'eau (rÃ©duction de 90%)</li>
                        <li>Permet la rÃ©Ã©ducation prÃ©coce aprÃ¨s chirurgie orthopÃ©dique</li>
                        <li>Facilite les mouvements chez les patients avec limitations articulaires</li>
                    </ul>
                </div>
            </div>

            <div id="pression-avance" class="level-content" style="display: none;">
                <h2>Niveau AvancÃ© : Pression et ArchimÃ¨de</h2>

                <div class="formula-box">
                    <h3>Ã‰quation complÃ¨te de la pression</h3>
                    <div class="formula">P(z) = Pâ‚€ + Ï<sub>fluide</sub>g(zâ‚€ - z)</div>
                    <p style="text-align: center; margin-top: 10px;">
                        Avec z l'axe vertical orientÃ© vers le haut
                    </p>
                </div>

                <h3>Gradient de pression</h3>
                <div class="formula-box">
                    <div class="formula">âˆ‡P = -Ïg<strong>kÌ‚</strong></div>
                    <p style="text-align: center;">Le gradient est vertical et dirigÃ© vers le bas</p>
                </div>

                <h3>Conditions d'Ã©quilibre</h3>
                <div class="example-box">
                    <p><strong>Corps en flottaison neutre :</strong></p>
                    <div class="formula">Ï<sub>corps</sub> = Ï<sub>fluide</sub> Ã— (V<sub>immergÃ©</sub> / V<sub>total</sub>)</div>
                    
                    <p style="margin-top: 20px;"><strong>StabilitÃ© de la flottaison :</strong></p>
                    <p>La stabilitÃ© dÃ©pend de la position relative entre :</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Centre de gravitÃ© (G)</strong> : point d'application du poids</li>
                        <li><strong>Centre de carÃ¨ne (C)</strong> : centre de la poussÃ©e d'ArchimÃ¨de</li>
                    </ul>
                    <p style="margin-top: 10px;">Si G est au-dessus de C : Ã©quilibre instable (tendance au retournement)</p>
                </div>

                <h3>Pression diffÃ©rentielle en hydrothÃ©rapie</h3>
                <div class="info-box">
                    <strong>Compression veineuse progressive :</strong>
                    <table>
                        <tr>
                            <th>Profondeur</th>
                            <th>Pression relative</th>
                            <th>Ã‰quivalent compression</th>
                        </tr>
                        <tr>
                            <td>Chevilles (1.5 m)</td>
                            <td>14.7 kPa</td>
                            <td>110 mmHg</td>
                        </tr>
                        <tr>
                            <td>Genoux (1.0 m)</td>
                            <td>9.8 kPa</td>
                            <td>74 mmHg</td>
                        </tr>
                        <tr>
                            <td>Hanches (0.5 m)</td>
                            <td>4.9 kPa</td>
                            <td>37 mmHg</td>
                        </tr>
                        <tr>
                            <td>Thorax (0.2 m)</td>
                            <td>2.0 kPa</td>
                            <td>15 mmHg</td>
                        </tr>
                    </table>
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ PrÃ©cautions cliniques :</strong>
                    <ul style="margin-top: 10px;">
                        <li>Insuffisance cardiaque : la pression thoracique augmente le retour veineux (prÃ©charge)</li>
                        <li>Hypertension artÃ©rielle : surveillance nÃ©cessaire</li>
                        <li>Å’dÃ¨mes : la compression hydrostatique favorise la rÃ©sorption mais peut Ãªtre inconfortable</li>
                    </ul>
                </div>

                <h3>Travail mÃ©canique en immersion</h3>
                <div class="formula-box">
                    <p><strong>Travail contre la poussÃ©e d'ArchimÃ¨de :</strong></p>
                    <div class="formula">W = F<sub>A</sub> Ã— Î”h = Ï<sub>eau</sub>gV Ã— Î”h</div>
                    <p style="text-align: center; margin-top: 10px;">
                        Pour immerger complÃ¨tement un membre de 5 L sur 0.5 m :<br>
                        W = 1000 Ã— 9.81 Ã— 0.005 Ã— 0.5 = <strong>24.5 J</strong>
                    </p>
                </div>
            </div>
        </div>

        <!-- Section Ã‰coulement & DÃ©bit -->
        <div id="ecoulement" class="content-section">
            <div class="level-selector">
                <button class="level-btn active" onclick="showLevel(\'ecoulement\', \'base\', this)">Niveau Base</button>
                <button class="level-btn" onclick="showLevel(\'ecoulement\', \'avance\', this)">Niveau AvancÃ©</button>
            </div>

            <div id="ecoulement-base" class="level-content">
                <h2>1. Ã‰coulement et DÃ©bit</h2>

                <div class="info-box">
                    <strong>ğŸ’¡ Concept :</strong> Le dÃ©bit mesure la quantitÃ© de fluide qui traverse une section par unitÃ© de temps.
                </div>

                <div class="canvas-container">
                    <h3 style="text-align: center;">Animation : Ã‰coulement dans une conduite</h3>
                    <canvas id="ecoulementCanvas" width="700" height="350"></canvas>
                    <div class="controls">
                        <div class="slider-container">
                            <label>DÃ©bit (L/min) :</label>
                            <input type="range" id="debitSlider" min="1" max="20" step="1" value="10">
                            <span class="value-display" id="debitValue">10 L/min</span>
                        </div>
                        <div class="slider-container">
                            <label>DiamÃ¨tre (cm) :</label>
                            <input type="range" id="diametreSlider" min="1" max="5" step="0.5" value="2">
                            <span class="value-display" id="diametreValue">2 cm</span>
                        </div>
                    </div>
                    <div id="ecoulementInfo" style="text-align: center; margin-top: 15px; font-weight: 600;"></div>
                </div>

                <div class="formula-box">
                    <h3>Formules de dÃ©bit</h3>
                    <div class="formula">Q = V Ã— S = v Ã— Ï€ Ã— rÂ²</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>Q</strong> = DÃ©bit volumique (mÂ³/s ou L/min)<br>
                        <strong>V</strong> = Volume (mÂ³ ou L)<br>
                        <strong>S</strong> = Section (mÂ²)<br>
                        <strong>v</strong> = Vitesse d'Ã©coulement (m/s)<br>
                        <strong>r</strong> = Rayon (m)
                    </p>
                </div>

                <div class="info-box">
                    <strong>ğŸ¥ Application : Jets hydromassants</strong><br>
                    Un jet de massage en piscine avec un dÃ©bit de 15 L/min et un diamÃ¨tre de 2 cm crÃ©e une vitesse d'Ã©coulement de 1.3 m/s, gÃ©nÃ©rant un effet de massage localisÃ©.
                </div>

                <h2>2. ViscositÃ©</h2>

                <div class="info-box">
                    <strong>ğŸ’¡ DÃ©finition :</strong> La viscositÃ© mesure la rÃ©sistance d'un fluide Ã  l'Ã©coulement. Plus un fluide est visqueux, plus il rÃ©siste au mouvement.
                </div>

                <div class="canvas-container">
                    <h3 style="text-align: center;">Animation : Effet de la viscositÃ©</h3>
                    <canvas id="viscositeCanvas" width="700" height="350"></canvas>
                    <div class="controls">
                        <button class="btn" onclick="startViscositeAnimation()">Lancer l'animation</button>
                    </div>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #2196F3;"></div>
                            <span>Eau (Î· = 1 mPaÂ·s)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4CAF50;"></div>
                            <span>Huile lÃ©gÃ¨re (Î· = 50 mPaÂ·s)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #FF9800;"></div>
                            <span>Miel (Î· = 10 000 mPaÂ·s)</span>
                        </div>
                    </div>
                </div>

                <div class="formula-box">
                    <h3>ViscositÃ© dynamique</h3>
                    <div class="formula">Ï„ = Î· Ã— (dv/dy)</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>Ï„</strong> = Contrainte de cisaillement (Pa)<br>
                        <strong>Î·</strong> = ViscositÃ© dynamique (PaÂ·s)<br>
                        <strong>dv/dy</strong> = Gradient de vitesse (sâ»Â¹)
                    </p>
                </div>

                <div class="info-box">
                    <strong>ğŸ¥ Applications cliniques :</strong>
                    <ul style="margin-top: 10px;">
                        <li><strong>Eau thermale :</strong> Î· â‰ˆ 0.7 mPaÂ·s Ã  35Â°C (moins visqueuse, facilite les mouvements)</li>
                        <li><strong>Bains de boue :</strong> Î· > 100 mPaÂ·s (rÃ©sistance accrue, renforcement musculaire)</li>
                        <li><strong>Piscine avec algues :</strong> Augmentation de viscositÃ© pour exercices de rÃ©sistance</li>
                    </ul>
                </div>

                <h2>3. Pertes de charge</h2>

                <div class="info-box">
                    <strong>ğŸ’¡ Concept :</strong> Les pertes de charge reprÃ©sentent la diminution de pression due aux frottements dans une canalisation.
                </div>

                <div class="formula-box">
                    <h3>Formule simplifiÃ©e</h3>
                    <div class="formula">Î”P = Î» Ã— (L/D) Ã— (ÏvÂ²/2)</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>Î”P</strong> = Perte de charge (Pa)<br>
                        <strong>Î»</strong> = Coefficient de perte de charge<br>
                        <strong>L</strong> = Longueur de la conduite (m)<br>
                        <strong>D</strong> = DiamÃ¨tre (m)<br>
                        <strong>Ï</strong> = Masse volumique (kg/mÂ³)<br>
                        <strong>v</strong> = Vitesse (m/s)
                    </p>
                </div>
            </div>

            <div id="ecoulement-avance" class="level-content" style="display: none;">
                <h2>Niveau AvancÃ© : Ã‰coulement</h2>

                <h3>Ã‰quation de continuitÃ©</h3>
                <div class="formula-box">
                    <div class="formula">Ïâ‚vâ‚Sâ‚ = Ïâ‚‚vâ‚‚Sâ‚‚</div>
                    <p style="text-align: center; margin-top: 10px;">
                        Pour un fluide incompressible (Ï constant) :<br>
                        <strong>vâ‚Sâ‚ = vâ‚‚Sâ‚‚</strong>
                    </p>
                </div>

                <h3>Ã‰quation de Bernoulli</h3>
                <div class="formula-box">
                    <div class="formula">P + Â½ÏvÂ² + Ïgh = constante</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>P</strong> = Ã‰nergie de pression<br>
                        <strong>Â½ÏvÂ²</strong> = Ã‰nergie cinÃ©tique<br>
                        <strong>Ïgh</strong> = Ã‰nergie potentielle
                    </p>
                </div>

                <div class="example-box">
                    <h3>Application : Jet thÃ©rapeutique</h3>
                    <p>Un jet sort d'une buse de diamÃ¨tre 2 cm avec un dÃ©bit de 20 L/min :</p>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Vitesse de sortie :</strong><br>
                        Q = 20 L/min = 3.33Ã—10â»â´ mÂ³/s<br>
                        S = Ï€ Ã— (0.01)Â² = 3.14Ã—10â»â´ mÂ²<br>
                        v = Q/S = 1.06 m/s</li>
                        
                        <li style="margin-top: 15px;"><strong>Pression dynamique :</strong><br>
                        P<sub>dyn</sub> = Â½ÏvÂ² = Â½ Ã— 1000 Ã— (1.06)Â² = <strong>562 Pa</strong></li>
                        
                        <li style="margin-top: 15px;"><strong>Force sur la peau (surface 10 cmÂ²) :</strong><br>
                        F = P Ã— S = 562 Ã— 0.001 = <strong>0.56 N</strong></li>
                    </ol>
                </div>

                <h3>Nombre de Reynolds</h3>
                <div class="formula-box">
                    <div class="formula">Re = (ÏvD)/Î· = (vD)/Î½</div>
                    <p style="text-align: center; margin-top: 10px;">
                        <strong>Î½</strong> = Î·/Ï = ViscositÃ© cinÃ©matique (mÂ²/s)
                    </p>
                    <ul style="margin-top: 15px; text-align: left;">
                        <li>Re < 2000 : Ã‰coulement laminaire (rÃ©gulier, prÃ©visible)</li>
                        <li>2000 < Re < 4000 : Transition</li>
                        <li>Re > 4000 : Ã‰coulement turbulent (chaotique, mÃ©lange efficace)</li>
                    </ul>
                </div>

                <h3>Loi de Poiseuille (Ã©coulement laminaire)</h3>
                <div class="formula-box">
                    <div class="formula">Q = (Ï€Î”Prâ´)/(8Î·L)</div>
                    <p style="text-align: center; margin-top: 10px;">
                        Le dÃ©bit est proportionnel Ã  la puissance 4 du rayon !<br>
                        Doubler le diamÃ¨tre multiplie le dÃ©bit par 16.
                    </p>
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ ConsÃ©quence clinique :</strong> Dans les jets hydromassants, une petite modification du diamÃ¨tre de la buse a un effet considÃ©rable sur la puissance du jet.
                </div>

                <h3>Pertes de charge dÃ©taillÃ©es</h3>
                <div class="formula-box">
                    <h4>Pertes rÃ©guliÃ¨res (linÃ©aires)</h4>
                    <div class="formula">Î”P<sub>rÃ©guliÃ¨res</sub> = Î» Ã— (L/D) Ã— (ÏvÂ²/2)</div>
                    
                    <h4 style="margin-top: 20px;">Pertes singuliÃ¨res (coudes, vannes...)</h4>
                    <div class="formula">Î”P<sub>singuliÃ¨res</sub> = Î£ K<sub>i</sub> Ã— (ÏvÂ²/2)</div>
                    
                    <p style="text-align: center; margin-top: 15px;">
                        <strong>Coefficients K typiques :</strong><br>
                        Coude 90Â° : K â‰ˆ 0.9<br>
                        TÃ© : K â‰ˆ 1.8<br>
                        Vanne ouverte : K â‰ˆ 0.2
                    </p>
                </div>

                <div class="info-box">
                    <strong>ğŸ¥ Dimensionnement de circuits hydrothÃ©rapeutiques :</strong>
                    <p>Pour un circuit de 50 m avec 10 coudes et une vitesse de 2 m/s (D=5cm, Î»=0.02) :</p>
                    <ul style="margin-top: 10px;">
                        <li>Pertes rÃ©guliÃ¨res : Î”P<sub>rÃ©g</sub> = 0.02 Ã— (50/0.05) Ã— (1000Ã—4/2) = 40 kPa</li>
                        <li>Pertes singuliÃ¨res : Î”P<sub>sing</sub> = 10 Ã— 0.9 Ã— (1000Ã—4/2) = 18 kPa</li>
                        <li><strong>Total : 58 kPa</strong> â†’ NÃ©cessite une pompe adaptÃ©e</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section MaÃ®triser les Formules -->
        <div id="formules" class="content-section">
            <h2>âœï¸ MaÃ®triser les Formules</h2>
            
            <div class="info-box">
                <strong>ğŸ“ Objectif :</strong> Apprendre Ã  Ã©crire correctement les formules de physique en utilisant le clavier de symboles ci-dessous. La correction est intelligente et accepte diffÃ©rentes faÃ§ons d'Ã©crire (cT, c*T, T*c, Tc, etc.).
            </div>

            <!-- Clavier de symboles -->
            <div class="keyboard-section">
                <div class="keyboard-title">ğŸ”¤ Alphabet grec et symboles mathÃ©matiques</div>
                <div class="symbol-grid" id="greekSymbols"></div>
            </div>

            <div class="keyboard-section">
                <div class="keyboard-title">âš¡ Variables physiques courantes</div>
                <div class="symbol-grid" id="physicsSymbols"></div>
            </div>

            <div class="keyboard-section">
                <div class="keyboard-title">ğŸ”¢ OpÃ©rateurs et indices</div>
                <div class="symbol-grid" id="operators"></div>
            </div>

            <!-- Zone de saisie -->
            <div class="formula-input-area">
                <h3>Zone de saisie <span class="mode-indicator" id="modeIndicator">Mode normal</span></h3>
                <div class="formula-display" id="formulaDisplay" contenteditable="false">Cliquez sur les symboles ci-dessus...</div>
                <div class="formula-controls">
                    <button class="btn" onclick="clearFormula()">ğŸ—‘ï¸ Effacer</button>
                    <button class="btn" onclick="deleteLastChar()">âŒ« Supprimer dernier</button>
                    <button class="btn" onclick="toggleSubscript()">â‚ Indice</button>
                    <button class="btn" onclick="toggleSuperscript()">Â¹ Exposant</button>
                    <button class="btn" onclick="addSpace()">â£ Espace</button>
                </div>
            </div>

            <!-- Quiz progressif -->
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar" style="width: 0%">0/10</div>
            </div>

            <div class="formula-quiz-box">
                <h3>ğŸ¯ Quiz : Ã‰cris la formule demandÃ©e</h3>
                <div class="formula-target" id="formulaTarget">Chargement...</div>
                <div class="formula-hint" id="formulaHint"></div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button class="btn" onclick="validateFormula()" style="font-size: 1.2em; padding: 15px 40px;">
                        âœ“ Valider ma formule
                    </button>
                    <button class="btn" onclick="skipFormula()">â­ï¸ Passer</button>
                    <button class="btn" onclick="showFormulaHelp()">ğŸ’¡ Aide</button>
                </div>
                
                <div id="validationResult"></div>
            </div>

            <!-- RÃ©capitulatif des formules -->
            <h2>ğŸ“š RÃ©capitulatif des Formules</h2>

            <div class="formula-box">
                <h3>Pression hydrostatique</h3>
                <div class="formula">P = Pâ‚€ + Ïgh
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>P</strong></td><td>Pression totale au point considÃ©rÃ©</td><td>Pa (pascal) = N/mÂ²</td><td>kPa, bar, mmHg</td><td>Toujours une pression (force / surface).</td></tr>
<tr><td><strong>Pâ‚€</strong></td><td>Pression Ã  la surface (souvent atmosphÃ©rique)</td><td>Pa</td><td>â‰ˆ 101 325 Pa (au niveau de la mer)</td><td>Si tu veux seulement la pression due Ã  lâ€™eau : calcule Ïgh (pression Â« relative Â»).</td></tr>
<tr><td><strong>Ï</strong></td><td>Masse volumique du fluide</td><td>kg/mÂ³</td><td>Eau douce â‰ˆ 1000 kg/mÂ³</td><td>Plus Ï est grande, plus la pression augmente vite avec la profondeur.</td></tr>
<tr><td><strong>g</strong></td><td>AccÃ©lÃ©ration de la pesanteur</td><td>m/sÂ²</td><td>â‰ˆ 9,81 m/sÂ²</td><td>Dans les exercices on prend souvent 9,81.</td></tr>
<tr><td><strong>h</strong></td><td>Profondeur sous la surface</td><td>m</td><td>cm â†’ m : diviser par 100</td><td>h = 0 Ã  la surface, augmente en descendant.</td></tr>
</table><div class="unit-note">RepÃ¨res rapides : 1 kPa = 1000 Pa ; 1 bar = 100 kPa ; 1 mmHg â‰ˆ 133,322 Pa.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    P = Pression totale (Pa)<br>
                    Pâ‚€ = Pression atmosphÃ©rique (101 325 Pa)<br>
                    Ï = Masse volumique (kg/mÂ³)<br>
                    g = 9.81 m/sÂ²<br>
                    h = Profondeur (m)
                </p>
            </div>

            <div class="formula-box">
                <h3>PoussÃ©e d'ArchimÃ¨de</h3>
                <div class="formula">F_A = Ï_fluide Ã— V_immergÃ© Ã— g
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>F_A</strong></td><td>Force de flottabilitÃ© (vers le haut)</td><td>N (newton)</td><td>N (pas dâ€™unitÃ© Â« clinique Â» standard)</td><td>Câ€™est une force : elle sâ€™oppose au poids.</td></tr>
<tr><td><strong>Ï_fluide</strong></td><td>Masse volumique du fluide</td><td>kg/mÂ³</td><td>Eau â‰ˆ 1000 kg/mÂ³</td><td>Si lâ€™eau est salÃ©e â†’ Ï un peu plus grand â†’ poussÃ©e un peu plus grande.</td></tr>
<tr><td><strong>V_immergÃ©</strong></td><td>Volume de la partie immergÃ©e</td><td>mÂ³</td><td>L â†’ mÂ³ : diviser par 1000</td><td>Attention : câ€™est le volume immergÃ©, pas forcÃ©ment le volume total du corps.</td></tr>
<tr><td><strong>g</strong></td><td>AccÃ©lÃ©ration de la pesanteur</td><td>m/sÂ²</td><td>â‰ˆ 9,81 m/sÂ²</td><td>MÃªme g que pour le poids.</td></tr>
</table><div class="unit-note">Astuce : si tu connais le volume en litres, convertis : 50 L = 0,050 mÂ³.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    F_A = PoussÃ©e d'ArchimÃ¨de (N)<br>
                    V = Volume immergÃ© (mÂ³)
                </p>
            </div>

            <div class="formula-box">
                <h3>Poids apparent</h3>
                <div class="formula">P_apparent = P_rÃ©el - F_A
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>P_apparent</strong></td><td>Â« Poids ressenti Â» en immersion (force exercÃ©e sur les appuis)</td><td>N</td><td>On peut aussi lâ€™exprimer en Â« kg Ã©quivalent Â» : P_apparent / g</td><td>Plus F_A est grande, plus le poids apparent diminue.</td></tr>
<tr><td><strong>P_rÃ©el</strong></td><td>Poids dans lâ€™air (force)</td><td>N</td><td>P_rÃ©el = mÂ·g</td><td>Ne pas confondre masse m (kg) et poids P (N).</td></tr>
<tr><td><strong>F_A</strong></td><td>PoussÃ©e dâ€™ArchimÃ¨de (force vers le haut)</td><td>N</td><td>Voir formule ci-dessus</td><td>Quand F_A â‰ˆ P_rÃ©el â†’ flottaison neutre.</td></tr>
</table><div class="unit-note">Conversion : masse Ã©quivalente (kg) = force (N) / 9,81.</div></details>
</div>
            </div>

            <div class="formula-box">
                <h3>DÃ©bit volumique</h3>
                <div class="formula">Q = v Ã— S = v Ã— Ï€ Ã— rÂ²
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>Q</strong></td><td>DÃ©bit volumique (volume qui passe par seconde)</td><td>mÂ³/s</td><td>L/min, L/s</td><td>Toujours : Q = vÂ·S.</td></tr>
<tr><td><strong>v</strong></td><td>Vitesse moyenne du fluide</td><td>m/s</td><td>â€”</td><td>Si tu doubles Q Ã  section constante, v double.</td></tr>
<tr><td><strong>S</strong></td><td>Section de passage</td><td>mÂ²</td><td>cmÂ² â†’ mÂ² : diviser par 10 000</td><td>Pour un tube circulaire : S = Ï€Â·rÂ².</td></tr>
<tr><td><strong>r</strong></td><td>Rayon (moitiÃ© du diamÃ¨tre)</td><td>m</td><td>cm â†’ m : /100</td><td>DiamÃ¨tre D = 2r.</td></tr>
</table><div class="unit-note">Conversions utiles : 1 L = 10â»Â³ mÂ³ ; 1 min = 60 s.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Q = DÃ©bit (mÂ³/s)<br>
                    v = Vitesse (m/s)<br>
                    S = Section (mÂ²)<br>
                    r = Rayon (m)
                </p>
            </div>

            <div class="formula-box">
                <h3>Nombre de Reynolds</h3>
                <div class="formula">Re = (ÏvD)/Î· = (vD)/Î½
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>Re</strong></td><td>Indicateur du type dâ€™Ã©coulement</td><td>Sans unitÃ©</td><td>â€”</td><td>Petit â†’ laminaire ; grand â†’ turbulent.</td></tr>
<tr><td><strong>Ï</strong></td><td>Masse volumique</td><td>kg/mÂ³</td><td>â€”</td><td>Dans lâ€™eau, Ï varie peu â†’ lâ€™effet vient surtout de v, D et Î·/Î½.</td></tr>
<tr><td><strong>v</strong></td><td>Vitesse</td><td>m/s</td><td>â€”</td><td>Plus v augmente, plus Re augmente.</td></tr>
<tr><td><strong>D</strong></td><td>DiamÃ¨tre hydraulique (tube circulaire : diamÃ¨tre)</td><td>m</td><td>cm â†’ m : /100</td><td>Augmenter D augmente Re.</td></tr>
<tr><td><strong>Î·</strong></td><td>ViscositÃ© dynamique</td><td>PaÂ·s</td><td>mPaÂ·s (eau â‰ˆ 1 mPaÂ·s Ã  ~20Â°C)</td><td>Plus Î· est grande, plus Re diminue.</td></tr>
<tr><td><strong>Î½</strong></td><td>ViscositÃ© cinÃ©matique (Î½ = Î·/Ï)</td><td>mÂ²/s</td><td>eau ~ 1Ã—10â»â¶ mÂ²/s (ordre de grandeur)</td><td>Forme pratique : Re = vÂ·D/Î½.</td></tr>
</table><div class="unit-note">Seuils (approx.) : Re < 2000 laminaire ; 2000â€“4000 transition ; > 4000 turbulent.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Re = Nombre de Reynolds (sans unitÃ©)<br>
                    D = DiamÃ¨tre (m)<br>
                    Î· = ViscositÃ© dynamique (PaÂ·s)<br>
                    Î½ = ViscositÃ© cinÃ©matique (mÂ²/s)
                </p>
            </div>

            <div class="formula-box">
                <h3>Ã‰quation de Bernoulli</h3>
                <div class="formula">P + Â½ÏvÂ² + Ïgh = constante
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary><div style="margin-top:8px;"><span class="chip">IdÃ©al (sans pertes)</span><span class="chip">Incompressible</span><span class="chip">Stationnaire</span></div>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>P</strong></td><td>Pression statique</td><td>Pa</td><td>kPa, bar</td><td>Câ€™est lâ€™Ã©nergie par unitÃ© de volume liÃ©e Ã  la pression.</td></tr>
<tr><td><strong>Â½ÏvÂ²</strong></td><td>Pression/Ã©nergie dynamique (liÃ©e Ã  la vitesse)</td><td>Pa</td><td>â€”</td><td>Si v augmente, ce terme augmente comme vÂ².</td></tr>
<tr><td><strong>Ïgh</strong></td><td>Terme hydrostatique (liÃ© Ã  la hauteur)</td><td>Pa</td><td>â€”</td><td>h est une altitude (pas une profondeur) dans cette Ã©criture.</td></tr>
<tr><td><strong>constante</strong></td><td>MÃªme valeur le long dâ€™une ligne de courant (cas idÃ©al)</td><td>â€”</td><td>â€”</td><td>HypothÃ¨ses : Ã©coulement stationnaire, fluide incompressible, pertes nÃ©gligÃ©es.</td></tr>
</table><div class="unit-note">Lecture simple : si lâ€™Ã©nergie totale se conserve, gagner en vitesse peut se faire au dÃ©triment de la pression (et inversement).</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Principe de conservation de l'Ã©nergie dans un fluide
                </p>
            </div>

            <div class="formula-box">
                <h3>Loi de Poiseuille</h3>
                <div class="formula">Q = (Ï€Î”Prâ´)/(8Î·L)
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary><div style="margin-top:8px;"><span class="chip">Laminaire</span><span class="chip">Tube cylindrique</span><span class="chip">Fluide newtonien</span></div>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>Q</strong></td><td>DÃ©bit volumique</td><td>mÂ³/s</td><td>L/min</td><td>TrÃ¨s sensible au rayon : râ´ !</td></tr>
<tr><td><strong>Î”P</strong></td><td>DiffÃ©rence de pression entre lâ€™entrÃ©e et la sortie</td><td>Pa</td><td>kPa</td><td>Plus Î”P augmente, plus Q augmente.</td></tr>
<tr><td><strong>r</strong></td><td>Rayon du tube</td><td>m</td><td>mm, cm</td><td>Doubler r â†’ Q Ã— 16 (si tout le reste reste pareil).</td></tr>
<tr><td><strong>Î·</strong></td><td>ViscositÃ© dynamique</td><td>PaÂ·s</td><td>mPaÂ·s</td><td>Plus le fluide est visqueux, plus le dÃ©bit diminue.</td></tr>
<tr><td><strong>L</strong></td><td>Longueur du tube</td><td>m</td><td>â€”</td><td>Plus le tube est long, plus le dÃ©bit diminue.</td></tr>
<tr><td><strong>Ï€ et 8</strong></td><td>Constantes mathÃ©matiques</td><td>â€”</td><td>â€”</td><td>Elles viennent de lâ€™intÃ©gration du profil de vitesse laminaire.</td></tr>
</table><div class="unit-note">Valable en rÃ©gime laminaire dans un tube cylindrique, fluide newtonien, Ã©coulement Ã©tabli.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Î”P = DiffÃ©rence de pression (Pa)<br>
                    L = Longueur de la conduite (m)
                </p>
            </div>

            <div class="formula-box">
                <h3>Pertes de charge</h3>
                <div class="formula">Î”P = Î» Ã— (L/D) Ã— (ÏvÂ²/2)
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>Î”P</strong></td><td>Perte de pression due aux frottements</td><td>Pa</td><td>kPa</td><td>Câ€™est une Â« pression perdue Â» Ã  compenser par la pompe.</td></tr>
<tr><td><strong>Î»</strong></td><td>Facteur de frottement (dÃ©pend de Re et de la rugositÃ©)</td><td>Sans unitÃ©</td><td>â€”</td><td>En pratique, on le lit sur des abaques (Moody) ou via des formules.</td></tr>
<tr><td><strong>L</strong></td><td>Longueur de la conduite</td><td>m</td><td>â€”</td><td>Plus câ€™est long â†’ plus Ã§a perd.</td></tr>
<tr><td><strong>D</strong></td><td>DiamÃ¨tre</td><td>m</td><td>cm</td><td>Plus D est grand â†’ moins il y a de pertes (Ã  dÃ©bit comparable).</td></tr>
<tr><td><strong>Ï</strong></td><td>Masse volumique</td><td>kg/mÂ³</td><td>â€”</td><td>Dans lâ€™eau, Ï â‰ˆ 1000 kg/mÂ³.</td></tr>
<tr><td><strong>v</strong></td><td>Vitesse moyenne</td><td>m/s</td><td>â€”</td><td>Le terme vÂ²/2 : la vitesse pÃ¨se trÃ¨s fort sur les pertes.</td></tr>
</table><div class="unit-note">Si tu connais Q et D : v = Q/S puis tu peux estimer Î”P.</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Î» = Coefficient de perte de charge<br>
                    L = Longueur (m)<br>
                    D = DiamÃ¨tre (m)
                </p>
            </div>

            <div class="formula-box">
                <h3>ViscositÃ© - Loi de Newton</h3>
                <div class="formula">Ï„ = Î· Ã— (dv/dy)
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary><div style="margin-top:8px;"><span class="chip">Cisaillement</span><span class="chip">Fluide newtonien</span></div>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>Ï„</strong></td><td>Contrainte de cisaillement (force tangentielle / surface)</td><td>Pa</td><td>â€”</td><td>Câ€™est Â« ce qui tire Â» les couches de fluide entre elles.</td></tr>
<tr><td><strong>Î·</strong></td><td>ViscositÃ© dynamique</td><td>PaÂ·s</td><td>mPaÂ·s</td><td>Plus Î· est grande, plus il faut Â« forcer Â» pour crÃ©er le mÃªme cisaillement.</td></tr>
<tr><td><strong>dv/dy</strong></td><td>Gradient de vitesse (variation de v selon y)</td><td>sâ»Â¹</td><td>â€”</td><td>Si la vitesse change vite entre deux couches â†’ cisaillement Ã©levÃ©.</td></tr>
</table><div class="unit-note">Fluide newtonien : relation linÃ©aire entre Ï„ et dv/dy (ex : eau).</div></details>
</div>
                <p style="text-align: center; margin-top: 10px;">
                    Ï„ = Contrainte de cisaillement (Pa)<br>
                    dv/dy = Gradient de vitesse (sâ»Â¹)
                </p>
            </div>

            <div class="formula-box">
                <h3>Ã‰nergie cinÃ©tique du fluide</h3>
                <div class="formula">E_c = Â½mvÂ² = Â½ÏVvÂ²
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>E_c</strong></td><td>Ã‰nergie cinÃ©tique</td><td>J (joule)</td><td>â€”</td><td>Ã‰nergie = capacitÃ© Ã  produire un travail.</td></tr>
<tr><td><strong>m</strong></td><td>Masse de fluide en mouvement</td><td>kg</td><td>â€”</td><td>m = ÏÂ·V.</td></tr>
<tr><td><strong>v</strong></td><td>Vitesse</td><td>m/s</td><td>â€”</td><td>DÃ©pend comme vÂ² : si v double, E_c est multipliÃ©e par 4.</td></tr>
<tr><td><strong>Ï</strong></td><td>Masse volumique</td><td>kg/mÂ³</td><td>â€”</td><td>Permet de passer de volume Ã  masse.</td></tr>
<tr><td><strong>V</strong></td><td>Volume de fluide</td><td>mÂ³</td><td>L â†’ mÂ³ : /1000</td><td>Attention au V (volume) et v (vitesse) : majuscule/minuscule !</td></tr>
</table><div class="unit-note">Dans un jet, câ€™est cette Ã©nergie (liÃ©e Ã  la vitesse) qui contribue Ã  lâ€™effet Â« massant Â».</div></details>
</div>
            </div>

            <div class="formula-box">
                <h3>Pression dynamique</h3>
                <div class="formula">P_dyn = Â½ÏvÂ²
<details class="pedago"><summary>Que reprÃ©sente chaque terme ? (unitÃ©s)</summary>
<table class="unit-table"><tr><th>Symbole</th><th>Signification</th><th>UnitÃ© (SI)</th><th>UnitÃ©s utiles</th><th>Ã€ retenir</th></tr>
<tr><td><strong>P_dyn</strong></td><td>Pression dynamique (liÃ©e au mouvement)</td><td>Pa</td><td>â€”</td><td>MÃªme unitÃ© quâ€™une pression car câ€™est une Ã©nergie par unitÃ© de volume.</td></tr>
<tr><td><strong>Ï</strong></td><td>Masse volumique</td><td>kg/mÂ³</td><td>â€”</td><td>Dans lâ€™eau : â‰ˆ 1000 kg/mÂ³.</td></tr>
<tr><td><strong>v</strong></td><td>Vitesse</td><td>m/s</td><td>â€”</td><td>Si v double â†’ P_dyn Ã— 4.</td></tr>
</table><div class="unit-note">Ã€ ne pas confondre avec la pression statique P. P_dyn vient du terme Â½ÏvÂ².</div></details>
</div>
            </div>
        </div>

        <!-- Section Exemples -->
        <div id="exemples" class="content-section">
            <h2>ğŸ“Š Exemples de Calculs DÃ©taillÃ©s</h2>

            <div class="example-box">
                <h3>Exemple 1 : Pression sur un patient immergÃ©</h3>
                <p><strong>Situation :</strong> Un patient de 75 kg, taille 1.75 m, est immergÃ© dans une piscine thÃ©rapeutique jusqu'au cou (profondeur 1.5 m).</p>
                
                <p style="margin-top: 15px;"><strong>Calculs :</strong></p>
                
                <p><strong>a) Pression au niveau des pieds :</strong></p>
                <div class="formula">P = Pâ‚€ + Ïgh = 101 325 + 1000 Ã— 9.81 Ã— 1.5</div>
                <div class="formula">P = 101 325 + 14 715 = 116 040 Pa</div>
                <p>Soit une pression relative de <strong>14.7 kPa = 110 mmHg</strong></p>
                
                <p style="margin-top: 15px;"><strong>b) PoussÃ©e d'ArchimÃ¨de :</strong></p>
                <p>Volume approximatif du corps : V â‰ˆ 75 L = 0.075 mÂ³</p>
                <div class="formula">F<sub>A</sub> = Ï<sub>eau</sub> Ã— V Ã— g = 1000 Ã— 0.075 Ã— 9.81 = 736 N</div>
                
                <p style="margin-top: 15px;"><strong>c) Poids apparent :</strong></p>
                <p>Poids rÃ©el : P<sub>rÃ©el</sub> = 75 Ã— 9.81 = 736 N</p>
                <div class="formula">P<sub>apparent</sub> = 736 - 736 = 0 N</div>
                <p>Le patient est en <strong>flottaison neutre</strong> !</p>
                
                <div class="info-box" style="margin-top: 15px;">
                    <strong>InterprÃ©tation clinique :</strong> La rÃ©duction drastique du poids permet une mobilisation prÃ©coce sans contrainte articulaire, idÃ©ale pour la rÃ©Ã©ducation post-opÃ©ratoire.
                </div>
            </div>

            <div class="example-box">
                <h3>Exemple 2 : Jet hydromassant</h3>
                <p><strong>Situation :</strong> Installation d'un jet thÃ©rapeutique avec les caractÃ©ristiques suivantes :</p>
                <ul>
                    <li>DÃ©bit : Q = 30 L/min</li>
                    <li>DiamÃ¨tre de la buse : D = 3 cm</li>
                    <li>Distance peau-buse : 20 cm</li>
                </ul>
                
                <p style="margin-top: 15px;"><strong>Calculs :</strong></p>
                
                <p><strong>a) Vitesse de sortie :</strong></p>
                <p>Q = 30 L/min = 5Ã—10â»â´ mÂ³/s</p>
                <p>Section : S = Ï€ Ã— (0.015)Â² = 7.07Ã—10â»â´ mÂ²</p>
                <div class="formula">v = Q/S = 5Ã—10â»â´ / 7.07Ã—10â»â´ = 0.71 m/s</div>
                
                <p style="margin-top: 15px;"><strong>b) Nombre de Reynolds :</strong></p>
                <p>ViscositÃ© cinÃ©matique de l'eau Ã  35Â°C : Î½ â‰ˆ 7Ã—10â»â· mÂ²/s</p>
                <div class="formula">Re = (v Ã— D) / Î½ = (0.71 Ã— 0.03) / 7Ã—10â»â· = 30 400</div>
                <p>Re > 4000 â†’ <strong>Ã‰coulement turbulent</strong> (effet massant efficace)</p>
                
                <p style="margin-top: 15px;"><strong>c) Pression dynamique :</strong></p>
                <div class="formula">P<sub>dyn</sub> = Â½ÏvÂ² = Â½ Ã— 1000 Ã— (0.71)Â² = 252 Pa</div>
                
                <p style="margin-top: 15px;"><strong>d) Force sur la peau (surface 15 cmÂ²) :</strong></p>
                <div class="formula">F = P Ã— S = 252 Ã— 0.0015 = 0.38 N</div>
                
                <div class="info-box" style="margin-top: 15px;">
                    <strong>InterprÃ©tation :</strong> Force modÃ©rÃ©e, idÃ©ale pour massage relaxant. Pour un effet plus tonique, augmenter le dÃ©bit ou rÃ©duire le diamÃ¨tre.
                </div>
            </div>

            <div class="example-box">
                <h3>Exemple 3 : Marche en piscine thÃ©rapeutique</h3>
                <p><strong>Situation :</strong> Un patient marche dans une piscine avec diffÃ©rents niveaux d'immersion.</p>
                
                <table style="margin-top: 15px;">
                    <tr>
                        <th>Niveau d'eau</th>
                        <th>% poids supportÃ©</th>
                        <th>Poids apparent (70 kg)</th>
                        <th>Application</th>
                    </tr>
                    <tr>
                        <td>Chevilles</td>
                        <td>90%</td>
                        <td>63 kg</td>
                        <td>Marche lÃ©gÃ¨re</td>
                    </tr>
                    <tr>
                        <td>Genoux</td>
                        <td>75%</td>
                        <td>52.5 kg</td>
                        <td>RÃ©Ã©ducation post-entorse</td>
                    </tr>
                    <tr>
                        <td>Hanches</td>
                        <td>50%</td>
                        <td>35 kg</td>
                        <td>RÃ©Ã©ducation post-PTH</td>
                    </tr>
                    <tr>
                        <td>Taille</td>
                        <td>25%</td>
                        <td>17.5 kg</td>
                        <td>RÃ©Ã©ducation prÃ©coce</td>
                    </tr>
                    <tr>
                        <td>Ã‰paules</td>
                        <td>10%</td>
                        <td>7 kg</td>
                        <td>Paralysie partielle</td>
                    </tr>
                </table>
                
                <div class="info-box" style="margin-top: 15px;">
                    <strong>Principe de progression :</strong> Commencer avec une immersion importante (Ã©paules) puis rÃ©duire progressivement le niveau d'eau pour augmenter la charge.
                </div>
            </div>

            <div class="example-box">
                <h3>Exemple 4 : Dimensionnement d'un circuit de jets</h3>
                <p><strong>Situation :</strong> Conception d'un circuit alimentant 4 jets thÃ©rapeutiques.</p>
                <p><strong>DonnÃ©es :</strong></p>
                <ul>
                    <li>DÃ©bit par jet : 25 L/min</li>
                    <li>Longueur totale : 40 m</li>
                    <li>DiamÃ¨tre conduite : 5 cm</li>
                    <li>8 coudes Ã  90Â°</li>
                    <li>2 vannes</li>
                </ul>
                
                <p style="margin-top: 15px;"><strong>Calculs :</strong></p>
                
                <p><strong>a) DÃ©bit total :</strong></p>
                <div class="formula">Q<sub>total</sub> = 4 Ã— 25 = 100 L/min = 1.67Ã—10â»Â³ mÂ³/s</div>
                
                <p style="margin-top: 15px;"><strong>b) Vitesse moyenne :</strong></p>
                <p>S = Ï€ Ã— (0.025)Â² = 1.96Ã—10â»Â³ mÂ²</p>
                <div class="formula">v = Q/S = 1.67Ã—10â»Â³ / 1.96Ã—10â»Â³ = 0.85 m/s</div>
                
                <p style="margin-top: 15px;"><strong>c) Pertes de charge rÃ©guliÃ¨res (Î» = 0.02) :</strong></p>
                <div class="formula">Î”P<sub>rÃ©g</sub> = 0.02 Ã— (40/0.05) Ã— (1000 Ã— 0.85Â²/2) = 5780 Pa</div>
                
                <p style="margin-top: 15px;"><strong>d) Pertes singuliÃ¨res :</strong></p>
                <p>Coudes : K<sub>coude</sub> = 0.9, Vannes : K<sub>vanne</sub> = 0.2</p>
                <div class="formula">Î”P<sub>sing</sub> = (8Ã—0.9 + 2Ã—0.2) Ã— (1000 Ã— 0.85Â²/2) = 2770 Pa</div>
                
                <p style="margin-top: 15px;"><strong>e) Pertes totales :</strong></p>
                <div class="formula">Î”P<sub>total</sub> = 5780 + 2770 = 8550 Pa â‰ˆ 8.6 kPa</div>
                
                <div class="info-box" style="margin-top: 15px;">
                    <strong>SpÃ©cification pompe :</strong> PrÃ©voir une pompe de 100 L/min avec une hauteur manomÃ©trique d'au moins 10 mCE (mÃ¨tres de colonne d'eau) pour compenser les pertes et maintenir la pression de sortie.
                </div>
            </div>
        </div>

        <!-- Section Exercices -->
        <div id="exercices" class="content-section">
            <h2>ğŸ¯ Exercices Pratiques</h2>

            <div class="exercise-box">
                <h3>Exercice 1 : Pression hydrostatique</h3>
                <p class="question">Un patient est allongÃ© au fond d'une piscine Ã  2 m de profondeur. Quelle est la pression totale qu'il subit ?</p>
                <p><strong>DonnÃ©es :</strong> Pâ‚€ = 101 325 Pa, Ï = 1000 kg/mÂ³, g = 9.81 m/sÂ²</p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (Pa) :</label>
                    <input type="number" id="ex1Input" step="1">
                    <button class="btn" onclick="verifierEx1()">VÃ©rifier</button>
                </div>
                <div id="ex1Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Formule :</strong> P = Pâ‚€ + Ïgh</p>
                        <p><strong>Calcul :</strong></p>
                        <p>P = 101 325 + (1000 Ã— 9.81 Ã— 2)</p>
                        <p>P = 101 325 + 19 620</p>
                        <p><strong>P = 120 945 Pa</strong></p>
                        <p style="margin-top: 10px;"><em>La pression relative (due Ã  l'eau) est de 19.62 kPa, soit environ 147 mmHg.</em></p>
                    </div>
                </details>
            </div>

            <div class="exercise-box">
                <h3>Exercice 2 : PoussÃ©e d'ArchimÃ¨de</h3>
                <p class="question">Un ballon de rÃ©Ã©ducation de 60 cm de diamÃ¨tre est immergÃ© complÃ¨tement dans l'eau. Quelle est la poussÃ©e d'ArchimÃ¨de qu'il subit ?</p>
                <p><strong>DonnÃ©es :</strong> Volume sphÃ¨re = (4/3)Ï€rÂ³, Ï<sub>eau</sub> = 1000 kg/mÂ³</p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (N) :</label>
                    <input type="number" id="ex2Input" step="0.1">
                    <button class="btn" onclick="verifierEx2()">VÃ©rifier</button>
                </div>
                <div id="ex2Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Ã‰tape 1 :</strong> Calculer le volume du ballon</p>
                        <p>r = 0.30 m</p>
                        <p>V = (4/3) Ã— Ï€ Ã— (0.30)Â³ = 0.1131 mÂ³</p>
                        <p><strong>Ã‰tape 2 :</strong> Calculer la poussÃ©e</p>
                        <p>F<sub>A</sub> = Ï<sub>eau</sub> Ã— V Ã— g</p>
                        <p>F<sub>A</sub> = 1000 Ã— 0.1131 Ã— 9.81</p>
                        <p><strong>F<sub>A</sub> = 1109.5 N â‰ˆ 1110 N</strong></p>
                        <p style="margin-top: 10px;"><em>Cette force Ã©quivaut au poids d'une masse de 113 kg !</em></p>
                    </div>
                </details>
            </div>

            <div class="exercise-box">
                <h3>Exercice 3 : Vitesse d'Ã©coulement</h3>
                <p class="question">Un jet hydromassant a un dÃ©bit de 40 L/min et une buse de 2.5 cm de diamÃ¨tre. Quelle est la vitesse de sortie de l'eau ?</p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (m/s) :</label>
                    <input type="number" id="ex3Input" step="0.01">
                    <button class="btn" onclick="verifierEx3()">VÃ©rifier</button>
                </div>
                <div id="ex3Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Ã‰tape 1 :</strong> Convertir le dÃ©bit</p>
                        <p>Q = 40 L/min = 40/60 000 mÂ³/s = 6.67Ã—10â»â´ mÂ³/s</p>
                        <p><strong>Ã‰tape 2 :</strong> Calculer la section</p>
                        <p>r = 0.0125 m</p>
                        <p>S = Ï€ Ã— rÂ² = Ï€ Ã— (0.0125)Â² = 4.91Ã—10â»â´ mÂ²</p>
                        <p><strong>Ã‰tape 3 :</strong> Calculer la vitesse</p>
                        <p>v = Q/S = 6.67Ã—10â»â´ / 4.91Ã—10â»â´</p>
                        <p><strong>v = 1.36 m/s</strong></p>
                    </div>
                </details>
            </div>

            <div class="exercise-box">
                <h3>Exercice 4 : Poids apparent</h3>
                <p class="question">Un patient de 80 kg avec un volume corporel de 78 L est immergÃ© jusqu'Ã  la taille (50% du volume immergÃ©). Quel est son poids apparent ?</p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (N) :</label>
                    <input type="number" id="ex4Input" step="0.1">
                    <button class="btn" onclick="verifierEx4()">VÃ©rifier</button>
                </div>
                <div id="ex4Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Ã‰tape 1 :</strong> Poids rÃ©el</p>
                        <p>P<sub>rÃ©el</sub> = m Ã— g = 80 Ã— 9.81 = 784.8 N</p>
                        <p><strong>Ã‰tape 2 :</strong> Volume immergÃ©</p>
                        <p>V<sub>immergÃ©</sub> = 0.50 Ã— 78 = 39 L = 0.039 mÂ³</p>
                        <p><strong>Ã‰tape 3 :</strong> PoussÃ©e d'ArchimÃ¨de</p>
                        <p>F<sub>A</sub> = Ï Ã— V Ã— g = 1000 Ã— 0.039 Ã— 9.81 = 382.6 N</p>
                        <p><strong>Ã‰tape 4 :</strong> Poids apparent</p>
                        <p>P<sub>apparent</sub> = P<sub>rÃ©el</sub> - F<sub>A</sub></p>
                        <p>P<sub>apparent</sub> = 784.8 - 382.6</p>
                        <p><strong>P<sub>apparent</sub> = 402.2 N</strong></p>
                        <p style="margin-top: 10px;"><em>Le patient ne porte plus que 51% de son poids (41 kg Ã©quivalent).</em></p>
                    </div>
                </details>
            </div>

            <div class="exercise-box">
                <h3>Exercice 5 : Nombre de Reynolds</h3>
                <p class="question">Dans un tuyau de 4 cm de diamÃ¨tre, l'eau s'Ã©coule Ã  0.5 m/s. DÃ©terminez le type d'Ã©coulement.</p>
                <p><strong>DonnÃ©es :</strong> ViscositÃ© cinÃ©matique Î½ = 1Ã—10â»â¶ mÂ²/s</p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (Re) :</label>
                    <input type="number" id="ex5Input" step="1">
                    <button class="btn" onclick="verifierEx5()">VÃ©rifier</button>
                </div>
                <div id="ex5Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Formule :</strong> Re = (v Ã— D) / Î½</p>
                        <p><strong>Calcul :</strong></p>
                        <p>Re = (0.5 Ã— 0.04) / (1Ã—10â»â¶)</p>
                        <p>Re = 0.02 / (1Ã—10â»â¶)</p>
                        <p><strong>Re = 20 000</strong></p>
                        <p style="margin-top: 10px;"><em><strong>InterprÃ©tation :</strong> Re > 4000 â†’ Ã‰coulement turbulent. Les filets d'eau sont chaotiques, le mÃ©lange est efficace.</em></p>
                    </div>
                </details>
            </div>

            <div class="exercise-box">
                <h3>Exercice 6 : Cas clinique complet</h3>
                <p><strong>Situation :</strong> Vous devez concevoir un protocole de rÃ©Ã©ducation pour une patiente de 65 kg ayant subi une prothÃ¨se totale de hanche.</p>
                
                <p class="question">Phase 1 (J+7) : Immersion jusqu'aux Ã©paules. Quel sera son poids apparent ?</p>
                <p><em>ConsidÃ©rer 90% du volume corporel immergÃ©, volume total 63 L</em></p>
                
                <div style="margin-top: 15px;">
                    <label>Votre rÃ©ponse (kg) :</label>
                    <input type="number" id="ex6Input" step="0.1">
                    <button class="btn" onclick="verifierEx6()">VÃ©rifier</button>
                </div>
                <div id="ex6Result"></div>
                
                <details style="margin-top: 15px;">
                    <summary style="cursor: pointer; font-weight: 600;">Solution dÃ©taillÃ©e</summary>
                    <div style="margin-top: 10px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
                        <p><strong>Ã‰tape 1 :</strong> Volume immergÃ©</p>
                        <p>V<sub>immergÃ©</sub> = 0.90 Ã— 63 = 56.7 L = 0.0567 mÂ³</p>
                        <p><strong>Ã‰tape 2 :</strong> PoussÃ©e d'ArchimÃ¨de</p>
                        <p>F<sub>A</sub> = 1000 Ã— 0.0567 Ã— 9.81 = 556.2 N</p>
                        <p><strong>Ã‰tape 3 :</strong> Poids rÃ©el</p>
                        <p>P<sub>rÃ©el</sub> = 65 Ã— 9.81 = 637.7 N</p>
                        <p><strong>Ã‰tape 4 :</strong> Poids apparent</p>
                        <p>P<sub>apparent</sub> = 637.7 - 556.2 = 81.5 N</p>
                        <p><strong>Masse apparente = 81.5 / 9.81 = 8.3 kg</strong></p>
                        <p style="margin-top: 10px;"><em><strong>InterprÃ©tation clinique :</strong> La patiente ne supporte que 13% de son poids, permettant une mobilisation prÃ©coce sans contrainte sur la prothÃ¨se.</em></p>
                    </div>
                </details>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="resetExercices()">RÃ©initialiser tous les exercices</button>
            </div>
        </div>
    </div>

    <script>
        // Navigation entre onglets
        function showTab(tabName, btnEl) {
            const sections = document.querySelectorAll('.content-section');
            const buttons = document.querySelectorAll('.tab-btn');
            
            sections.forEach(section => section.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            const targetBtn = btnEl || (typeof event !== 'undefined' ? event.target : null);
            if (targetBtn) targetBtn.classList.add('active');
        }

        // Navigation entre niveaux
        function showLevel(section, level, btnEl) {
            const levelContents = document.querySelectorAll(`#${section} .level-content`);
            const levelButtons = document.querySelectorAll(`#${section} .level-btn`);
            
            levelContents.forEach(content => content.style.display = 'none');
            levelButtons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(`${section}-${level}`).style.display = 'block';
            const targetBtn = btnEl || (typeof event !== 'undefined' ? event.target : null);
            if (targetBtn) targetBtn.classList.add('active');
        }

        // Animation Pression
        const pressionCanvas = document.getElementById('pressionCanvas');
        const pressionCtx = pressionCanvas.getContext('2d');
        const profondeurSlider = document.getElementById('profondeurSlider');
        const profondeurValue = document.getElementById('profondeurValue');

        function drawPression() {
            const h = parseFloat(profondeurSlider.value);
            profondeurValue.textContent = h.toFixed(1) + ' m';
            
            pressionCtx.clearRect(0, 0, pressionCanvas.width, pressionCanvas.height);
            
            // Fond ciel
            const skyGradient = pressionCtx.createLinearGradient(0, 0, 0, pressionCanvas.height - 300);
            skyGradient.addColorStop(0, '#87CEEB');
            skyGradient.addColorStop(1, '#E0F6FF');
            pressionCtx.fillStyle = skyGradient;
            pressionCtx.fillRect(0, 0, pressionCanvas.width, pressionCanvas.height - 300);
            
            // Eau avec gradient progressif
            const waterHeight = 300;
            const gradient = pressionCtx.createLinearGradient(0, pressionCanvas.height - waterHeight, 0, pressionCanvas.height);
            gradient.addColorStop(0, '#81D4FA');
            gradient.addColorStop(0.3, '#29B6F6');
            gradient.addColorStop(0.7, '#039BE5');
            gradient.addColorStop(1, '#01579B');
            pressionCtx.fillStyle = gradient;
            pressionCtx.fillRect(50, pressionCanvas.height - waterHeight, 600, waterHeight);
            
            // Ondulations surface
            pressionCtx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            pressionCtx.lineWidth = 2;
            for (let i = 0; i < 3; i++) {
                pressionCtx.beginPath();
                for (let x = 50; x < 650; x += 5) {
                    const y = pressionCanvas.height - waterHeight + Math.sin((x + i * 20) / 20) * 3;
                    if (x === 50) pressionCtx.moveTo(x, y);
                    else pressionCtx.lineTo(x, y);
                }
                pressionCtx.stroke();
            }
            
            // Niveau d'eau
            pressionCtx.strokeStyle = '#01579B';
            pressionCtx.lineWidth = 2;
            pressionCtx.setLineDash([5, 5]);
            pressionCtx.beginPath();
            pressionCtx.moveTo(50, pressionCanvas.height - waterHeight);
            pressionCtx.lineTo(650, pressionCanvas.height - waterHeight);
            pressionCtx.stroke();
            pressionCtx.setLineDash([]);
            
            // Point de mesure
            const yPos = pressionCanvas.height - waterHeight + (h / 2) * waterHeight;
            
            // FlÃ¨ches de pression avec intensitÃ© variable
            const numArrows = Math.floor(h * 3) + 3;
            pressionCtx.lineWidth = 3;
            
            for (let i = 0; i < numArrows; i++) {
                const x = 350;
                const y = yPos + (i - numArrows/2) * 20;
                const length = 30 + (h * 10);
                
                // Gradient de couleur selon intensitÃ©
                const intensity = Math.min(255, 100 + h * 50);
                pressionCtx.strokeStyle = `rgb(${intensity}, ${255-intensity}, 34)`;
                pressionCtx.fillStyle = `rgb(${intensity}, ${255-intensity}, 34)`;
                
                // FlÃ¨che gauche
                pressionCtx.beginPath();
                pressionCtx.moveTo(x - length, y);
                pressionCtx.lineTo(x - 10, y);
                pressionCtx.stroke();
                pressionCtx.beginPath();
                pressionCtx.moveTo(x - 10, y);
                pressionCtx.lineTo(x - 20, y - 5);
                pressionCtx.lineTo(x - 20, y + 5);
                pressionCtx.closePath();
                pressionCtx.fill();
                
                // FlÃ¨che droite
                pressionCtx.beginPath();
                pressionCtx.moveTo(x + length, y);
                pressionCtx.lineTo(x + 10, y);
                pressionCtx.stroke();
                pressionCtx.beginPath();
                pressionCtx.moveTo(x + 10, y);
                pressionCtx.lineTo(x + 20, y - 5);
                pressionCtx.lineTo(x + 20, y + 5);
                pressionCtx.closePath();
                pressionCtx.fill();
            }
            
            // Point de mesure avec animation
            pressionCtx.shadowBlur = 10;
            pressionCtx.shadowColor = '#FF5722';
            pressionCtx.fillStyle = '#FF5722';
            pressionCtx.beginPath();
            pressionCtx.arc(350, yPos, 8, 0, Math.PI * 2);
            pressionCtx.fill();
            pressionCtx.shadowBlur = 0;
            
            // Calculs
            const P0 = 101325;
            const rho = 1000;
            const g = 9.81;
            const P = P0 + rho * g * h;
            const P_rel = rho * g * h;
            const P_mmHg = (P_rel / 133.322).toFixed(0);
            
            // BoÃ®te d'affichage des valeurs
            pressionCtx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            pressionCtx.fillRect(10, 10, 300, 100);
            pressionCtx.strokeStyle = '#667eea';
            pressionCtx.lineWidth = 3;
            pressionCtx.strokeRect(10, 10, 300, 100);
            
            pressionCtx.fillStyle = '#000';
            pressionCtx.font = 'bold 15px Arial';
            pressionCtx.fillText(`ğŸ“ Profondeur: ${h.toFixed(1)} m`, 20, 35);
            pressionCtx.fillText(`ğŸ“Š Pression totale: ${P.toFixed(0)} Pa`, 20, 60);
            pressionCtx.fillStyle = '#FF5722';
            pressionCtx.fillText(`ğŸ’ª Pression relative: ${P_rel.toFixed(0)} Pa`, 20, 85);
            pressionCtx.fillStyle = '#1976D2';
            pressionCtx.font = 'bold 14px Arial';
            pressionCtx.fillText(`= ${P_mmHg} mmHg`, 200, 100);
            
            // Ã‰chelle de profondeur amÃ©liorÃ©e
            pressionCtx.strokeStyle = '#333';
            pressionCtx.lineWidth = 3;
            pressionCtx.beginPath();
            pressionCtx.moveTo(30, pressionCanvas.height - waterHeight);
            pressionCtx.lineTo(30, pressionCanvas.height);
            pressionCtx.stroke();
            
            for (let i = 0; i <= 2; i += 0.5) {
                const y = pressionCanvas.height - waterHeight + (i / 2) * waterHeight;
                pressionCtx.beginPath();
                pressionCtx.moveTo(25, y);
                pressionCtx.lineTo(35, y);
                pressionCtx.stroke();
                pressionCtx.fillStyle = '#000';
                pressionCtx.font = 'bold 13px Arial';
                pressionCtx.fillText(`${i.toFixed(1)}m`, 5, y + 5);
            }
        }

        profondeurSlider.addEventListener('input', drawPression);
        drawPression();

        // Animation ArchimÃ¨de
        const archimedeCanvas = document.getElementById('archimedeCanvas');
        const archimedeCtx = archimedeCanvas.getContext('2d');
        const densiteSlider = document.getElementById('densiteSlider');
        const densiteValue = document.getElementById('densiteValue');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeValue = document.getElementById('volumeValue');

        function drawArchimede() {
            const densite = parseFloat(densiteSlider.value);
            const volume = parseFloat(volumeSlider.value);
            
            densiteValue.textContent = densite + ' kg/mÂ³';
            volumeValue.textContent = volume + ' L';
            
            archimedeCtx.clearRect(0, 0, archimedeCanvas.width, archimedeCanvas.height);
            
            // Fond ciel
            const skyGradient = archimedeCtx.createLinearGradient(0, 0, 0, 300);
            skyGradient.addColorStop(0, '#87CEEB');
            skyGradient.addColorStop(1, '#E0F6FF');
            archimedeCtx.fillStyle = skyGradient;
            archimedeCtx.fillRect(0, 0, archimedeCanvas.width, 300);
            
            // Eau
            const waterLevel = 300;
            const gradient = archimedeCtx.createLinearGradient(0, waterLevel, 0, archimedeCanvas.height);
            gradient.addColorStop(0, '#81D4FA');
            gradient.addColorStop(0.5, '#29B6F6');
            gradient.addColorStop(1, '#0277BD');
            archimedeCtx.fillStyle = gradient;
            archimedeCtx.fillRect(0, waterLevel, archimedeCanvas.width, archimedeCanvas.height - waterLevel);
            
            // Bulles d'air
            archimedeCtx.fillStyle = 'rgba(255, 255, 255, 0.4)';
            for (let i = 0; i < 8; i++) {
                const x = 50 + Math.random() * (archimedeCanvas.width - 100);
                const y = waterLevel + 50 + Math.random() * 80;
                const r = 3 + Math.random() * 4;
                archimedeCtx.beginPath();
                archimedeCtx.arc(x, y, r, 0, Math.PI * 2);
                archimedeCtx.fill();
            }
            
            // Surface de l'eau avec ondulations
            archimedeCtx.strokeStyle = '#01579B';
            archimedeCtx.lineWidth = 3;
            archimedeCtx.beginPath();
            for (let x = 0; x < archimedeCanvas.width; x += 10) {
                const y = waterLevel + Math.sin(x / 30) * 2;
                if (x === 0) archimedeCtx.moveTo(x, y);
                else archimedeCtx.lineTo(x, y);
            }
            archimedeCtx.stroke();
            
            // Calculs
            const volumeM3 = volume / 1000;
            const masse = densite * volumeM3;
            const poids = masse * 9.81;
            const poussee = 1000 * volumeM3 * 9.81;
            const poidsApparent = poids - poussee;
            
            // Position du corps
            let bodyY;
            let bodySize = Math.min(80, 40 + volume * 0.5);
            let bodyColor, etat, emoji;
            
            if (Math.abs(poidsApparent) < 1) {
                // Flottaison neutre
                bodyY = waterLevel + 20;
                bodyColor = '#FFC107';
                etat = "âš–ï¸ Flottaison neutre";
                emoji = "âš–ï¸";
            } else if (poidsApparent > 0) {
                // Coule
                bodyY = archimedeCanvas.height - 80;
                bodyColor = '#FF5722';
                etat = "â¬‡ï¸ Le corps coule";
                emoji = "â¬‡ï¸";
            } else {
                // Flotte
                bodyY = waterLevel - bodySize/2;
                bodyColor = '#4CAF50';
                etat = "â¬†ï¸ Le corps flotte";
                emoji = "â¬†ï¸";
            }
            
            // Ombre du corps
            archimedeCtx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            archimedeCtx.fillRect(archimedeCanvas.width/2 - bodySize/2 + 5, bodyY - bodySize/2 + 5, bodySize, bodySize);
            
            // Corps avec gradient
            const bodyGradient = archimedeCtx.createLinearGradient(
                archimedeCanvas.width/2 - bodySize/2, bodyY - bodySize/2,
                archimedeCanvas.width/2 + bodySize/2, bodyY + bodySize/2
            );
            bodyGradient.addColorStop(0, bodyColor);
            bodyGradient.addColorStop(1, adjustColor(bodyColor, -30));
            archimedeCtx.fillStyle = bodyGradient;
            archimedeCtx.fillRect(archimedeCanvas.width/2 - bodySize/2, bodyY - bodySize/2, bodySize, bodySize);
            
            // Contour du corps
            archimedeCtx.strokeStyle = '#333';
            archimedeCtx.lineWidth = 3;
            archimedeCtx.strokeRect(archimedeCanvas.width/2 - bodySize/2, bodyY - bodySize/2, bodySize, bodySize);
            
            // Emoji sur le corps
            archimedeCtx.font = 'bold 30px Arial';
            archimedeCtx.textAlign = 'center';
            archimedeCtx.fillText(emoji, archimedeCanvas.width/2, bodyY + 10);
            
            // FlÃ¨che poids (rouge, vers le bas)
            const arrowLength = Math.min(100, 30 + Math.abs(poids) * 0.05);
            
            // Ombre flÃ¨che
            archimedeCtx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
            archimedeCtx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            archimedeCtx.lineWidth = 4;
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 - 38, bodyY + 2);
            archimedeCtx.lineTo(archimedeCanvas.width/2 - 38, bodyY + arrowLength + 2);
            archimedeCtx.stroke();
            
            // FlÃ¨che poids rÃ©elle
            archimedeCtx.strokeStyle = '#D32F2F';
            archimedeCtx.fillStyle = '#D32F2F';
            archimedeCtx.lineWidth = 4;
            
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 - 40, bodyY);
            archimedeCtx.lineTo(archimedeCanvas.width/2 - 40, bodyY + arrowLength);
            archimedeCtx.stroke();
            
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 - 40, bodyY + arrowLength);
            archimedeCtx.lineTo(archimedeCanvas.width/2 - 50, bodyY + arrowLength - 12);
            archimedeCtx.lineTo(archimedeCanvas.width/2 - 30, bodyY + arrowLength - 12);
            archimedeCtx.closePath();
            archimedeCtx.fill();
            
            // Label poids
            archimedeCtx.fillStyle = '#D32F2F';
            archimedeCtx.font = 'bold 16px Arial';
            archimedeCtx.fillText('P', archimedeCanvas.width/2 - 40, bodyY + arrowLength + 25);
            archimedeCtx.font = '12px Arial';
            archimedeCtx.fillText(`${poids.toFixed(1)} N`, archimedeCanvas.width/2 - 40, bodyY + arrowLength + 40);
            
            // FlÃ¨che poussÃ©e (bleue, vers le haut)
            const arrowLength2 = Math.min(100, 30 + Math.abs(poussee) * 0.05);
            
            // Ombre flÃ¨che
            archimedeCtx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
            archimedeCtx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            archimedeCtx.lineWidth = 4;
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 + 42, bodyY + 2);
            archimedeCtx.lineTo(archimedeCanvas.width/2 + 42, bodyY - arrowLength2 + 2);
            archimedeCtx.stroke();
            
            // FlÃ¨che poussÃ©e rÃ©elle
            archimedeCtx.strokeStyle = '#1976D2';
            archimedeCtx.fillStyle = '#1976D2';
            archimedeCtx.lineWidth = 4;
            
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 + 40, bodyY);
            archimedeCtx.lineTo(archimedeCanvas.width/2 + 40, bodyY - arrowLength2);
            archimedeCtx.stroke();
            
            archimedeCtx.beginPath();
            archimedeCtx.moveTo(archimedeCanvas.width/2 + 40, bodyY - arrowLength2);
            archimedeCtx.lineTo(archimedeCanvas.width/2 + 30, bodyY - arrowLength2 + 12);
            archimedeCtx.lineTo(archimedeCanvas.width/2 + 50, bodyY - arrowLength2 + 12);
            archimedeCtx.closePath();
            archimedeCtx.fill();
            
            // Label poussÃ©e
            archimedeCtx.fillStyle = '#1976D2';
            archimedeCtx.font = 'bold 16px Arial';
            archimedeCtx.fillText('F_A', archimedeCanvas.width/2 + 40, bodyY - arrowLength2 - 15);
            archimedeCtx.font = '12px Arial';
            archimedeCtx.fillText(`${poussee.toFixed(1)} N`, archimedeCanvas.width/2 + 40, bodyY - arrowLength2 - 30);
            
            // BoÃ®te d'informations
            const infoDiv = document.getElementById('archimedeInfo');
            const percentPoids = ((poids - Math.abs(poidsApparent)) / poids * 100).toFixed(0);
            infoDiv.innerHTML = `
                <strong>Masse:</strong> ${masse.toFixed(1)} kg | 
                <strong>Poids:</strong> ${poids.toFixed(1)} N | 
                <strong>PoussÃ©e:</strong> ${poussee.toFixed(1)} N<br>
                <strong>Poids apparent:</strong> ${Math.abs(poidsApparent).toFixed(1)} N 
                (${poidsApparent >= 0 ? percentPoids : '0'}% du poids supportÃ©)<br>
                <strong style="color: ${bodyColor}; font-size: 1.2em;">${etat}</strong>
            `;
        }
        
        // Fonction helper pour ajuster la couleur
        function adjustColor(color, amount) {
            const num = parseInt(color.replace("#",""), 16);
            const r = Math.max(0, Math.min(255, (num >> 16) + amount));
            const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amount));
            const b = Math.max(0, Math.min(255, (num & 0x0000FF) + amount));
            return "#" + (0x1000000 + r * 0x10000 + g * 0x100 + b).toString(16).slice(1);
        }

        densiteSlider.addEventListener('input', drawArchimede);
        volumeSlider.addEventListener('input', drawArchimede);
        drawArchimede();

        // Animation Ã‰coulement
        const ecoulementCanvas = document.getElementById('ecoulementCanvas');
        const ecoulementCtx = ecoulementCanvas.getContext('2d');
        const debitSlider = document.getElementById('debitSlider');
        const debitValue = document.getElementById('debitValue');
        const diametreSlider = document.getElementById('diametreSlider');
        const diametreValue = document.getElementById('diametreValue');

        let particles = [];
        let animationFrameEcoulement;

        class Particle {
            constructor(x, y, speed) {
                this.x = x;
                this.y = y;
                this.speed = speed;
                this.size = 3;
            }

            update() {
                this.x += this.speed;
                if (this.x > ecoulementCanvas.width) {
                    this.x = 50;
                }
            }

            draw() {
                ecoulementCtx.fillStyle = '#2196F3';
                ecoulementCtx.beginPath();
                ecoulementCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ecoulementCtx.fill();
            }
        }

        function initParticles() {
            particles = [];
            const debit = parseFloat(debitSlider.value);
            const diametre = parseFloat(diametreSlider.value);
            const numParticles = Math.floor(debit);
            const speed = debit * 0.3;
            
            const pipeY = ecoulementCanvas.height / 2;
            const pipeHeight = diametre * 15;
            
            for (let i = 0; i < numParticles; i++) {
                const x = Math.random() * ecoulementCanvas.width;
                const y = pipeY + (Math.random() - 0.5) * pipeHeight;
                particles.push(new Particle(x, y, speed));
            }
        }

        function animateEcoulement() {
            const debit = parseFloat(debitSlider.value);
            const diametre = parseFloat(diametreSlider.value);
            
            debitValue.textContent = debit + ' L/min';
            diametreValue.textContent = diametre + ' cm';
            
            ecoulementCtx.clearRect(0, 0, ecoulementCanvas.width, ecoulementCanvas.height);
            
            // Conduite
            const pipeY = ecoulementCanvas.height / 2;
            const pipeHeight = diametre * 15;
            
            ecoulementCtx.fillStyle = '#E0E0E0';
            ecoulementCtx.fillRect(0, pipeY - pipeHeight/2, ecoulementCanvas.width, pipeHeight);
            
            ecoulementCtx.strokeStyle = '#666';
            ecoulementCtx.lineWidth = 3;
            ecoulementCtx.beginPath();
            ecoulementCtx.moveTo(0, pipeY - pipeHeight/2);
            ecoulementCtx.lineTo(ecoulementCanvas.width, pipeY - pipeHeight/2);
            ecoulementCtx.stroke();
            ecoulementCtx.beginPath();
            ecoulementCtx.moveTo(0, pipeY + pipeHeight/2);
            ecoulementCtx.lineTo(ecoulementCanvas.width, pipeY + pipeHeight/2);
            ecoulementCtx.stroke();
            
            // Particules
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            
            // Calculs
            const Q = debit / 60000; // mÂ³/s
            const r = (diametre / 100) / 2; // m
            const S = Math.PI * r * r;
            const v = Q / S;
            
            // Affichage
            const infoDiv = document.getElementById('ecoulementInfo');
            infoDiv.innerHTML = `
                <strong>Section:</strong> ${(S * 10000).toFixed(2)} cmÂ² | 
                <strong>Vitesse:</strong> ${v.toFixed(2)} m/s | 
                <strong>DÃ©bit volumique:</strong> ${Q.toFixed(6)} mÂ³/s
            `;
            
            animationFrameEcoulement = requestAnimationFrame(animateEcoulement);
        }

        debitSlider.addEventListener('input', () => {
            initParticles();
        });
        diametreSlider.addEventListener('input', () => {
            initParticles();
        });

        initParticles();
        animateEcoulement();

        // ========================================
        // SYSTÃˆME DE FORMULES INTELLIGENT
        // ========================================

        // DÃ©finition des symboles
        const greekSymbols = [
            'Î±', 'Î²', 'Î³', 'Î´', 'Îµ', 'Î¶', 'Î·', 'Î¸', 'Î¹', 'Îº', 'Î»', 'Î¼', 'Î½', 'Î¾', 'Î¿', 'Ï€', 'Ï', 'Ïƒ', 'Ï„', 'Ï…', 'Ï†', 'Ï‡', 'Ïˆ', 'Ï‰',
            'Î“', 'Î”', 'Î˜', 'Î›', 'Î', 'Î ', 'Î£', 'Î¦', 'Î¨', 'Î©'
        ];

        const physicsSymbols = [
            'P', 'F', 'Q', 'V', 'v', 'm', 'T', 't', 'E', 'W', 'R', 'r', 'D', 'd', 'L', 'S', 'A', 'h', 'g', 'c', 'n', 'N'
        ];

        const operators = [
            '+', '-', 'Ã—', 'Â·', '*', '/', '=', '(', ')', '[', ']', 
            'Â²', 'Â³', 'â´', 'Â½', 'Â¼', 'Â¾',
            'â‚€', 'â‚', 'â‚‚', 'â‚ƒ', 'â‚„', 'â‚…', 'â‚†', 'â‚‡', 'â‚ˆ', 'â‚‰',
            'â°', 'Â¹', 'Â²', 'Â³', 'â´', 'âµ', 'â¶', 'â·', 'â¸', 'â¹',
            'âˆ', 'âˆ‚', 'âˆ‡', 'âˆ«', 'âˆ‘', 'âˆš', 'Â±', 'â‰ˆ', 'â‰ ', 'â‰¤', 'â‰¥', 'â†’', 'Â°', 'Î”'
        ];

        // GÃ©nÃ©rer les claviers
        function generateKeyboard(containerId, symbols) {
            const container = document.getElementById(containerId);
            symbols.forEach(symbol => {
                const btn = document.createElement('button');
                btn.className = 'symbol-btn';
                btn.textContent = symbol;
                btn.onclick = () => addSymbol(symbol);
                container.appendChild(btn);
            });
        }

        generateKeyboard('greekSymbols', greekSymbols);
        generateKeyboard('physicsSymbols', physicsSymbols);
        generateKeyboard('operators', operators);

        // Variables globales pour le mode de saisie
        let currentMode = 'normal'; // normal, subscript, superscript
        let formulaText = '';

        function addSymbol(symbol) {
            const display = document.getElementById('formulaDisplay');
            
            if (currentMode === 'subscript') {
                // Convertir en indice
                const subscripts = {'0':'â‚€','1':'â‚','2':'â‚‚','3':'â‚ƒ','4':'â‚„','5':'â‚…','6':'â‚†','7':'â‚‡','8':'â‚ˆ','9':'â‚‰'};
                const subscriptLetters = {
                    'a':'â‚','e':'â‚‘','o':'â‚’','x':'â‚“','h':'â‚•','k':'â‚–','l':'â‚—','m':'â‚˜','n':'â‚™','p':'â‚š','s':'â‚›','t':'â‚œ'
                };
                const converted = subscripts[symbol] || subscriptLetters[symbol] || 'â‚' + symbol + 'â‚';
                formulaText += converted;
                currentMode = 'normal';
                document.getElementById('modeIndicator').textContent = 'Mode normal';
                document.getElementById('modeIndicator').className = 'mode-indicator';
            } else if (currentMode === 'superscript') {
                // Convertir en exposant
                const superscripts = {'0':'â°','1':'Â¹','2':'Â²','3':'Â³','4':'â´','5':'âµ','6':'â¶','7':'â·','8':'â¸','9':'â¹'};
                const superscriptLetters = {'n':'â¿'};
                const converted = superscripts[symbol] || superscriptLetters[symbol] || 'â½' + symbol + 'â¾';
                formulaText += converted;
                currentMode = 'normal';
                document.getElementById('modeIndicator').textContent = 'Mode normal';
                document.getElementById('modeIndicator').className = 'mode-indicator';
            } else {
                formulaText += symbol;
            }
            
            display.textContent = formulaText || 'Cliquez sur les symboles ci-dessus...';
        }

        function clearFormula() {
            formulaText = '';
            document.getElementById('formulaDisplay').textContent = 'Cliquez sur les symboles ci-dessus...';
        }

        function deleteLastChar() {
            formulaText = formulaText.slice(0, -1);
            document.getElementById('formulaDisplay').textContent = formulaText || 'Cliquez sur les symboles ci-dessus...';
        }

        function toggleSubscript() {
            currentMode = currentMode === 'subscript' ? 'normal' : 'subscript';
            const indicator = document.getElementById('modeIndicator');
            if (currentMode === 'subscript') {
                indicator.textContent = 'Mode INDICE actif';
                indicator.className = 'mode-indicator subscript-mode';
            } else {
                indicator.textContent = 'Mode normal';
                indicator.className = 'mode-indicator';
            }
        }

        function toggleSuperscript() {
            currentMode = currentMode === 'superscript' ? 'normal' : 'superscript';
            const indicator = document.getElementById('modeIndicator');
            if (currentMode === 'superscript') {
                indicator.textContent = 'Mode EXPOSANT actif';
                indicator.className = 'mode-indicator superscript-mode';
            } else {
                indicator.textContent = 'Mode normal';
                indicator.className = 'mode-indicator';
            }
        }

        function addSpace() {
            formulaText += ' ';
            document.getElementById('formulaDisplay').textContent = formulaText;
        }

        // QUIZ DE FORMULES
        const formulaQuizzes = [
            {
                description: "Pression hydrostatique",
                target: "P = Pâ‚€ + Ïgh",
                alternatives: ["P=P0+Ïgh", "P=Pâ‚€+ÏÃ—gÃ—h", "P=P0+rhoÃ—gÃ—h"],
                hint: "P Ã©gale P indice 0 plus rho fois g fois h",
                context: "P (Pa) = pression totale. Pâ‚€ (Pa) = pression Ã  la surface (souvent atmosphÃ©rique). Ï (kg/mÂ³) = masse volumique (eau â‰ˆ 1000). g (m/sÂ²) â‰ˆ 9,81. h (m) = profondeur. Astuce : la pression due Ã  lâ€™eau seule vaut Ïgh."
            },
            {
                description: "PoussÃ©e d'ArchimÃ¨de",
                target: "F_A = ÏVg",
                alternatives: ["FA=ÏVg", "F_A=ÏÃ—VÃ—g", "FA=rhoÃ—VÃ—g", "Fa=ÏVg"],
                hint: "F indice A Ã©gale rho fois V fois g",
                context: "F_A (N) = force de flottabilitÃ© vers le haut. Ï (kg/mÂ³) = masse volumique du fluide. V (mÂ³) = volume immergÃ© (1 L = 0,001 mÂ³). g (m/sÂ²) â‰ˆ 9,81. InterprÃ©tation : F_A = poids du fluide dÃ©placÃ©."
            },
            {
                description: "DÃ©bit volumique",
                target: "Q = vS",
                alternatives: ["Q=vÃ—S", "Q=vÂ·S", "Q=SÃ—v", "Q=Sv"],
                hint: "Q Ã©gale v fois S (vitesse fois section)",
                context: "Q (mÂ³/s) = dÃ©bit. v (m/s) = vitesse moyenne. S (mÂ²) = section. Conversions : 1 L/min = 1/60 000 mÂ³/s. Si le tube est circulaire : S = Ï€rÂ²."
            },
            {
                description: "Nombre de Reynolds",
                target: "Re = ÏvD/Î·",
                alternatives: ["Re=(ÏvD)/Î·", "Re=ÏÃ—vÃ—D/Î·", "Re=(rhoÃ—vÃ—D)/eta"],
                hint: "Re Ã©gale rho fois v fois D divisÃ© par eta",
                context: "Re (sans unitÃ©) compare forces dâ€™inertie et forces visqueuses. Ï (kg/mÂ³), v (m/s), D (m), Î· (PaÂ·s). RepÃ¨res : Re < 2000 laminaire ; > 4000 turbulent (ordre de grandeur)."
            },
            {
                description: "Ã‰quation de Bernoulli",
                target: "P + Â½ÏvÂ² + Ïgh = cte",
                alternatives: ["P+Â½ÏvÂ²+Ïgh=cte", "P+(1/2)ÏvÂ²+Ïgh=constante"],
                hint: "P plus un demi rho v carrÃ© plus rho g h Ã©gale constante",
                context: "Chaque terme sâ€™exprime en Pa (Ã©nergie par volume) : P (pression), Â½ÏvÂ² (dynamique), Ïgh (hydrostatique). Valable si Ã©coulement stationnaire, incompressible, et pertes nÃ©gligeables."
            },
            {
                description: "Loi de Poiseuille",
                target: "Q = Ï€Î”Prâ´/(8Î·L)",
                alternatives: ["Q=(Ï€Ã—Î”PÃ—râ´)/(8Ã—Î·Ã—L)", "Q=Ï€*Î”P*râ´/(8*Î·*L)"],
                hint: "Q Ã©gale pi fois delta P fois r puissance 4 divisÃ© par 8 eta L",
                context: "Q (mÂ³/s) = (Ï€Î”P râ´)/(8Î·L). Î”P (Pa), r (m), Î· (PaÂ·s), L (m). TrÃ¨s important : râ´ â†’ un petit changement de rayon change Ã©normÃ©ment le dÃ©bit (rÃ—2 â†’ QÃ—16). RÃ©gime laminaire requis."
            },
            {
                description: "Pertes de charge",
                target: "Î”P = Î»(L/D)(ÏvÂ²/2)",
                alternatives: ["Î”P=Î»Ã—(L/D)Ã—(ÏvÂ²/2)", "Î”P=Î»*(L/D)*(ÏÃ—vÂ²/2)"],
                hint: "Delta P Ã©gale lambda fois L sur D fois rho v carrÃ© sur 2",
                context: "Î”P (Pa) = perte de pression par frottements. Î» (sans unitÃ©) dÃ©pend de Re et de la rugositÃ©. L (m) longueur, D (m) diamÃ¨tre, Ï (kg/mÂ³), v (m/s). Le terme vÂ² montre que la vitesse a un fort impact."
            },
            {
                description: "Contrainte de cisaillement",
                target: "Ï„ = Î·(dv/dy)",
                alternatives: ["Ï„=Î·Ã—(dv/dy)", "tau=etaÃ—(dv/dy)", "Ï„=Î·*dv/dy"],
                hint: "Tau Ã©gale eta fois dv sur dy",
                context: "Ï„ (Pa) = contrainte de cisaillement. Î· (PaÂ·s) = viscositÃ© dynamique. dv/dy (sâ»Â¹) = gradient de vitesse entre couches. Fluide newtonien : Ï„ est proportionnelle Ã  dv/dy."
            },
            {
                description: "Pression dynamique",
                target: "P_dyn = Â½ÏvÂ²",
                alternatives: ["Pdyn=Â½ÏvÂ²", "P_dyn=(1/2)ÏvÂ²", "Pdyn=0.5*Ï*vÂ²"],
                hint: "P dynamique Ã©gale un demi rho v carrÃ©",
                context: "P_dyn (Pa) = Â½ÏvÂ². Ï (kg/mÂ³), v (m/s). InterprÃ©tation : pression associÃ©e au mouvement (augmente comme vÂ²)."
            },
            {
                description: "Force sur une surface",
                target: "F = PS",
                alternatives: ["F=PÃ—S", "F=PÂ·S", "F=SÃ—P", "F=SP"],
                hint: "F Ã©gale P fois S (pression fois surface)",
                context: "F (N) = P Ã— S. P (Pa) = N/mÂ², S (mÂ²). Donc F = (N/mÂ²)Ã—mÂ² â†’ N. TrÃ¨s utile pour estimer lâ€™effort dâ€™un jet sur la peau."
            }
        ];

        let currentQuizIndex = 0;
        let correctAnswers = 0;

        function normalizeFormula(formula) {
            return formula
                .replace(/\s+/g, '')  // Supprimer espaces
                .replace(/[Ã—Â·]/g, '*')  // Normaliser multiplications
                .replace(/[â‚€â°]/g, '0').replace(/[â‚Â¹]/g, '1').replace(/[â‚‚Â²]/g, '2')
                .replace(/[â‚ƒÂ³]/g, '3').replace(/[â‚„â´]/g, '4').replace(/[â‚…âµ]/g, '5')
                .replace(/[â‚†â¶]/g, '6').replace(/[â‚‡â·]/g, '7').replace(/[â‚ˆâ¸]/g, '8')
                .replace(/[â‚‰â¹]/g, '9')
                .replace(/_/g, '')  // Enlever underscores
                .replace(/rho/gi, 'Ï')
                .replace(/eta/gi, 'Î·')
                .replace(/lambda/gi, 'Î»')
                .replace(/tau/gi, 'Ï„')
                .replace(/delta/gi, 'Î”')
                .replace(/cte|constante/gi, 'cte')
                .toLowerCase();
        }

        function compareFormulas(userFormula, targetFormula, alternatives) {
            const normalized = normalizeFormula(userFormula);
            const normalizedTarget = normalizeFormula(targetFormula);
            
            // VÃ©rifier correspondance exacte
            if (normalized === normalizedTarget) return true;
            
            // VÃ©rifier alternatives
            for (let alt of alternatives) {
                if (normalized === normalizeFormula(alt)) return true;
            }
            
            // VÃ©rifier avec variations de multiplication
            const variations = [
                normalized.replace(/\*/g, ''),  // Sans *
                normalized.replace(/\*/g, 'Ã—'),  // Avec Ã—
                normalized.replace(/\*/g, 'Â·'),  // Avec Â·
            ];
            
            for (let variation of variations) {
                if (variation === normalizedTarget) return true;
                for (let alt of alternatives) {
                    if (variation === normalizeFormula(alt)) return true;
                }
            }
            
            return false;
        }

        function loadQuiz() {
            if (currentQuizIndex >= formulaQuizzes.length) {
                // Quiz terminÃ©
                document.getElementById('formulaTarget').innerHTML = `
                    <div style="color: #4CAF50;">
                        ğŸ‰ Quiz terminÃ© ! Score: ${correctAnswers}/${formulaQuizzes.length}
                    </div>
                `;
                document.getElementById('formulaHint').textContent = "Excellent travail ! Tu maÃ®trises les formules.";
                document.getElementById('validationResult').innerHTML = `
                    <div class="result correct" style="text-align: center;">
                        <h3>FÃ©licitations ! ğŸ†</h3>
                        <p>Tu as correctement Ã©crit ${correctAnswers} formules sur ${formulaQuizzes.length}.</p>
                        <button class="btn" onclick="restartQuiz()" style="margin-top: 15px;">ğŸ”„ Recommencer</button>
                    </div>
                `;
                return;
            }
            
            const quiz = formulaQuizzes[currentQuizIndex];
            document.getElementById('formulaTarget').textContent = quiz.description;
            document.getElementById('formulaHint').innerHTML = `
                <strong>ğŸ’¡ Indice :</strong> ${quiz.hint}<br>
                <strong>ğŸ“– Contexte :</strong> ${quiz.context}
            `;
            clearFormula();
            document.getElementById('validationResult').innerHTML = '';
            
            // Mise Ã  jour barre de progression
            const progress = Math.round((currentQuizIndex / formulaQuizzes.length) * 100);
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressBar').textContent = `${currentQuizIndex}/${formulaQuizzes.length}`;
        }

        function validateFormula() {
            if (currentQuizIndex >= formulaQuizzes.length) return;
            
            const quiz = formulaQuizzes[currentQuizIndex];
            const userFormula = formulaText;
            
            if (!userFormula || userFormula === 'Cliquez sur les symboles ci-dessus...') {
                document.getElementById('validationResult').innerHTML = `
                    <div class="result incorrect">
                        âš ï¸ Ã‰cris d'abord une formule !
                    </div>
                `;
                return;
            }
            
            const isCorrect = compareFormulas(userFormula, quiz.target, quiz.alternatives);
            
            if (isCorrect) {
                correctAnswers++;
                document.getElementById('validationResult').innerHTML = `
                    <div class="result correct">
                        âœ“ Excellent ! Ta formule est correcte !<br>
                        <strong>Formule attendue :</strong> ${quiz.target}<br>
                        <strong>Ta formule :</strong> ${userFormula}
                    </div>
                `;
                setTimeout(() => {
                    currentQuizIndex++;
                    loadQuiz();
                }, 2000);
            } else {
                document.getElementById('validationResult').innerHTML = `
                    <div class="result incorrect">
                        âœ— Pas tout Ã  fait... RÃ©essaie !<br>
                        <strong>Ta formule :</strong> ${userFormula}<br>
                        <strong>Formule attendue :</strong> ${quiz.target}
                    </div>
                `;
            }
        }

        function skipFormula() {
            currentQuizIndex++;
            loadQuiz();
        }

        function showFormulaHelp() {
            const quiz = formulaQuizzes[currentQuizIndex];
            document.getElementById('validationResult').innerHTML = `
                <div class="result" style="background: #fff3cd; color: #856404;">
                    <strong>ğŸ“ Formule correcte :</strong><br>
                    <div style="font-size: 1.5em; margin: 15px 0;">${quiz.target}</div>
                    <strong>Explications :</strong> ${quiz.context}
                </div>
            `;
        }

        function restartQuiz() {
            currentQuizIndex = 0;
            correctAnswers = 0;
            loadQuiz();
        }

        // Charger le premier quiz
        loadQuiz();

        // Animation ViscositÃ©
        const viscositeCanvas = document.getElementById('viscositeCanvas');
        const viscositeCtx = viscositeCanvas.getContext('2d');

        let ballsViscosity = [];
        let animatingViscosity = false;

        class Ball {
            constructor(x, viscosity, color, name) {
                this.x = x;
                this.y = 50;
                this.viscosity = viscosity;
                this.velocity = 0;
                this.color = color;
                this.name = name;
                this.radius = 15;
            }

            update() {
                const gravity = 0.5;
                const drag = this.viscosity * 0.0001;
                
                this.velocity += gravity - (this.velocity * drag);
                this.y += this.velocity;
                
                if (this.y > viscositeCanvas.height - this.radius - 30) {
                    this.y = viscositeCanvas.height - this.radius - 30;
                    this.velocity = 0;
                }
            }

            draw() {
                viscositeCtx.fillStyle = this.color;
                viscositeCtx.beginPath();
                viscositeCtx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                viscositeCtx.fill();
                viscositeCtx.strokeStyle = '#333';
                viscositeCtx.lineWidth = 2;
                viscositeCtx.stroke();
                
                viscositeCtx.fillStyle = '#000';
                viscositeCtx.font = 'bold 12px Arial';
                viscositeCtx.textAlign = 'center';
                viscositeCtx.fillText(this.name, this.x, viscositeCanvas.height - 10);
            }
        }

        function startViscositeAnimation() {
            ballsViscosity = [
                new Ball(150, 1, '#2196F3', 'Eau'),
                new Ball(350, 50, '#4CAF50', 'Huile'),
                new Ball(550, 10000, '#FF9800', 'Miel')
            ];
            animatingViscosity = true;
            animateViscosity();
        }

        function animateViscosity() {
            if (!animatingViscosity) return;
            
            viscositeCtx.clearRect(0, 0, viscositeCanvas.width, viscositeCanvas.height);
            
            // Colonnes
            viscositeCtx.fillStyle = 'rgba(200, 200, 200, 0.3)';
            viscositeCtx.fillRect(50, 30, 200, viscositeCanvas.height - 60);
            viscositeCtx.fillRect(250, 30, 200, viscositeCanvas.height - 60);
            viscositeCtx.fillRect(450, 30, 200, viscositeCanvas.height - 60);
            
            let allStopped = true;
            ballsViscosity.forEach(ball => {
                ball.update();
                ball.draw();
                if (ball.y < viscositeCanvas.height - ball.radius - 30) {
                    allStopped = false;
                }
            });
            
            if (!allStopped) {
                requestAnimationFrame(animateViscosity);
            } else {
                animatingViscosity = false;
            }
        }

        // Exercices
        function verifierEx1() {
            const reponse = parseFloat(document.getElementById('ex1Input').value);
            const correct = 120945;
            const resultDiv = document.getElementById('ex1Result');
            
            if (Math.abs(reponse - correct) < 100) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Correct ! La pression totale est bien de 120 945 Pa.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct} Pa. Utilisez P = Pâ‚€ + Ïgh.`;
            }
        }

        function verifierEx2() {
            const reponse = parseFloat(document.getElementById('ex2Input').value);
            const correct = 1109.5;
            const resultDiv = document.getElementById('ex2Result');
            
            if (Math.abs(reponse - correct) < 10) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Correct ! La poussÃ©e d\'ArchimÃ¨de est d\'environ 1110 N.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct.toFixed(1)} N. N'oubliez pas de calculer le volume de la sphÃ¨re.`;
            }
        }

        function verifierEx3() {
            const reponse = parseFloat(document.getElementById('ex3Input').value);
            const correct = 1.36;
            const resultDiv = document.getElementById('ex3Result');
            
            if (Math.abs(reponse - correct) < 0.05) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Correct ! La vitesse de sortie est d\'environ 1.36 m/s.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct} m/s. Pensez Ã  convertir le dÃ©bit et calculer la section.`;
            }
        }

        function verifierEx4() {
            const reponse = parseFloat(document.getElementById('ex4Input').value);
            const correct = 402.2;
            const resultDiv = document.getElementById('ex4Result');
            
            if (Math.abs(reponse - correct) < 5) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Correct ! Le poids apparent est d\'environ 402 N.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct.toFixed(1)} N. Soustrayez la poussÃ©e d'ArchimÃ¨de du poids rÃ©el.`;
            }
        }

        function verifierEx5() {
            const reponse = parseFloat(document.getElementById('ex5Input').value);
            const correct = 20000;
            const resultDiv = document.getElementById('ex5Result');
            
            if (Math.abs(reponse - correct) < 100) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Correct ! Re = 20 000, donc Ã©coulement turbulent.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct}. Utilisez Re = (v Ã— D) / Î½.`;
            }
        }

        function verifierEx6() {
            const reponse = parseFloat(document.getElementById('ex6Input').value);
            const correct = 8.3;
            const resultDiv = document.getElementById('ex6Result');
            
            if (Math.abs(reponse - correct) < 0.5) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = 'âœ“ Excellent ! Le poids apparent est d\'environ 8.3 kg, soit 13% du poids initial.';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `âœ— Incorrect. La bonne rÃ©ponse est ${correct.toFixed(1)} kg. Calculez la poussÃ©e pour 90% du volume immergÃ©.`;
            }
        }

        function resetExercices() {
            document.getElementById('ex1Input').value = '';
            document.getElementById('ex2Input').value = '';
            document.getElementById('ex3Input').value = '';
            document.getElementById('ex4Input').value = '';
            document.getElementById('ex5Input').value = '';
            document.getElementById('ex6Input').value = '';
            
            document.getElementById('ex1Result').textContent = '';
            document.getElementById('ex2Result').textContent = '';
            document.getElementById('ex3Result').textContent = '';
            document.getElementById('ex4Result').textContent = '';
            document.getElementById('ex5Result').textContent = '';
            document.getElementById('ex6Result').textContent = '';
        }
    
        // --- AmÃ©liorations mobile/tactile : Ã©vÃ©nements pointer + anti sÃ©lection ---
        (function enablePointerInteractions() {
            // Ã‰vite la sÃ©lection de texte accidentelle sur mobile quand on tape sur des boutons
            const noSelect = (el) => {
                el.style.webkitUserSelect = 'none';
                el.style.userSelect = 'none';
                el.style.webkitTapHighlightColor = 'transparent';
            };

            // Sur certains mobiles, pointerdown rend l'UI plus rÃ©active que click
            const fastActivate = (el) => {
                if (!el) return;
                noSelect(el);
                el.addEventListener('pointerdown', (e) => {
                    // Laisse les sliders et inputs fonctionner normalement
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') return;
                    e.preventDefault();
                    el.click();
                }, { passive: false });
            };

            // Boutons principaux
            document.querySelectorAll('.tab-btn, .level-btn, .btn, .symbol-btn').forEach(fastActivate);

            // Quand les symboles sont gÃ©nÃ©rÃ©s dynamiquement, on retente aprÃ¨s un court dÃ©lai
            setTimeout(() => {
                document.querySelectorAll('.symbol-btn').forEach(fastActivate);
            }, 0);
        })();

</script>
</body>
</html>