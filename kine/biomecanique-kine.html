<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biom√©canique - Kin√©sith√©rapie Bloc 1</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
        h1 { font-size: 2.5em; margin-bottom: 10px; }
        .subtitle { opacity: 0.9; font-size: 1.1em; }
        .tabs { display: flex; background: #f8f9fa; border-bottom: 2px solid #dee2e6; overflow-x: auto; flex-wrap: wrap; }
        .tab { padding: 15px 25px; cursor: pointer; border: none; background: transparent; font-size: 1em; transition: all 0.3s; border-bottom: 3px solid transparent; white-space: nowrap; }
        .tab:hover { background: rgba(102, 126, 234, 0.1); }
        .tab.active { border-bottom-color: #667eea; color: #667eea; font-weight: bold; }
        .content { padding: 30px; display: none; }
        .content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .level-selector { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .level-btn { padding: 10px 20px; border: 2px solid #667eea; background: white; color: #667eea; border-radius: 25px; cursor: pointer; transition: all 0.3s; font-weight: bold; }
        .level-btn:hover { background: #667eea; color: white; }
        .level-btn.active { background: #667eea; color: white; }
        .course-section { display: none; background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .course-section.active { display: block; }
        .course-section h3 { color: #667eea; margin-bottom: 15px; }
        .course-section h4 { color: #495057; margin-top: 20px; margin-bottom: 10px; }
        .course-section p, .course-section ul { line-height: 1.8; color: #333; }
        .course-section ul { margin-left: 20px; margin-top: 10px; }
        .example-box { background: #e7f3ff; border-left: 4px solid #667eea; padding: 15px; margin-top: 15px; border-radius: 5px; }
        .example-box strong { color: #667eea; }
        .important-box { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin-top: 15px; border-radius: 5px; }
        canvas { border: 2px solid #667eea; border-radius: 10px; margin: 20px auto; display: block; max-width: 100%; background: white; }
        .canvas-controls { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; align-items: center; }
        .canvas-controls label { font-weight: bold; color: #667eea; }
        .canvas-controls input[type="range"] { flex: 1; min-width: 150px; }
        .canvas-controls button { padding: 8px 15px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .canvas-controls button:hover { background: #764ba2; }
        .flashcard { background: white; border: 2px solid #667eea; border-radius: 15px; padding: 30px; min-height: 250px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .flashcard:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .flashcard.flipped { background: #667eea; color: white; }
        .flashcard-text { font-size: 1.3em; text-align: center; margin-bottom: 20px; }
        .flashcard-buttons { display: flex; gap: 10px; margin-top: 20px; }
        .btn-know, .btn-hesitate, .btn-unknown { padding: 10px 20px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .btn-know { background: #28a745; color: white; }
        .btn-know:hover { background: #218838; }
        .btn-hesitate { background: #ffc107; color: #333; }
        .btn-hesitate:hover { background: #e0a800; }
        .btn-unknown { background: #dc3545; color: white; }
        .btn-unknown:hover { background: #c82333; }
        .flashcard-controls { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .flashcard-controls button { padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .flashcard-controls button:hover { background: #764ba2; }
        .progress-bar { background: #e9ecef; border-radius: 10px; height: 20px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { background: linear-gradient(90deg, #667eea, #764ba2); height: 100%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9em; font-weight: bold; }
        .quiz-question { background: #f8f9fa; padding: 25px; border-radius: 10px; margin-bottom: 20px; }
        .quiz-question h4 { color: #667eea; margin-bottom: 15px; font-size: 1.2em; }
        .quiz-options { display: flex; flex-direction: column; gap: 10px; }
        .quiz-option { padding: 15px; background: white; border: 2px solid #dee2e6; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .quiz-option:hover { border-color: #667eea; background: #f0f4ff; }
        .quiz-option.selected { border-color: #667eea; background: #667eea; color: white; }
        .quiz-option.correct { border-color: #28a745; background: #28a745; color: white; }
        .quiz-option.incorrect { border-color: #dc3545; background: #dc3545; color: white; }
        .quiz-controls { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .quiz-controls button { padding: 12px 25px; background: #667eea; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; font-size: 1em; }
        .quiz-controls button:hover { background: #764ba2; }
        .exercise { background: #f8f9fa; padding: 25px; border-radius: 10px; margin-bottom: 20px; }
        .exercise h4 { color: #667eea; margin-bottom: 15px; }
        .exercise textarea { width: 100%; min-height: 150px; padding: 15px; border: 2px solid #dee2e6; border-radius: 8px; font-family: inherit; font-size: 1em; margin-bottom: 10px; }
        .exercise-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
        .exercise-buttons button { padding: 10px 20px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .btn-help { background: #17a2b8; color: white; }
        .btn-help:hover { background: #138496; }
        .btn-correction { background: #667eea; color: white; }
        .btn-correction:hover { background: #764ba2; }
        .correction-box { display: none; background: #d4edda; border: 2px solid #28a745; border-radius: 8px; padding: 15px; margin-top: 15px; }
        .correction-box.active { display: block; }
        .help-box { display: none; background: #cce5ff; border: 2px solid #17a2b8; border-radius: 8px; padding: 15px; margin-top: 15px; }
        .help-box.active { display: block; }
        .formula-card { background: white; border: 2px solid #667eea; border-radius: 10px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .formula-card h4 { color: #667eea; margin-bottom: 10px; }
        .formula { font-size: 1.5em; font-weight: bold; color: #495057; margin: 15px 0; font-family: 'Courier New', monospace; background: #f8f9fa; padding: 15px; border-radius: 5px; text-align: center; }
        .formula-details { background: #e7f3ff; padding: 15px; border-radius: 5px; margin-top: 10px; }
        .formula-example { background: #fff3cd; padding: 15px; border-radius: 5px; margin-top: 10px; border-left: 4px solid #ffc107; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: white; border: 2px solid #667eea; border-radius: 10px; padding: 20px; text-align: center; }
        .stat-number { font-size: 2.5em; font-weight: bold; color: #667eea; }
        .stat-label { color: #666; margin-top: 5px; }
        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            .tabs { flex-direction: column; }
            .tab { border-bottom: 1px solid #dee2e6; border-left: 3px solid transparent; }
            .tab.active { border-left-color: #667eea; border-bottom-color: #dee2e6; }
            .content { padding: 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öôÔ∏è Biom√©canique</h1>
            <p class="subtitle">Kin√©sith√©rapie - Bloc 1 - Belgique</p>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="showTab('cours')">üìö Cours</button>
            <button class="tab" onclick="showTab('flashcards')">üé¥ Flashcards</button>
            <button class="tab" onclick="showTab('quiz')">‚ùì Quiz</button>
            <button class="tab" onclick="showTab('qcm')">‚òëÔ∏è QCM</button>
            <button class="tab" onclick="showTab('vraifaux')">‚úì‚úó Vrai/Faux</button>
            <button class="tab" onclick="showTab('exercices')">‚úçÔ∏è Exercices</button>
            <button class="tab" onclick="showTab('formules')">üßÆ Formules</button>
            <button class="tab" onclick="showTab('outils')">üõ†Ô∏è Outils</button>
        </div>

        <!-- Contenu simplifi√© pour ne pas d√©passer les limites -->
        <div id="cours" class="content active">
    <h2>üìö Cours de Biom√©canique</h2>

    <div class="level-selector">
        <button class="level-btn active" data-level="vulgarisation" onclick="setCourseLevel('vulgarisation')">üå± Vulgarisation</button>
        <button class="level-btn" data-level="base" onclick="setCourseLevel('base')">üìò Base</button>
        <button class="level-btn" data-level="avance" onclick="setCourseLevel('avance')">üöÄ Avanc√©</button>
    </div>

    <!-- ===================== NIVEAU VULGARISATION ===================== -->
    <div class="course-section active" id="course-vulgarisation">
        <h3>Niveau Vulgarisation (Bloc 1)</h3>

        <h4>1) √Ä quoi sert la biom√©canique en kin√© ?</h4>
        <p>
            La biom√©canique applique les lois de la m√©canique (forces, moments, travail, √©nergie) au corps humain pour
            <strong>comprendre le mouvement</strong>, <strong>expliquer les contraintes sur les tissus</strong> (os, tendon, cartilage‚Ä¶)
            et <strong>raisonner les exercices</strong> (r√©√©ducation, pr√©vention, performance).
        </p>

        <div class="important-box">
            <strong>Id√©e-cl√© :</strong> un mouvement ‚Äúsimple‚Äù peut imposer de tr√®s grandes forces internes (muscles, tendons),
            surtout quand les bras de levier sont d√©favorables (ex : biceps au coude).
        </div>

        <h4>2) Les leviers du corps (en tr√®s simple)</h4>
        <ul>
            <li><strong>Levier 1er genre</strong> : l‚Äôappui est au milieu (balance). Exemple clinique : certains mouvements de la t√™te.</li>
            <li><strong>Levier 2e genre</strong> : la charge est au milieu. Exemple : se mettre sur la pointe des pieds (triceps sural).</li>
            <li><strong>Levier 3e genre</strong> : le muscle est au milieu. Le plus fr√©quent dans le corps : grande vitesse/amplitude, mais force musculaire √©lev√©e.</li>
        </ul>
        <div class="example-box">
            <strong>Exemple (coude) :</strong> tenir une charge √† la main cr√©e un moment important car la distance jusqu‚Äôau coude est grande,
            alors que l‚Äôinsertion du biceps est proche du coude.
        </div>

        <h4>3) √âquilibre : centre de gravit√© et base de support</h4>
        <ul>
            <li><strong>Centre de gravit√©</strong> : point o√π ‚Äús‚Äôapplique‚Äù le poids global du corps (en position anatomique, proche du bassin).</li>
            <li><strong>Base de support</strong> : surface au sol d√©limit√©e par les points de contact (plus large = plus stable).</li>
            <li><strong>Stabilit√©</strong> : meilleure si la projection du centre de gravit√© reste dans la base de support.</li>
        </ul>

        <h4>4) Applications kin√© (exemples)</h4>
        <ul>
            <li><strong>Squat</strong> : plus le tronc est inclin√©, plus le moment sur la hanche augmente.</li>
            <li><strong>√âpaule</strong> : bras tendu = grand bras de levier ‚Üí effort delto√Øde plus √©lev√©.</li>
            <li><strong>Marche</strong> : analyser ‚Äúappui vs oscillation‚Äù, comprendre la r√©action du sol et la propulsion.</li>
        </ul>
    </div>

    <!-- ===================== NIVEAU BASE ===================== -->
    <div class="course-section" id="course-base">
        <h3>Niveau Base (attendus Bloc 1)</h3>

        <h4>1) Grandeurs, unit√©s et vecteurs</h4>
        <ul>
            <li><strong>Scalaire</strong> : valeur seule (masse en kg, √©nergie en J).</li>
            <li><strong>Vecteur</strong> : valeur + direction + sens (force en N, vitesse en m/s).</li>
            <li><strong>Poids</strong> : P = m √ó g (g ‚âà 9,81 m/s¬≤).</li>
        </ul>

        <h4>2) Statique : √©quilibre du corps rigide</h4>
        <p>
            En statique, un syst√®me est √† l‚Äô√©quilibre si :
        </p>
        <ul>
            <li>Somme des forces = 0</li>
            <li>Somme des moments = 0</li>
        </ul>
        <div class="example-box">
            <strong>Astuce m√©thode :</strong> faire un <em>sch√©ma de corps libre</em> (forces externes, points d‚Äôappui, distances),
            puis √©crire les √©quations d‚Äô√©quilibre.
        </div>

        <h4>3) Moment de force (torque)</h4>
        <p>
            Le moment mesure la tendance d‚Äôune force √† faire tourner un segment :
        </p>
        <div class="formula">M = F √ó d‚ä•</div>
        <ul>
            <li><strong>d‚ä•</strong> : bras de levier perpendiculaire (distance minimale √† l‚Äôaxe).</li>
            <li>Si la force passe par l‚Äôaxe ‚Üí d‚ä• = 0 ‚Üí pas de moment.</li>
        </ul>

        <h4>4) Cin√©matique (d√©crire le mouvement)</h4>
        <ul>
            <li><strong>Position</strong> (m), <strong>vitesse</strong> (m/s), <strong>acc√©l√©ration</strong> (m/s¬≤).</li>
            <li>Angulaire : <strong>Œ∏</strong> (rad ou ¬∞), <strong>œâ</strong> (rad/s), <strong>Œ±</strong> (rad/s¬≤).</li>
        </ul>

        <h4>5) Cin√©tique (expliquer le mouvement)</h4>
        <ul>
            <li><strong>2e loi de Newton</strong> : F = m √ó a (la force r√©sultante produit l‚Äôacc√©l√©ration).</li>
            <li><strong>3e loi</strong> : action‚Äìr√©action (ex : r√©action du sol lors de l‚Äôappui).</li>
        </ul>

        <h4>6) Travail, puissance, √©nergie</h4>
        <div class="formula">W = F √ó d √ó cos(Œ∏)</div>
        <div class="formula">P = W/Œît = F √ó v</div>
        <div class="important-box">
            <strong>Interpr√©tation :</strong> si Œ∏ = 90¬∞, cos(Œ∏)=0 ‚Üí la force ne fait pas de travail (ex : force purement ‚Äúde maintien‚Äù perpendiculaire au d√©placement).
        </div>

        <h4>7) Propri√©t√©s m√©caniques des tissus</h4>
        <ul>
            <li><strong>Contrainte (stress)</strong> : œÉ = F/A (Pa).</li>
            <li><strong>D√©formation (strain)</strong> : Œµ = ŒîL/L0 (sans unit√©).</li>
            <li><strong>Module de Young</strong> : E = œÉ/Œµ (rigidit√©).</li>
            <li>Courbe contrainte‚Äìd√©formation : zone ‚Äútoe‚Äù, zone lin√©aire, puis endommagement/rupture (tendons/ligaments).</li>
        </ul>

        <h4>8) Centre de gravit√© et stabilit√©</h4>
        <ul>
            <li>En position anatomique, le centre de gravit√© global est souvent d√©crit <strong>pr√®s du bassin</strong> (approximativement en avant de S2).</li>
            <li>Stabilit√© ‚Üë si base de support ‚Üë, si centre de gravit√© ‚Üì, et si la projection reste dans le polygone de sustentation.</li>
        </ul>
    </div>

    <!-- ===================== NIVEAU AVANC√â ===================== -->
    <div class="course-section" id="course-avance">
        <h3>Niveau Avanc√© (aper√ßu Bloc 1 ‚Üí Bloc 2)</h3>

        <h4>1) Analyse 3D du mouvement</h4>
        <ul>
            <li>Plans (sagittal, frontal, transversal) et axes associ√©s.</li>
            <li>Angles articulaires (cin√©matique) + forces/moments (cin√©tique) pour d√©crire un geste.</li>
        </ul>

        <h4>2) Dynamique inverse (inverse dynamics)</h4>
        <p>
            En pratique (ex : analyse de marche), on utilise la cin√©matique mesur√©e + les forces externes (r√©action du sol) pour estimer
            les <strong>moments articulaires nets</strong>. Ces moments sont ensuite interpr√©t√©s (mod√®les) pour discuter des contributions musculaires.
        </p>

        <h4>3) Biom√©canique osseuse : adaptation au chargement</h4>
        <p>
            La loi de Wolff d√©crit l‚Äôadaptation osseuse : l‚Äôos se remod√®le en fonction des contraintes m√©caniques (surcharge ‚Üí adaptation/renforcement, d√©charge ‚Üí perte de densit√©).
        </p>

        <h4>4) Mod√®le de Hill (muscle)</h4>
        <ul>
            <li>Le muscle est mod√©lis√© par un √©l√©ment contractile + √©l√©ments √©lastiques en s√©rie/parall√®le (mod√®le ‚ÄúHill-type‚Äù).</li>
            <li>Relation force‚Äìvitesse : en concentrique, force ‚Üì quand vitesse ‚Üë ; en excentrique, la force peut d√©passer l‚Äôisom√©trique.</li>
        </ul>

        <h4>5) Cycle √©tirement‚Äìraccourcissement (SSC)</h4>
        <p>
            Une phase excentrique rapide peut stocker de l‚Äô√©nergie √©lastique (tendon) puis am√©liorer la phase concentrique suivante (ex : saut).
        </p>

        <h4>6) Marche : points rep√®res</h4>
        <ul>
            <li>Cycle : <strong>~60% phase d‚Äôappui</strong> et <strong>~40% phase oscillante</strong> (varie avec la vitesse).</li>
            <li>Comprendre : double appui, propulsion, et r√¥le de la r√©action du sol.</li>
        </ul>

        <h4>Sources (pour aller plus loin)</h4>
        <ul>
            <li>OpenStax (m√©canique) : travail/√©nergie, contraintes‚Äìd√©formations (cours ouverts)</li>
            <li>NCBI Bookshelf (revues m√©dicales) : bases du cycle de marche et remodelage osseux</li>
        </ul>
        <div class="important-box">
            <strong>Conseil r√©vision :</strong> ma√Ætrise d‚Äôabord les sch√©mas de corps libre + les moments. C‚Äôest la ‚Äúcolonne vert√©brale‚Äù du raisonnement en biom√©canique clinique.
        </div>
    </div>
</div>

        <div id="flashcards" class="content">
            <h2>Flashcards Biom√©canique</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalCards">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="knownCards">0</div>
                    <div class="stat-label">Ma√Ætris√©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="hesitateCards">0</div>
                    <div class="stat-label">H√©sitant</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="unknownCards">0</div>
                    <div class="stat-label">Non su</div>
                </div>
            </div>

            <div class="flashcard-controls">
                <button onclick="startFlashcards('all')">üìö Toutes</button>
                <button onclick="startFlashcards('difficult')">üìô Difficiles</button>
                <button onclick="startFlashcards('unknown')">üìï Non su</button>
                <button onclick="saveProgress()">üíæ Sauvegarder</button>
                <button onclick="loadProgress()">üìÇ Charger</button>
                <button onclick="exportProgress()">‚¨áÔ∏è Exporter</button>
                <input type="file" id="importFile" style="display:none" onchange="importProgress(event)" accept=".json">
                <button onclick="document.getElementById('importFile').click()">‚¨ÜÔ∏è Importer</button>
                <button onclick="resetProgress()">üîÑ Reset</button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%">0/0</div>
            </div>

            <div class="flashcard" id="flashcard" onclick="flipCard()">
                <div class="flashcard-text" id="flashcardText">Cliquez sur "D√©marrer" pour commencer</div>
                <div class="flashcard-buttons" id="flashcardButtons" style="display: none;">
                    <button class="btn-know" onclick="event.stopPropagation(); markCard('known')">‚úì Ma√Ætris√©</button>
                    <button class="btn-hesitate" onclick="event.stopPropagation(); markCard('hesitate')">? H√©sitant</button>
                    <button class="btn-unknown" onclick="event.stopPropagation(); markCard('unknown')">‚úó Non su</button>
                </div>
            </div>
        </div>

        <div id="quiz" class="content">
            <h2>Quiz Biom√©canique</h2>
            <div class="quiz-controls">
                <button onclick="startQuiz()">üé≤ Lancer</button>
                <button onclick="showQuizAnswer()">üëÅÔ∏è R√©ponse</button>
                <button onclick="nextQuizQuestion()">‚û°Ô∏è Suivant</button>
            </div>
            <div id="quizContainer"></div>
        </div>

        <div id="qcm" class="content">
            <h2>QCM Biom√©canique</h2>
            <div class="quiz-controls">
                <button onclick="startQCM()">üé≤ Lancer</button>
                <button onclick="submitQCM()">‚úì Valider</button>
                <button onclick="nextQCM()">‚û°Ô∏è Suivant</button>
            </div>
            <div id="qcmContainer"></div>
            <div id="qcmScore"></div>
        </div>

        <div id="vraifaux" class="content">
            <h2>Vrai ou Faux</h2>
            <div class="quiz-controls">
                <button onclick="startVraiFaux()">üé≤ Lancer</button>
                <button onclick="checkVraiFaux()">‚úì V√©rifier</button>
                <button onclick="nextVraiFaux()">‚û°Ô∏è Suivant</button>
            </div>
            <div id="vraiFauxContainer"></div>
        </div>

        <div id="exercices" class="content">
    <h2>‚úçÔ∏è Exercices Pratiques</h2>
    <p>Exercices de biom√©canique (Bloc 1) : calculs, raisonnement clinique, d√©marche √©tape par √©tape.</p>
    <div id="exercisesContainer"></div>
</div>

        <div id="formules" class="content">
            <h2>üìê Formules Essentielles</h2>
            
            <div class="formula-card">
                <h4>Moment de Force</h4>
                <div class="formula">M = F √ó d‚ä•</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ M : Newton-m√®tre (N¬∑m)<br>
                    ‚Ä¢ F : Force (N)<br>
                    ‚Ä¢ d‚ä• : Bras de levier perpendiculaire (m)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> Biceps tenant 10 kg √† 35 cm du coude, ins√©r√© √† 5 cm<br>
                    M_charge = 98.1 N √ó 0.35 m = 34.3 N¬∑m<br>
                    F_biceps = 34.3 / 0.05 = 686 N
                </div>
            </div>

            <div class="formula-card">
                <h4>2e Loi de Newton</h4>
                <div class="formula">F = m √ó a</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ F : Force r√©sultante (N)<br>
                    ‚Ä¢ m : Masse (kg)<br>
                    ‚Ä¢ a : Acc√©l√©ration (m/s¬≤)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> Acc√©l√©rer 70 kg √† 2 m/s¬≤<br>
                    F = 70 √ó 2 = 140 N
                </div>
            </div>

            <div class="formula-card">
                <h4>Travail M√©canique</h4>
                <div class="formula">W = F √ó d √ó cos(Œ∏)</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ W : Travail (J = Joules)<br>
                    ‚Ä¢ F : Force (N)<br>
                    ‚Ä¢ d : D√©placement (m)<br>
                    ‚Ä¢ Œ∏ : Angle entre force et d√©placement
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> Soulever 80 kg sur 0.5 m<br>
                    W = (80 √ó 9.81) √ó 0.5 = 392.4 J
                </div>
            </div>

            <div class="formula-card">
                <h4>Puissance</h4>
                <div class="formula">P = W / Œît = F √ó v</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ P : Puissance (W = Watts)<br>
                    ‚Ä¢ W : Travail (J)<br>
                    ‚Ä¢ Œît : Temps (s)<br>
                    ‚Ä¢ v : Vitesse (m/s)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> 392.4 J en 2 secondes<br>
                    P = 392.4 / 2 = 196.2 W
                </div>
            </div>

            <div class="formula-card">
                <h4>√ânergie Cin√©tique</h4>
                <div class="formula">Ec = ¬Ω m v¬≤</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ Ec : √ânergie cin√©tique (J)<br>
                    ‚Ä¢ m : Masse (kg)<br>
                    ‚Ä¢ v : Vitesse (m/s)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> 70 kg √† 5 m/s<br>
                    Ec = 0.5 √ó 70 √ó 25 = 875 J
                </div>
            </div>

            <div class="formula-card">
                <h4>√ânergie Potentielle</h4>
                <div class="formula">Ep = m √ó g √ó h</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ Ep : √ânergie potentielle (J)<br>
                    ‚Ä¢ m : Masse (kg)<br>
                    ‚Ä¢ g : 9.81 m/s¬≤<br>
                    ‚Ä¢ h : Hauteur (m)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> 70 kg √† 1.5 m<br>
                    Ep = 70 √ó 9.81 √ó 1.5 = 1030 J
                </div>
            </div>

            <div class="formula-card">
                <h4>Contrainte (Stress)</h4>
                <div class="formula">œÉ = F / A</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ œÉ : Contrainte (Pa = N/m¬≤ ou MPa)<br>
                    ‚Ä¢ F : Force (N)<br>
                    ‚Ä¢ A : Aire section (m¬≤)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> Tendon 40 mm¬≤, force 2000 N<br>
                    œÉ = 2000 / 40 = 50 MPa
                </div>
            </div>

            <div class="formula-card">
                <h4>D√©formation (Strain)</h4>
                <div class="formula">Œµ = ŒîL / L‚ÇÄ</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ Œµ : D√©formation (sans unit√© ou %)<br>
                    ‚Ä¢ ŒîL : Changement longueur (m)<br>
                    ‚Ä¢ L‚ÇÄ : Longueur initiale (m)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> Ligament 30 mm √©tir√© de 5 mm<br>
                    Œµ = 5 / 30 = 0.167 = 16.7%
                </div>
            </div>

            <div class="formula-card">
                <h4>Module de Young</h4>
                <div class="formula">E = œÉ / Œµ</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ E : Module √©lasticit√© (Pa ou MPa)<br>
                    ‚Ä¢ œÉ : Contrainte (Pa)<br>
                    ‚Ä¢ Œµ : D√©formation (sans unit√©)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> œÉ = 25 MPa, Œµ = 0.1<br>
                    E = 25 / 0.1 = 250 MPa
                </div>
            </div>

            <div class="formula-card">
                <h4>Vitesse de Marche</h4>
                <div class="formula">v = Cadence √ó Longueur_pas</div>
                <div class="formula-details">
                    <strong>Unit√©s :</strong><br>
                    ‚Ä¢ v : Vitesse (m/s)<br>
                    ‚Ä¢ Cadence : pas/s<br>
                    ‚Ä¢ Longueur_pas : (m)
                </div>
                <div class="formula-example">
                    <strong>Exemple :</strong> 110 pas/min, 0.75 m/pas<br>
                    v = (110/60) √ó 0.75 = 1.375 m/s
                </div>
            </div>
        </div>

        <div id="outils" class="content">
            <h2>üõ†Ô∏è Outils Interactifs</h2>
            
            <h3>Calculateur de Moment de Force</h3>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                <label>Force (N): <input type="number" id="force1" value="100"></label><br><br>
                <label>Distance (m): <input type="number" id="dist1" step="0.01" value="0.35"></label><br><br>
                <button onclick="calcMoment()" style="padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Calculer</button>
                <div id="result1" style="margin-top: 15px; font-weight: bold; color: #667eea;"></div>
            </div>

            <h3>Simulateur de Levier</h3>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                <canvas id="leverCanvas" width="600" height="300"></canvas>
                <div class="canvas-controls">
                    <label>Type: </label>
                    <select id="leverType" onchange="drawLever()">
                        <option value="1">1er genre</option>
                        <option value="2">2e genre</option>
                        <option value="3" selected>3e genre</option>
                    </select>
                    <label>Charge (kg): </label>
                    <input type="number" id="leverLoad" value="10" onchange="drawLever()">
                </div>
                <button onclick="drawLever()" style="margin-top: 10px; padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Mettre √† jour</button>
                <div id="leverInfo" style="margin-top: 15px; padding: 15px; background: white; border-radius: 5px;"></div>
            </div>
        </div>
    </div>

    <script>
        // ========== GESTION ONGLETS ==========
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.content');
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // ========== FLASHCARDS ==========
        const flashcardsData = [
            {q: "Qu'est-ce que la biom√©canique ?", a: "La science qui applique les principes de la m√©canique au syst√®me musculo-squelettique pour comprendre et analyser le mouvement humain."},
            {q: "Quelle est la formule du moment de force ?", a: "M = F √ó d‚ä• o√π M est le moment (N¬∑m), F la force (N) et d‚ä• le bras de levier perpendiculaire (m)."},
            {q: "Quels sont les 3 types de leviers ?", a: "1er genre (inter-appui), 2e genre (inter-r√©sistant), 3e genre (inter-moteur). Le corps utilise surtout le 3e genre."},
            {q: "Qu'est-ce qu'un levier de 3e genre ?", a: "La force est entre l'appui et la r√©sistance. D√©savantage m√©canique mais grande vitesse et amplitude. Exemple: flexion du coude."},
            {q: "O√π se situe le centre de gravit√© ?", a: "Souvent d√©crit pr√®s du bassin, approximativement en avant de S2 en position anatomique. Sa position varie selon la posture."},
            {q: "Qu'est-ce que la base de support ?", a: "La surface d√©limit√©e par les points de contact avec le sol. Plus elle est large, plus l'√©quilibre est stable."},
            {q: "D√©finissez la cin√©matique.", a: "√âtude de la description du mouvement (position, vitesse, acc√©l√©ration) sans consid√©ration des forces qui le causent."},
            {q: "D√©finissez la cin√©tique.", a: "√âtude des forces qui cr√©ent ou modifient le mouvement. Inclut les lois de Newton."},
            {q: "√ânoncez la 2e loi de Newton.", a: "F = m √ó a. L'acc√©l√©ration est proportionnelle √† la force et inversement proportionnelle √† la masse."},
            {q: "√ânoncez la 3e loi de Newton.", a: "Pour chaque action, il existe une r√©action √©gale et oppos√©e. Les forces s'appliquent sur des corps diff√©rents."},
            {q: "Qu'est-ce que la quantit√© de mouvement ?", a: "p = m √ó v (kg¬∑m/s). C'est la mesure du mouvement d'un corps. Plus difficile √† arr√™ter si grande."},
            {q: "Qu'est-ce que l'impulsion ?", a: "I = F √ó Œît (N¬∑s). L'impulsion change la quantit√© de mouvement. Augmenter le temps r√©duit la force n√©cessaire."},
            {q: "Formule du travail m√©canique ?", a: "W = F √ó d √ó cos(Œ∏) en Joules. Travail positif si force et d√©placement m√™me sens, n√©gatif sinon."},
            {q: "Formule de la puissance ?", a: "P = W / Œît ou P = F √ó v en Watts. C'est le taux auquel le travail est effectu√©."},
            {q: "Formule de l'√©nergie cin√©tique ?", a: "Ec = ¬Ω m v¬≤ en Joules. √ânergie du mouvement, proportionnelle au carr√© de la vitesse."},
            {q: "Formule de l'√©nergie potentielle ?", a: "Ep = m √ó g √ó h en Joules. √ânergie de position, proportionnelle √† la hauteur."},
            {q: "Qu'est-ce que la contrainte ?", a: "œÉ = F / A. Force par unit√© de surface (Pa ou MPa). Mesure le stress m√©canique sur un tissu."},
            {q: "Qu'est-ce que la d√©formation ?", a: "Œµ = ŒîL / L‚ÇÄ. Changement de longueur relatif, sans unit√© ou en %. Mesure l'allongement ou compression."},
            {q: "Qu'est-ce que le module de Young ?", a: "E = œÉ / Œµ. Mesure de la rigidit√© d'un mat√©riau (Pa ou MPa). Plus E est √©lev√©, plus rigide."},
            {q: "Zone √©lastique vs zone plastique ?", a: "√âlastique: d√©formation r√©versible. Plastique: d√©formation permanente (dommage). Au-del√†: rupture."},
            {q: "Qu'est-ce qu'une cha√Æne cin√©tique ferm√©e ?", a: "Extr√©mit√© distale fixe (ex: squat, push-up). Plus fonctionnel, active plusieurs articulations, meilleur pour stabilit√©."},
            {q: "Qu'est-ce qu'une cha√Æne cin√©tique ouverte ?", a: "Extr√©mit√© distale libre (ex: extension genou assis). Permet isolation musculaire, contr√¥le pr√©cis."},
            {q: "Qu'est-ce que la loi de Wolff ?", a: "L'os se remod√®le selon les contraintes appliqu√©es. Surcharge ‚Üí densification. D√©charge ‚Üí r√©sorption."},
            {q: "Les 5 types de contraintes tissulaires ?", a: "Tension (√©tirement), Compression (√©crasement), Cisaillement (forces parall√®les oppos√©es), Torsion (rotation), Flexion (courbure)."},
            {q: "Qu'est-ce que le cycle √©tirement-raccourcissement ?", a: "Phase excentrique (stockage d'√©nergie √©lastique, surtout dans les tendons) + transition courte + phase concentrique (restitution). Utilis√© dans les sauts et les changements de direction."},
            {q: "Relation force-longueur musculaire ?", a: "Force active maximale autour d'une longueur optimale. Si le muscle est trop raccourci ou trop allong√©, la force active diminue."},
            {q: "Relation force-vitesse musculaire ?", a: "Concentrique : plus la vitesse de raccourcissement augmente, plus la force diminue. Excentrique : en allongement actif, la force peut d√©passer l'isom√©trique (selon conditions)."},
            {q: "Vitesse de marche normale ?", a: "D√©pend de l'√¢ge, de la taille et de la condition. La vitesse augmente quand la cadence et/ou la longueur de pas augmentent (v ‚âà cadence √ó longueur de pas)."},
            {q: "Phases de la marche ?", a: "60% appui (contact, mise en charge, appui inter, propulsion) + 40% oscillante (flexion, passage, extension)."},
            {q: "Qu'est-ce que le signe de Trendelenburg ?", a: "Chute du bassin c√¥t√© controlat√©ral lors de l'appui unipodal. Indique faiblesse du moyen fessier."}
        ];

        let currentFlashcardIndex = 0;
        let flashcardsToShow = [];
        let flashcardStatus = {};
        let isFlipped = false;

        function initFlashcards() {
            flashcardsData.forEach((card, index) => {
                if (!flashcardStatus[index]) flashcardStatus[index] = 'unknown';
            });
            updateFlashcardStats();
        }

        function startFlashcards(mode) {
            flashcardsToShow = [];
            flashcardsData.forEach((card, index) => {
                if (mode === 'all') flashcardsToShow.push(index);
                else if (mode === 'difficult' && (flashcardStatus[index] === 'hesitate' || flashcardStatus[index] === 'unknown')) flashcardsToShow.push(index);
                else if (mode === 'unknown' && flashcardStatus[index] === 'unknown') flashcardsToShow.push(index);
            });
            if (flashcardsToShow.length === 0) { alert('Aucune carte !'); return; }
            flashcardsToShow.sort(() => Math.random() - 0.5);
            currentFlashcardIndex = 0;
            showFlashcard();
        }

        function showFlashcard() {
            if (flashcardsToShow.length === 0) return;
            const cardIndex = flashcardsToShow[currentFlashcardIndex];
            const card = flashcardsData[cardIndex];
            document.getElementById('flashcardText').textContent = card.q;
            document.getElementById('flashcardButtons').style.display = 'none';
            document.getElementById('flashcard').classList.remove('flipped');
            isFlipped = false;
            updateProgress();
        }

        function flipCard() {
            if (flashcardsToShow.length === 0) return;
            const cardIndex = flashcardsToShow[currentFlashcardIndex];
            const card = flashcardsData[cardIndex];
            isFlipped = !isFlipped;
            if (isFlipped) {
                document.getElementById('flashcardText').textContent = card.a;
                document.getElementById('flashcardButtons').style.display = 'flex';
                document.getElementById('flashcard').classList.add('flipped');
            } else {
                document.getElementById('flashcardText').textContent = card.q;
                document.getElementById('flashcardButtons').style.display = 'none';
                document.getElementById('flashcard').classList.remove('flipped');
            }
        }

        function markCard(status) {
            const cardIndex = flashcardsToShow[currentFlashcardIndex];
            flashcardStatus[cardIndex] = status;
            currentFlashcardIndex++;
            if (currentFlashcardIndex >= flashcardsToShow.length) {
                alert('Termin√© ! üéâ');
                document.getElementById('flashcardText').textContent = 'Cliquez sur "D√©marrer"';
                document.getElementById('flashcardButtons').style.display = 'none';
                document.getElementById('flashcard').classList.remove('flipped');
                flashcardsToShow = [];
            } else {
                showFlashcard();
            }
            updateFlashcardStats();
        }

        function updateProgress() {
            const total = flashcardsToShow.length;
            const current = currentFlashcardIndex + 1;
            const percentage = (current / total) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = current + '/' + total;
        }

        function updateFlashcardStats() {
            const total = flashcardsData.length;
            let known = 0, hesitate = 0, unknown = 0;
            for (let key in flashcardStatus) {
                if (flashcardStatus[key] === 'known') known++;
                else if (flashcardStatus[key] === 'hesitate') hesitate++;
                else if (flashcardStatus[key] === 'unknown') unknown++;
            }
            document.getElementById('totalCards').textContent = total;
            document.getElementById('knownCards').textContent = known;
            document.getElementById('hesitateCards').textContent = hesitate;
            document.getElementById('unknownCards').textContent = unknown;
        }

        function saveProgress() {
            localStorage.setItem('biomech_flashcards', JSON.stringify(flashcardStatus));
            alert('Sauvegard√© ! üíæ');
        }

        function loadProgress() {
            const saved = localStorage.getItem('biomech_flashcards');
            if (saved) {
                flashcardStatus = JSON.parse(saved);
                updateFlashcardStats();
                alert('Charg√© ! üìÇ');
            } else alert('Aucune sauvegarde.');
        }

        function exportProgress() {
            const dataStr = JSON.stringify(flashcardStatus, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'biomech_flashcards.json';
            link.click();
            alert('Export√© ! ‚¨áÔ∏è');
        }

        function importProgress(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    flashcardStatus = JSON.parse(e.target.result);
                    updateFlashcardStats();
                    saveProgress();
                    alert('Import√© ! ‚¨ÜÔ∏è');
                } catch (error) {
                    alert('Erreur import');
                }
            };
            reader.readAsText(file);
        }

        function resetProgress() {
            if (confirm('R√©initialiser ?')) {
                flashcardStatus = {};
                initFlashcards();
                saveProgress();
                alert('R√©initialis√© ! üîÑ');
            }
        }

        // ========== OUTILS ==========
        function calcMoment() {
            const f = parseFloat(document.getElementById('force1').value);
            const d = parseFloat(document.getElementById('dist1').value);
            const m = f * d;
            document.getElementById('result1').innerHTML = 
                'Moment de force = ' + m.toFixed(2) + ' N¬∑m';
        }

                function drawLever() {
            const canvas = document.getElementById('leverCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const type = document.getElementById('leverType').value;
            const loadKg = parseFloat(document.getElementById('leverLoad').value);
            const g = 9.81;
            const loadN = loadKg * g;

            // Petites distances "p√©dagogiques" (m) pour illustrer les avantages m√©caniques.
            // L'utilisateur r√®gle uniquement la charge (kg).
            let dLoad = 0.30;     // bras de levier de la charge (m)
            let dEffort = 0.05;   // bras de levier de l'effort (m)
            let title = '';
            let example = '';

            if (type === '1') {
                title = 'Levier 1er genre (inter-appui) ‚Äì Exemple : extension de la t√™te';
                // Pivot au milieu, charge d'un c√¥t√©, effort de l'autre
                dLoad = 0.10;    // charge proche (ex: poids de la t√™te par rapport √† l‚Äôarticulation atlanto-occipitale)
                dEffort = 0.05;  // bras des extenseurs cervicaux (illustratif)
                example = 'Plus √©quilibr√© : avantage m√©canique d√©pend des distances.';
            } else if (type === '2') {
                title = 'Levier 2e genre (inter-r√©sistant) ‚Äì Exemple : mont√©e sur pointe (triceps sural)';
                // Charge entre pivot et effort : avantage m√©canique souvent > 1
                dLoad = 0.05;     // bras de levier du poids du corps (illustratif)
                dEffort = 0.15;   // bras du tendon d‚ÄôAchille (illustratif)
                example = 'Avantage m√©canique : l‚Äôeffort peut √™tre < charge.';
            } else {
                title = 'Levier 3e genre (inter-moteur) ‚Äì Exemple : biceps au coude';
                dLoad = 0.35;
                dEffort = 0.05;
                example = 'Tr√®s fr√©quent : grande vitesse/amplitude, mais effort musculaire √©lev√©.';
            }

            // Calculs
            const momentLoad = loadN * dLoad;      // N¬∑m
            const effortN = momentLoad / dEffort;  // N
            const mechAdv = dEffort / dLoad;       // MA (effort arm / load arm)

            // Dessin simplifi√©
            ctx.fillStyle = '#667eea';
            ctx.font = '16px Arial';
            ctx.fillText(title, 120, 30);

            // Barre
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(80, 150);
            ctx.lineTo(520, 150);
            ctx.stroke();

            // Positionnements graphiques
            let xPivot = 120, xLoad = 300, xEffort = 480;
            if (type === '1') { xPivot = 300; xLoad = 430; xEffort = 170; }
            else if (type === '2') { xPivot = 120; xLoad = 260; xEffort = 480; }
            else { xPivot = 120; xEffort = 210; xLoad = 450; }

            // Pivot
            ctx.fillStyle = '#dc3545';
            ctx.fillRect(xPivot - 5, 140, 10, 20);
            ctx.fillStyle = '#333';
            ctx.fillText('Appui', xPivot - 18, 185);

            // Charge
            ctx.fillStyle = '#ffc107';
            ctx.fillRect(xLoad - 15, 150, 30, 30);
            ctx.fillStyle = '#333';
            ctx.fillText('Charge', xLoad - 18, 205);

            // Effort (fl√®che)
            ctx.strokeStyle = '#28a745';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(xEffort, 150);
            ctx.lineTo(xEffort, 80);
            ctx.stroke();
            ctx.fillStyle = '#333';
            ctx.fillText('Effort', xEffort - 18, 75);

            // Infos
            document.getElementById('leverInfo').innerHTML =
                '<strong>' + example + '</strong><br><br>' +
                '<strong>Donn√©es p√©dagogiques :</strong><br>' +
                'Charge = ' + loadKg.toFixed(1) + ' kg (' + loadN.toFixed(1) + ' N)<br>' +
                'Bras de levier charge d = ' + dLoad.toFixed(2) + ' m<br>' +
                'Bras de levier effort d = ' + dEffort.toFixed(2) + ' m<br><br>' +
                '<strong>Calculs :</strong><br>' +
                'Moment de la charge = F √ó d = ' + momentLoad.toFixed(2) + ' N¬∑m<br>' +
                'Effort n√©cessaire = Moment / d_effort = ' + effortN.toFixed(0) + ' N (' + (effortN / g).toFixed(1) + ' kg)<br>' +
                'Avantage m√©canique (d_effort/d_charge) = ' + mechAdv.toFixed(2) + '<br>' +
                (mechAdv > 1 ? '<em>Levier avantageux (effort &lt; charge)</em>' : '<em>Levier d√©savantageux (effort &gt; charge)</em>');
        }

                // ========== COURS : NIVEAUX ==========
        function setCourseLevel(level) {
            const sections = document.querySelectorAll('#cours .course-section');
            const btns = document.querySelectorAll('#cours .level-btn');
            sections.forEach(s => s.classList.remove('active'));
            btns.forEach(b => b.classList.remove('active'));
            const target = document.getElementById('course-' + level);
            if (target) target.classList.add('active');
            const btn = document.querySelector('#cours .level-btn[data-level="' + level + '"]');
            if (btn) btn.classList.add('active');
        }

        // ========== QUIZ (questions ouvertes) ==========
        const quizData = [
            {
                q: "Un patient tient 5 kg √† 30 cm du coude. Le biceps s'ins√®re √† 4 cm. Quelle force doit produire le biceps (sans co-contraction) ?",
                a: "Convertir la masse en force : F = 5 √ó 9,81 = 49,1 N.\nMoment de la charge : M = 49,1 √ó 0,30 = 14,7 N¬∑m.\n√âquilibre au coude : F_biceps = M / 0,04 = 367,5 N (‚âà 37,5 kgf)."
            },
            {
                q: "D√©finir : cin√©matique vs cin√©tique. Donne un exemple clinique pour chacune.",
                a: "Cin√©matique = description du mouvement (angles, vitesses) sans forces. Exemple : mesurer l'angle de flexion du genou pendant la marche.\nCin√©tique = causes du mouvement (forces, moments). Exemple : estimer le moment d'extension du genou √† partir de la r√©action du sol."
            },
            {
                q: "√âcrire les conditions d'√©quilibre en statique (plan).",
                a: "Somme des forces = 0 (Œ£Fx=0 et Œ£Fy=0) et somme des moments = 0 (Œ£M=0) autour d'un point choisi."
            },
            {
                q: "Un sac de 8 kg est port√© √† la main, 0,60 m en avant de l'√©paule. Quelle est la valeur du moment au niveau de l'√©paule (approx.) ?",
                a: "Force du sac : F = 8 √ó 9,81 = 78,5 N.\nMoment : M = 78,5 √ó 0,60 = 47,1 N¬∑m."
            },
            {
                q: "Explique pourquoi un levier de 3e genre est tr√®s fr√©quent dans le corps malgr√© un d√©savantage m√©canique.",
                a: "Levier 3e genre : insertion musculaire proche de l'articulation ‚Üí bras de levier muscle petit ‚Üí effort √©lev√©, MAIS cela permet grande vitesse angulaire et grande amplitude au segment distal (mouvement rapide/fonctionnel)."
            },
            {
                q: "Travail m√©canique : donner la formule et interpr√©ter le r√¥le de l'angle Œ∏.",
                a: "W = F √ó d √ó cos(Œ∏).\nSi Œ∏=0¬∞ : travail maximal (force dans le sens du d√©placement).\nSi Œ∏=90¬∞ : travail nul (force perpendiculaire au d√©placement).\nSi Œ∏>90¬∞ : travail n√©gatif (freinage, excentrique)."
            },
            {
                q: "Puissance : donner 2 expressions et une interpr√©tation en r√©√©ducation.",
                a: "P = W/Œît et P = F √ó v.\nInterpr√©tation : produire la m√™me force plus vite = puissance plus √©lev√©e (important pour monter les escaliers, se relever, saut‚Ä¶)."
            },
            {
                q: "D√©finir contrainte (œÉ) et d√©formation (Œµ). Donner les unit√©s.",
                a: "Contrainte : œÉ = F/A (Pa = N/m¬≤).\nD√©formation : Œµ = ŒîL/L0 (sans unit√©, souvent en %)."
            },
            {
                q: "Un tendon subit 1500 N sur une section de 60 mm¬≤. Calculer la contrainte en MPa.",
                a: "A = 60 mm¬≤ = 60√ó10‚Åª‚Å∂ m¬≤ = 6,0√ó10‚Åª‚Åµ m¬≤.\nœÉ = 1500 / 6,0√ó10‚Åª‚Åµ = 25 000 000 Pa = 25 MPa."
            },
            {
                q: "Explique la diff√©rence entre centre de masse et centre de pression (CoP) en posturographie.",
                a: "Centre de masse (CoM) = point repr√©sentant la distribution de masse du corps.\nCentre de pression (CoP) = point d'application r√©sultant des forces de r√©action du sol sous les pieds (mesur√© par plate-forme).\nLe contr√¥le postural ajuste le CoP pour maintenir la projection du CoM dans la base de support."
            },
            {
                q: "D√©crire bri√®vement les phases du cycle de marche et leurs proportions chez un adulte √† vitesse confortable.",
                a: "Cycle = environ 60% phase d'appui (contact au sol) et 40% phase oscillante (pied en l'air). Les proportions varient avec la vitesse."
            },
            {
                q: "Pourquoi la force musculaire peut-elle √™tre > au poids port√© dans certains gestes (ex: coude, √©paule) ?",
                a: "√Ä cause des bras de levier : les insertions musculaires sont proches de l'articulation (petit d), alors que la charge est loin (grand d). Pour √©quilibrer les moments, F_muscle doit √™tre √©lev√©e."
            },
            {
                q: "Donner un exemple de cisaillement au niveau d'une articulation (vie quotidienne) et expliquer le risque.",
                a: "Exemple : glisser vers l'avant sur une chaise (bassin avance) ‚Üí cisaillement sur la colonne lombaire/disques.\nRisque : augmentation contraintes sur structures passives et douleur si contr√¥le insuffisant."
            },
            {
                q: "Qu'est-ce que la 3e loi de Newton ? Appliquer √† la marche.",
                a: "Action-r√©action : si le pied pousse le sol vers l'arri√®re et vers le bas, le sol exerce une force √©gale et oppos√©e sur le corps (r√©action du sol) qui contribue √† la propulsion et au soutien."
            },
            {
                q: "Dans un squat, citer 2 facteurs qui augmentent le moment au genou ou √† la hanche.",
                a: "1) Augmenter la distance horizontale entre la ligne d'action du poids (centre de masse) et l'articulation (bras de levier).\n2) Augmenter la charge externe (halt√®re, sac)."
            },
            {
                q: "Diff√©rence cha√Æne cin√©tique ouverte vs ferm√©e (avec un exemple de renforcement).",
                a: "Ouverte : segment distal libre (ex : extension du genou assis).\nFerm√©e : segment distal fix√© (ex : squat).\nLa ferm√©e sollicite souvent plus la coordination et la stabilit√©."
            },
            {
                q: "D√©finir avantage m√©canique d'un levier et donner l'expression.",
                a: "Avantage m√©canique (AM) = bras de levier effort / bras de levier charge.\nAM > 1 : effort < charge (levier avantageux). AM < 1 : effort > charge."
            },
            {
                q: "Une force de 120 N est appliqu√©e avec un bras de levier perpendiculaire de 0,25 m. Calculer le moment.",
                a: "M = 120 √ó 0,25 = 30 N¬∑m."
            },
            {
                q: "Explique en une phrase la loi de Wolff (os) et donne une cons√©quence clinique.",
                a: "L'os se remod√®le selon les contraintes m√©caniques : plus de charge ‚Üí adaptation/renforcement ; moins de charge ‚Üí perte de densit√©.\nCons√©quence : immobilisation prolong√©e ‚Üí d√©min√©ralisation, d'o√π reprise progressive du chargement."
            }
        ];

        let quizOrder = [];
        let quizIndex = 0;
        let quizAnswerShown = false;

        function startQuiz() {
            quizOrder = quizData.map((_, i) => i).sort(() => Math.random() - 0.5);
            quizIndex = 0;
            quizAnswerShown = false;
            renderQuiz();
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            if (!quizOrder.length) {
                container.innerHTML = '<div class="quiz-question"><p>Clique sur "üé≤ Lancer" pour d√©marrer.</p></div>';
                return;
            }
            const item = quizData[quizOrder[quizIndex]];
            container.innerHTML = `
                <div class="quiz-question">
                    <h4>Question ${quizIndex + 1} / ${quizOrder.length}</h4>
                    <p style="line-height:1.8; margin-bottom: 15px;">${item.q}</p>
                    <div id="quizAnswer" class="correction-box" style="display:${quizAnswerShown ? 'block' : 'none'};">
                        <strong>R√©ponse :</strong><br><pre style="white-space:pre-wrap; font-family:inherit; margin-top:10px;">${item.a}</pre>
                    </div>
                </div>
            `;
        }

        function showQuizAnswer() {
            if (!quizOrder.length) return;
            quizAnswerShown = true;
            const ans = document.getElementById('quizAnswer');
            if (ans) ans.style.display = 'block';
        }

        function nextQuizQuestion() {
            if (!quizOrder.length) return;
            quizIndex++;
            if (quizIndex >= quizOrder.length) {
                alert('Quiz termin√© ! üéâ');
                quizOrder = [];
                quizIndex = 0;
                quizAnswerShown = false;
            }
            quizAnswerShown = false;
            renderQuiz();
        }

        // ========== QCM ==========
        const qcmData = [
            { q: "Quelle est l'unit√© d'une force ?", options: ["kg", "N", "J", "W"], correct: 1 },
            { q: "Le moment de force s'exprime en :", options: ["N", "N¬∑m", "Pa", "kg¬∑m/s"], correct: 1 },
            { q: "Un levier de 3e genre est :", options: ["Inter-appui", "Inter-r√©sistant", "Inter-moteur", "Toujours avantageux"], correct: 2 },
            { q: "Dans le corps, le type de levier le plus fr√©quent est :", options: ["1er genre", "2e genre", "3e genre", "Aucun"], correct: 2 },
            { q: "Cin√©matique = √©tude :", options: ["Des forces", "Du mouvement sans forces", "Des tissus", "Des pathologies"], correct: 1 },
            { q: "Cin√©tique = √©tude :", options: ["Des forces qui causent le mouvement", "Des angles uniquement", "Du bruit articulaire", "De l'√©quilibre chimique"], correct: 0 },
            { q: "2e loi de Newton :", options: ["F = m √ó a", "W = F √ó d", "P = W/Œît", "œÉ = F/A"], correct: 0 },
            { q: "Le travail m√©canique W est maximal si l'angle Œ∏ entre force et d√©placement vaut :", options: ["0¬∞", "45¬∞", "90¬∞", "180¬∞"], correct: 0 },
            { q: "Si Œ∏ = 90¬∞, le travail W vaut :", options: ["Maximal", "0", "N√©gatif", "Impossible √† calculer"], correct: 1 },
            { q: "Puissance P (une expression) :", options: ["P = F/A", "P = m√óa", "P = W/Œît", "P = v/Œît"], correct: 2 },
            { q: "Contrainte (stress) :", options: ["œÉ = ŒîL/L0", "œÉ = F/A", "œÉ = m√óg", "œÉ = F√ód"], correct: 1 },
            { q: "D√©formation (strain) :", options: ["Œµ = ŒîL/L0", "Œµ = F/A", "Œµ = F√ód", "Œµ = W/Œît"], correct: 0 },
            { q: "Module de Young :", options: ["E = œÉ/Œµ", "E = Œµ/œÉ", "E = F√ód", "E = m√óa"], correct: 0 },
            { q: "Une cha√Æne cin√©tique ferm√©e signifie :", options: ["Segment distal libre", "Segment distal fix√©", "Aucune articulation", "Toujours un mouvement 3D"], correct: 1 },
            { q: "Exemple de cha√Æne ouverte :", options: ["Squat", "Pompe", "Extension genou assis", "Mont√©e sur marche"], correct: 2 },
            { q: "Exemple de cha√Æne ferm√©e :", options: ["Flexion du coude avec halt√®re", "Extension genou assis", "Squat", "Rotation du poignet"], correct: 2 },
            { q: "La 3e loi de Newton correspond √† :", options: ["Action-r√©action", "Inertie", "Gravitation", "Conservation de l'√©nergie"], correct: 0 },
            { q: "Le centre de pression (CoP) est :", options: ["Un point au niveau de S2", "Le point d'application r√©sultant de la r√©action du sol", "Toujours fixe", "Le centre anatomique du pied"], correct: 1 },
            { q: "Dans un levier, l'avantage m√©canique (AM) est :", options: ["d_charge / d_effort", "d_effort / d_charge", "F_charge / F_effort", "Toujours 1"], correct: 1 },
            { q: "Si AM < 1 :", options: ["Effort < charge", "Effort = charge", "Effort > charge", "Moment nul"], correct: 2 },
            { q: "La marche normale comporte environ :", options: ["40% appui / 60% oscillation", "60% appui / 40% oscillation", "50/50", "90/10"], correct: 1 },
            { q: "La r√©action du sol est une force :", options: ["Interne", "Externe", "Toujours nulle", "Toujours horizontale"], correct: 1 },
            { q: "Un sch√©ma de corps libre sert √† :", options: ["Dessiner les muscles en couleur", "Lister les forces et leurs points d'application", "Calculer la VO2 max", "Mesurer la douleur"], correct: 1 },
            { q: "Le bras de levier perpendiculaire d‚ä• est :", options: ["La distance la plus courte √† l'axe", "La longueur du segment osseux", "Toujours la m√™me", "Une unit√© de force"], correct: 0 },
            { q: "La contrainte s'exprime souvent en :", options: ["m/s", "MPa", "kg", "rad"], correct: 1 },
            { q: "Une augmentation de la vitesse de marche tend √† :", options: ["Augmenter le % de double appui", "Diminuer le % de double appui", "Supprimer la phase d'appui", "Rendre l'appui toujours 80%"], correct: 1 },
            { q: "Dans un levier 2e genre (inter-r√©sistant), l'AM est souvent :", options: ["< 1", "> 1", "= 0", "Toujours n√©gatif"], correct: 1 },
            { q: "Le ‚Äútoe region‚Äù (tendon/ligament) correspond plut√¥t √† :", options: ["Alignement des fibres au d√©but de charge", "Rupture imm√©diate", "Zone parfaitement lin√©aire", "Zone sans d√©formation"], correct: 0 },
            { q: "Une d√©formation plastique signifie :", options: ["D√©formation r√©versible", "D√©formation permanente", "Absence de contrainte", "Travail nul"], correct: 1 },
            { q: "Le travail excentrique correspond le plus souvent √† :", options: ["Travail n√©gatif", "Travail nul", "Travail maximal positif", "Pas de force"], correct: 0 },
            { q: "Le moment est maximal quand :", options: ["La force est align√©e avec l'axe", "d‚ä• est maximal", "d‚ä• = 0", "La charge est 0"], correct: 1 },
            { q: "Loi de Wolff :", options: ["L'os ne change jamais", "L'os s'adapte aux contraintes", "Le tendon s'adapte aux hormones", "Le cartilage se calcifie toujours"], correct: 1 },
            { q: "Dynamique inverse =", options: ["Calculer les forces √† partir du mouvement + forces externes", "Calculer le mouvement √† partir des forces internes uniquement", "Mesurer la douleur", "Mesurer la souplesse"], correct: 0 },
            { q: "Une force de frottement s'oppose :", options: ["Au poids", "Au mouvement relatif", "√Ä la gravit√©", "Au moment"], correct: 1 },
            { q: "Unit√© d'√©nergie :", options: ["N", "J", "Pa", "kg"], correct: 1 },
            { q: "Unit√© de puissance :", options: ["J", "W", "N", "m"], correct: 1 },
            { q: "√ânergie potentielle gravitationnelle :", options: ["Ep = 1/2 mv¬≤", "Ep = mgh", "Ep = F/A", "Ep = Fd"], correct: 1 },
            { q: "√ânergie cin√©tique :", options: ["Ec = 1/2 mv¬≤", "Ec = mgh", "Ec = œÉ/Œµ", "Ec = W/Œît"], correct: 0 }
        ];

        let qcmOrder = [];
        let qcmIndex = 0;
        let qcmSelected = null;
        let qcmAnswered = false;
        let qcmScoreVal = 0;

        function startQCM() {
            qcmOrder = qcmData.map((_, i) => i).sort(() => Math.random() - 0.5);
            qcmIndex = 0;
            qcmSelected = null;
            qcmAnswered = false;
            qcmScoreVal = 0;
            renderQCM();
            document.getElementById('qcmScore').innerHTML = '';
        }

        function renderQCM() {
            const container = document.getElementById('qcmContainer');
            if (!qcmOrder.length) {
                container.innerHTML = '<div class="quiz-question"><p>Clique sur "üé≤ Lancer" pour d√©marrer un QCM.</p></div>';
                return;
            }
            const item = qcmData[qcmOrder[qcmIndex]];
            container.innerHTML = `
                <div class="quiz-question">
                    <h4>QCM ${qcmIndex + 1} / ${qcmOrder.length}</h4>
                    <p style="line-height:1.8; margin-bottom: 15px;">${item.q}</p>
                    <div class="quiz-options">
                        ${item.options.map((opt, i) => `
                            <div class="quiz-option" id="qcmOpt${i}" onclick="selectQCMOption(${i})">${opt}</div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function selectQCMOption(i) {
            if (!qcmOrder.length) return;
            if (qcmAnswered) return;
            qcmSelected = i;
            // UI
            const opts = document.querySelectorAll('#qcmContainer .quiz-option');
            opts.forEach(o => o.classList.remove('selected'));
            const el = document.getElementById('qcmOpt' + i);
            if (el) el.classList.add('selected');
        }

        function submitQCM() {
            if (!qcmOrder.length) return;
            if (qcmAnswered) return;
            if (qcmSelected === null) { alert('Choisis une r√©ponse.'); return; }

            const item = qcmData[qcmOrder[qcmIndex]];
            const opts = document.querySelectorAll('#qcmContainer .quiz-option');
            opts.forEach((o, i) => {
                o.classList.remove('selected');
                if (i === item.correct) o.classList.add('correct');
                else if (i === qcmSelected) o.classList.add('incorrect');
            });

            if (qcmSelected === item.correct) qcmScoreVal++;
            qcmAnswered = true;

            document.getElementById('qcmScore').innerHTML =
                '<div class="important-box"><strong>Score :</strong> ' + qcmScoreVal + ' / ' + (qcmIndex + 1) + '</div>';
        }

        function nextQCM() {
            if (!qcmOrder.length) return;
            qcmIndex++;
            if (qcmIndex >= qcmOrder.length) {
                alert('QCM termin√© ! üéâ');
                document.getElementById('qcmScore').innerHTML =
                    '<div class="important-box"><strong>Score final :</strong> ' + qcmScoreVal + ' / ' + qcmOrder.length + '</div>';
                qcmOrder = [];
                qcmIndex = 0;
                qcmSelected = null;
                qcmAnswered = false;
                renderQCM();
                return;
            }
            qcmSelected = null;
            qcmAnswered = false;
            renderQCM();
        }

        // ========== VRAI / FAUX ==========
        const vraiFauxData = [
            { q: "Le moment de force se calcule avec M = F √ó d‚ä•.", a: true },
            { q: "Si la force passe par l'axe de rotation, le moment est maximal.", a: false },
            { q: "La cin√©matique √©tudie les forces responsables du mouvement.", a: false },
            { q: "La cin√©tique √©tudie les forces et moments responsables du mouvement.", a: true },
            { q: "La marche normale est environ 60% appui et 40% oscillation.", a: true },
            { q: "Un levier de 2e genre est g√©n√©ralement d√©savantageux m√©caniquement.", a: false },
            { q: "Un levier de 3e genre est souvent utilis√© pour obtenir vitesse et amplitude.", a: true },
            { q: "Le travail m√©canique est nul si la force est perpendiculaire au d√©placement.", a: true },
            { q: "La puissance est le travail divis√© par le temps.", a: true },
            { q: "La contrainte est une force par unit√© de surface.", a: true },
            { q: "La d√©formation Œµ a des unit√©s de Newton.", a: false },
            { q: "Le module de Young refl√®te la rigidit√© : plus E est grand, plus c'est rigide.", a: true },
            { q: "Une d√©formation plastique est toujours r√©versible.", a: false },
            { q: "En cha√Æne cin√©tique ferm√©e, l'extr√©mit√© distale est fixe.", a: true },
            { q: "Le centre de pression (CoP) est identique au centre de masse (CoM).", a: false },
            { q: "La r√©action du sol est une force externe.", a: true },
            { q: "En statique plane, l'√©quilibre impose Œ£F=0 et Œ£M=0.", a: true },
            { q: "Dans un levier, l'avantage m√©canique est d_effort/d_charge.", a: true },
            { q: "Si AM < 1, l'effort est inf√©rieur √† la charge.", a: false },
            { q: "Loi de Wolff : l'os s'adapte aux contraintes m√©caniques.", a: true },
            { q: "Le ‚Äútoe region‚Äù d'un tendon correspond au redressement/alignment des fibres au d√©but de charge.", a: true },
            { q: "Le travail excentrique est typiquement positif.", a: false },
            { q: "Le moment au genou augmente si la ligne de gravit√© s'√©loigne du genou (bras de levier ‚Üë).", a: true },
            { q: "Augmenter la base de support diminue la stabilit√©.", a: false },
            { q: "Une acc√©l√©ration est un changement de vitesse (valeur ou direction).", a: true },
            { q: "L'√©nergie cin√©tique d√©pend du carr√© de la vitesse.", a: true },
            { q: "L'√©nergie potentielle gravitationnelle d√©pend de la hauteur.", a: true },
            { q: "L'unit√© de puissance est le Joule.", a: false },
            { q: "Unit√© de contrainte : Pascal (Pa).", a: true },
            { q: "La 3e loi de Newton s'applique sur le m√™me corps uniquement.", a: false },
            { q: "En marche, le double appui diminue quand la vitesse augmente.", a: true },
            { q: "La force de frottement est toujours parall√®le √† la surface de contact.", a: true },
            { q: "Un sch√©ma de corps libre doit repr√©senter les forces externes et leurs points d'application.", a: true },
            { q: "Si d‚ä• double, le moment double (√† force constante).", a: true },
            { q: "La force musculaire n√©cessaire au coude est souvent tr√®s proche de la charge (1:1).", a: false },
            { q: "Le bras de levier d√©pend de l'angle : il peut changer au cours du mouvement.", a: true },
            { q: "En √©quilibre, on choisit souvent le point de calcul des moments pour simplifier les inconnues.", a: true },
            { q: "La cha√Æne ouverte est toujours plus ‚Äúfonctionnelle‚Äù que la cha√Æne ferm√©e.", a: false },
            { q: "Dans le squat, avancer les genoux augmente g√©n√©ralement le moment au genou.", a: true },
            { q: "La stabilit√© augmente si le centre de gravit√© est plus bas.", a: true },
            { q: "Le travail est une forme de transfert d'√©nergie.", a: true },
            { q: "La r√©action du sol peut √™tre d√©compos√©e en composantes verticale et horizontale.", a: true },
            { q: "La marche ne comporte jamais de phase de double appui.", a: false },
            { q: "Les leviers de 1er genre ont toujours un avantage m√©canique > 1.", a: false },
            { q: "Le moment (torque) est un vecteur (il a une direction).", a: true },
            { q: "L'acc√©l√©ration angulaire est la d√©riv√©e de la vitesse angulaire.", a: true },
            { q: "Le centre de masse est fixe quelle que soit la posture.", a: false },
            { q: "En levier 2e genre, la force musculaire peut √™tre inf√©rieure √† la charge.", a: true }
        ];

        let vfOrder = [];
        let vfIndex = 0;
        let vfSelected = null;
        let vfChecked = false;

        function startVraiFaux() {
            vfOrder = vraiFauxData.map((_, i) => i).sort(() => Math.random() - 0.5);
            vfIndex = 0;
            vfSelected = null;
            vfChecked = false;
            renderVraiFaux();
        }

        function renderVraiFaux() {
            const container = document.getElementById('vraiFauxContainer');
            if (!vfOrder.length) {
                container.innerHTML = '<div class="quiz-question"><p>Clique sur "üé≤ Lancer" pour d√©marrer.</p></div>';
                return;
            }
            const item = vraiFauxData[vfOrder[vfIndex]];
            container.innerHTML = `
                <div class="quiz-question">
                    <h4>Vrai/Faux ${vfIndex + 1} / ${vfOrder.length}</h4>
                    <p style="line-height:1.8; margin-bottom: 15px;">${item.q}</p>
                    <div class="quiz-options">
                        <div class="quiz-option" id="vfTrue" onclick="selectVraiFaux(true)">Vrai</div>
                        <div class="quiz-option" id="vfFalse" onclick="selectVraiFaux(false)">Faux</div>
                    </div>
                    <div id="vfFeedback" class="correction-box" style="display:none; margin-top:15px;"></div>
                </div>
            `;
        }

        function selectVraiFaux(val) {
            if (!vfOrder.length) return;
            if (vfChecked) return;
            vfSelected = val;
            document.getElementById('vfTrue').classList.remove('selected');
            document.getElementById('vfFalse').classList.remove('selected');
            document.getElementById(val ? 'vfTrue' : 'vfFalse').classList.add('selected');
        }

        function checkVraiFaux() {
            if (!vfOrder.length) return;
            if (vfChecked) return;
            if (vfSelected === null) { alert('Choisis Vrai ou Faux.'); return; }

            const item = vraiFauxData[vfOrder[vfIndex]];
            const isCorrect = (vfSelected === item.a);

            // couleurs
            const t = document.getElementById('vfTrue');
            const f = document.getElementById('vfFalse');
            t.classList.remove('selected'); f.classList.remove('selected');
            if (item.a === true) t.classList.add('correct'); else t.classList.add('incorrect');
            if (item.a === false) f.classList.add('correct'); else f.classList.add('incorrect');

            const fb = document.getElementById('vfFeedback');
            fb.style.display = 'block';
            fb.innerHTML = isCorrect ? '<strong>‚úÖ Correct</strong>' : '<strong>‚ùå Incorrect</strong>';
            vfChecked = true;
        }

        function nextVraiFaux() {
            if (!vfOrder.length) return;
            vfIndex++;
            if (vfIndex >= vfOrder.length) {
                alert('S√©rie termin√©e ! üéâ');
                vfOrder = [];
                vfIndex = 0;
                vfSelected = null;
                vfChecked = false;
                renderVraiFaux();
                return;
            }
            vfSelected = null;
            vfChecked = false;
            renderVraiFaux();
        }

        // ========== EXERCICES ==========
        const exercisesData = [
            {
                title: "Exercice 1 ‚Äî Moment au coude (levier 3e genre)",
                statement: "Un patient tient 6 kg √† 35 cm du coude (avant-bras horizontal). Le biceps s'ins√®re √† 5 cm.\n1) Calcule le moment de la charge au coude.\n2) Calcule la force du biceps n√©cessaire (√©quilibre).\n3) Interpr√®te le r√©sultat (avantage m√©canique).",
                help: "√âtapes :\n‚Ä¢ Convertir kg ‚Üí N (√ó9,81)\n‚Ä¢ Moment : M = F √ó d\n‚Ä¢ Force biceps : F = M / d_biceps\n‚Ä¢ AM = d_biceps / d_charge",
                correction: "F_charge = 6√ó9,81 = 58,9 N\nM = 58,9√ó0,35 = 20,6 N¬∑m\nF_biceps = 20,6 / 0,05 = 412 N (‚âà 42 kgf)\nAM = 0,05/0,35 = 0,14 ‚Üí d√©savantage : le muscle doit produire ~7√ó la charge."
            },
            {
                title: "Exercice 2 ‚Äî Travail et puissance (mont√©e de marche)",
                statement: "Une personne de 70 kg monte une marche de 0,20 m.\n1) Estime le travail m√©canique minimal contre la gravit√©.\n2) Si elle met 0,5 s, quelle puissance moyenne ?",
                help: "Travail gravitationnel : W = m√óg√óh.\nPuissance : P = W/Œît.",
                correction: "W = 70√ó9,81√ó0,20 = 137,3 J\nP = 137,3 / 0,5 = 274,6 W"
            },
            {
                title: "Exercice 3 ‚Äî Contrainte dans un tendon",
                statement: "Un tendon supporte 2000 N. Sa section est de 80 mm¬≤.\n1) Calculer la contrainte œÉ en MPa.\n2) Dire ce qui se passe si la section diminue (toutes choses √©gales).",
                help: "Convertir mm¬≤ en m¬≤ : 1 mm¬≤ = 10‚Åª‚Å∂ m¬≤.\nœÉ = F/A.",
                correction: "A = 80√ó10‚Åª‚Å∂ = 8,0√ó10‚Åª‚Åµ m¬≤\nœÉ = 2000 / 8,0√ó10‚Åª‚Åµ = 25 000 000 Pa = 25 MPa\nSi A diminue, œÉ augmente ‚Üí risque m√©canique plus √©lev√©."
            },
            {
                title: "Exercice 4 ‚Äî √âquilibre et base de support",
                statement: "Explique (avec un sch√©ma si tu veux) pourquoi √©carter les pieds am√©liore la stabilit√© en station debout.\nPuis cite 2 strat√©gies posturales utilis√©es quand on est perturb√©.",
                help: "Mots-cl√©s : base de support, projection du centre de gravit√©, polygone de sustentation.\nStrat√©gies : cheville, hanche, pas.",
                correction: "√âcarter les pieds ‚Üë la base de support : la projection du centre de gravit√© a plus de marge avant de sortir du polygone, donc stabilit√© ‚Üë.\nStrat√©gies classiques : strat√©gie de cheville (petites perturbations), strat√©gie de hanche (plus grandes), strat√©gie du pas (r√©cup√©ration)."
            },
            {
                title: "Exercice 5 ‚Äî Analyse simple du cycle de marche",
                statement: "D√©finis les phases 'appui' et 'oscillation' et donne leurs proportions approximatives en marche normale.\nExplique ce qui arrive au double appui quand la vitesse augmente.",
                help: "Retenir : appui ~60%, oscillation ~40% (variable).\nQuand la vitesse ‚Üë, le double appui ‚Üì et peut dispara√Ætre en course.",
                correction: "Appui : pied en contact avec le sol (~60%).\nOscillation : pied en l'air (~40%).\nQuand la vitesse ‚Üë, le temps de double appui diminue ; en course il n'y a plus de double appui (phase a√©rienne)."
            },
            {
                title: "Exercice 6 ‚Äî Levier 2e genre : pointe des pieds (p√©dagogique)",
                statement: "En te basant sur l'outil 'Simulateur de Levier' (type 2), explique pourquoi ce levier est consid√©r√© comme 'avantageux'.\nRelie cela au r√¥le du triceps sural lors de la propulsion.",
                help: "Regarde l'avantage m√©canique AM = d_effort / d_charge.\nSi AM > 1, l'effort n√©cessaire peut √™tre plus faible que la charge.",
                correction: "Dans un levier 2e genre, la charge est entre pivot et effort, et le bras de levier de l'effort est souvent plus grand : AM > 1.\nCela permet au triceps sural de produire la propulsion avec une efficacit√© m√©canique relative (selon les distances), surtout en fin d'appui."
            },
            {
                title: "Exercice 7 ‚Äî Sch√©ma de corps libre (FBD) : sac √† dos",
                statement: "Tu portes un sac √† dos. Explique avec un sch√©ma de corps libre quelles forces externes agissent sur le syst√®me 'corps + sac' en station debout.\nQuel est le r√¥le des forces de r√©action du sol ?",
                help: "Forces externes : poids total (vers le bas), r√©actions du sol (vers le haut) sous chaque pied, √©ventuellement frottements (horizontaux).\nEn statique : Œ£F=0, Œ£M=0.",
                correction: "FBD :\n‚Ä¢ Poids (corps + sac) vers le bas au niveau du centre de gravit√© global.\n‚Ä¢ R√©actions du sol sous les pieds (verticales) + √©ventuelles composantes horizontales si d√©s√©quilibre.\nR√¥le : compenser le poids (Œ£Fy=0) et fournir les moments n√©cessaires pour l'√©quilibre."
            },
            {
                title: "Exercice 8 ‚Äî Interpr√©tation clinique : bras de levier √† l'√©paule",
                statement: "Pourquoi lever le bras tendu (abduction) fatigue rapidement l'√©paule ?\nPropose 2 adaptations pour faciliter l'exercice chez un patient douloureux.",
                help: "Mots-cl√©s : bras de levier, moment, insertion delto√Øde, charge au bout du bras.\nAdaptations : plier le coude, r√©duire amplitude, support du membre, charge plus faible.",
                correction: "Bras tendu : la charge (poids du membre/charge externe) est loin de l'√©paule ‚Üí grand bras de levier ‚Üí moment √©lev√© ‚Üí delto√Øde/coiffe doivent fournir une grande force.\nAdaptations :\n1) Plier le coude ou rapprocher la charge du corps (d diminue).\n2) R√©duire l'amplitude ou utiliser un support/plan inclin√©.\n3) Diminuer la charge externe."
            }

            ,
            {q: "Diff√©rence entre masse et poids ?", a: "Masse (kg) = quantit√© de mati√®re. Poids (N) = force gravitationnelle : P = m√óg."},
            {q: "Qu'est-ce qu'un sch√©ma de corps libre (FBD) ?", a: "Un dessin simplifi√© d'un segment/syst√®me avec toutes les forces externes (et parfois inconnues) et leurs points d'application."},
            {q: "Que signifie d‚ä• dans M = F √ó d‚ä• ?", a: "Le bras de levier perpendiculaire : la distance minimale entre l'axe de rotation et la ligne d'action de la force."},
            {q: "Base de support (BOS) : comment l'augmenter ?", a: "√âcarter les pieds, ajouter un appui (main), √©largir la surface de contact."},
            {q: "Qu'est-ce qu'une force de r√©action du sol (GRF) ?", a: "Force exerc√©e par le sol sur le pied lors du contact ; elle peut √™tre d√©compos√©e en composantes verticale et horizontale."},
            {q: "Qu'est-ce qu'un couple de forces ?", a: "Deux forces parall√®les, oppos√©es et s√©par√©es par une distance, produisant une rotation sans translation nette."},
            {q: "Moment interne vs moment externe ?", a: "Moment externe : d√ª aux forces externes (poids, charge, GRF). Moment interne : produit par muscles/tissus pour √©quilibrer ou cr√©er le mouvement."},
            {q: "Qu'est-ce que la friction (frottement) ?", a: "Force tangentielle qui s'oppose au glissement entre deux surfaces en contact."},
            {q: "D√©finir flexion/extension en termes de plan.", a: "Flexion/extension : mouvements surtout dans le plan sagittal autour d'un axe m√©dio-lat√©ral."},
            {q: "D√©finir abduction/adduction en termes de plan.", a: "Abduction/adduction : surtout dans le plan frontal autour d'un axe ant√©ro-post√©rieur."},
            {q: "D√©finir rotation interne/externe en termes de plan.", a: "Rotations : surtout dans le plan transversal autour d'un axe longitudinal."},
            {q: "Pourquoi le bras de levier varie pendant le mouvement ?", a: "Parce que la ligne d'action d'une force (poids, muscle) et l'axe changent avec l'angle articulaire."},
            {q: "Qu'est-ce que la contrainte de cisaillement ?", a: "Une contrainte li√©e √† des forces parall√®les √† la surface, qui tendent √† faire glisser deux plans l'un sur l'autre."},
            {q: "Visco√©lasticit√© : deux propri√©t√©s simples ?", a: "D√©pendance au temps : fluage (d√©formation augmente sous charge constante) et relaxation (contrainte diminue sous d√©formation constante)."},
            {q: "Pourquoi la posture influence le centre de gravit√© ?", a: "Parce que la distribution de masse des segments change quand on bouge les membres ou le tronc."},
            {q: "Quelle diff√©rence entre centre de masse (CoM) et centre de gravit√© (CoG) ?", a: "En biom√©canique terrestre, on les confond souvent : CoG est le point d'application du poids ; CoM d√©crit la distribution de masse. Ils sont tr√®s proches si g est uniforme."},
            {q: "Dynamique inverse : √† quoi sert-elle en clinique ?", a: "√Ä estimer les moments articulaires nets √† partir du mouvement mesur√© et des forces externes (ex: GRF) pour interpr√©ter la marche ou un geste."},
            {q: "Qu'est-ce qu'un moment articulaire net ?", a: "Le r√©sultat global des contributions musculaires et passives √† l'articulation (souvent pr√©sent√© en N¬∑m)."},
            {q: "Pourquoi plier le coude facilite une abduction de l'√©paule ?", a: "Parce que le poids du membre et/ou la charge se rapprochent de l'√©paule : le bras de levier externe diminue, donc le moment diminue."},
            {q: "Pourquoi le double appui diminue quand on marche plus vite ?", a: "√Ä vitesse plus √©lev√©e, le temps de transfert d'appui se r√©duit ; en course, il peut dispara√Ætre au profit d'une phase a√©rienne."},
            {q: "Qu'est-ce qu'une contrainte en compression ?", a: "Une contrainte qui tend √† √©craser le mat√©riau (forces dirig√©es vers l'int√©rieur)."},
            {q: "Qu'est-ce qu'une contrainte en tension ?", a: "Une contrainte qui tend √† √©tirer le mat√©riau (forces dirig√©es vers l'ext√©rieur)."},
            {q: "Pourquoi l'os et le tendon sont-ils anisotropes ?", a: "Leurs propri√©t√©s m√©caniques d√©pendent de la direction des fibres/structures (collag√®ne, trab√©cules, etc.)."},
            {q: "Diff√©rence force externe / force interne ?", a: "Externe : provient de l'environnement (poids, GRF, charge). Interne : produite par les muscles et tissus (tension, compression)."}

        ];

        function renderExercises() {
            const container = document.getElementById('exercisesContainer');
            container.innerHTML = exercisesData.map((ex, i) => `
                <div class="exercise">
                    <h4>${ex.title}</h4>
                    <p style="white-space:pre-wrap; line-height:1.8;">${ex.statement}</p>
                    <textarea placeholder="√âcris ta r√©ponse ici..."></textarea>
                    <div class="exercise-buttons">
                        <button class="btn-help" onclick="toggleHelp(${i})">üí° Aide</button>
                        <button class="btn-correction" onclick="toggleCorrection(${i})">‚úÖ Correction</button>
                    </div>
                    <div class="help-box" id="help${i}">
                        <strong>Indices :</strong><br><pre style="white-space:pre-wrap; font-family:inherit; margin-top:10px;">${ex.help}</pre>
                    </div>
                    <div class="correction-box" id="correction${i}">
                        <strong>Correction :</strong><br><pre style="white-space:pre-wrap; font-family:inherit; margin-top:10px;">${ex.correction}</pre>
                    </div>
                </div>
            `).join('');
        }

        function toggleHelp(i) {
            const el = document.getElementById('help' + i);
            if (!el) return;
            el.classList.toggle('active');
        }

        function toggleCorrection(i) {
            const el = document.getElementById('correction' + i);
            if (!el) return;
            el.classList.toggle('active');
        }

        // ========== INITIALISATION ==========
        window.onload = function() {
            initFlashcards();
            drawLever();
            renderQuiz();
            renderQCM();
            renderVraiFaux();
            renderExercises();
        };
    </script>
</body>
</html>
